node.exe : ESLint found too 
many warnings (maximum: 0).
No linha:1 caractere:1
+ & "C:\Program 
Files\nodejs/node.exe" 
"C:\Program 
Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~
    + CategoryInfo           
   : NotSpecified: (ESLint   
  found to...s (maximum: 0   
 ).:String) [], RemoteExc    
eption
    + FullyQualifiedErrorId  
   : NativeCommandError
 
[{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\(auth)\\forgot-password\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":29,"fix":{"range":[16,80],"text":"import Link from 'next/link'\r\nimport { useState } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@hookform/resolvers/zod` import should occur before import of `react`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":54,"fix":{"range":[16,178],"text":"import { zodResolver } from '@hookform/resolvers/zod'\r\nimport { useState } from 'react'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'toast' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":15},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":69,"fix":{"range":[16,280],"text":"import { Loader2, Mail, ArrowLeft, CheckCircle } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/validations`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":48,"fix":{"range":[282,415],"text":"import { Button } from '@/components/ui/button'\r\nimport { forgotPasswordSchema, type ForgotPasswordInput } from '@/lib/validations'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/lib/validations`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":46,"fix":{"range":[282,462],"text":"import { Input } from '@/components/ui/input'\r\nimport { forgotPasswordSchema, type ForgotPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/label` import should occur before import of `@/lib/validations`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":46,"fix":{"range":[282,509],"text":"import { Label } from '@/components/ui/label'\r\nimport { forgotPasswordSchema, type ForgotPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/validations`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":109,"fix":{"range":[282,619],"text":"import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { forgotPasswordSchema, type ForgotPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'response' is assigned a value but never used.","line":36,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":44,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":44,"endColumn":23},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":34,"fix":{"range":[3389,3511],"text":"className=\"w-full\"\r\n                        variant=\"outline\"\r\n                        onClick={() => setIsSuccess(false)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":86,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":86,"endColumn":50,"fix":{"range":[3639,3671],"text":"className=\"w-full\" href=\"/login\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":112,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":112,"endColumn":34,"fix":{"range":[4731,4921],"text":"d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":134,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":134,"endColumn":44,"fix":{"range":[5805,6027],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":135,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":135,"endColumn":42,"fix":{"range":[5805,6027],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":136,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":136,"endColumn":41,"fix":{"range":[5805,6027],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":149,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":149,"endColumn":34,"fix":{"range":[6490,6712],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":150,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":150,"endColumn":33,"fix":{"range":[6490,6712],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":164,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":164,"endColumn":34,"fix":{"range":[7171,7366],"text":"className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                        href=\"/login\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":16,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\nimport { Loader2, Mail, ArrowLeft, CheckCircle } from 'lucide-react'\r\n\r\nimport { forgotPasswordSchema, type ForgotPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport default function ForgotPasswordPage() {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isSuccess, setIsSuccess] = useState(false)\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n        getValues,\r\n    } = useForm<ForgotPasswordInput>({\r\n        resolver: zodResolver(forgotPasswordSchema),\r\n        defaultValues: {\r\n            email: '',\r\n        },\r\n    })\r\n\r\n    const onSubmit = async (data: ForgotPasswordInput) => {\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            const response = await fetch('/api/auth/forgot-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(data),\r\n            })\r\n\r\n            // Sempre mostra sucesso por seguran├ºa (n├úo revelar se email existe)\r\n            setIsSuccess(true)\r\n        } catch (error) {\r\n            // Mesmo em erro, mostrar sucesso por seguran├ºa\r\n            setIsSuccess(true)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    // Tela de sucesso\r\n    if (isSuccess) {\r\n        return (\r\n            <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4\">\r\n                        <CheckCircle className=\"h-8 w-8 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <CardTitle className=\"text-2xl font-bold\">Email enviado!</CardTitle>\r\n                    <CardDescription className=\"text-base\">\r\n                        Se existe uma conta com o email <strong>{getValues('email')}</strong>, voc├¬ receber├í um link para redefinir sua senha.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n\r\n                <CardContent className=\"space-y-4\">\r\n                    <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 text-sm text-amber-800 dark:text-amber-200\">\r\n                        <p className=\"font-medium mb-1\">N├úo recebeu o email?</p>\r\n                        <ul className=\"list-disc list-inside space-y-1 text-amber-700 dark:text-amber-300\">\r\n                            <li>Verifique sua caixa de spam</li>\r\n                            <li>Confirme se digitou o email correto</li>\r\n                            <li>Aguarde alguns minutos e tente novamente</li>\r\n                        </ul>\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col gap-4\">\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full\"\r\n                        onClick={() => setIsSuccess(false)}\r\n                    >\r\n                        Tentar outro email\r\n                    </Button>\r\n\r\n                    <Link href=\"/login\" className=\"w-full\">\r\n                        <Button className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white\">\r\n                            Voltar para login\r\n                        </Button>\r\n                    </Link>\r\n                </CardFooter>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n            <CardHeader className=\"space-y-1 text-center\">\r\n                {/* Logo mobile */}\r\n                <div className=\"lg:hidden mb-4\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg\">\r\n                        <svg\r\n                            className=\"w-10 h-10 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                        >\r\n                            <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <CardTitle className=\"text-2xl font-bold\">Esqueceu sua senha?</CardTitle>\r\n                <CardDescription>\r\n                    Digite seu email e enviaremos instru├º├Áes para redefinir sua senha\r\n                </CardDescription>\r\n            </CardHeader>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <CardContent className=\"space-y-4\">\r\n                    {/* Email */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <div className=\"relative\">\r\n                            <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                {...register('email')}\r\n                            />\r\n                        </div>\r\n                        {errors.email && (\r\n                            <p className=\"text-sm text-red-500\">{errors.email.message}</p>\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col gap-4\">\r\n                    <Button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                    >\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                Enviando...\r\n                            </>\r\n                        ) : (\r\n                            'Enviar link de recupera├º├úo'\r\n                        )}\r\n                    </Button>\r\n\r\n                    <Link\r\n                        href=\"/login\"\r\n                        className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4\" />\r\n                        Voltar para login\r\n                    </Link>\r\n                </CardFooter>\r\n            </form>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\(auth)\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/image` import should occur before import of `next/navigation`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":31,"fix":{"range":[0,164],"text":"import Image from 'next/image'\r\nimport { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Image' is defined but never used.","line":4,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":13},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":49,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":49,"endColumn":42,"fix":{"range":[1907,2121],"text":"d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                        strokeWidth={2}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":67,"fix":{"range":[3012,3168],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":185,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":193,"fix":{"range":[3012,3168],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":72,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":72,"endColumn":67,"fix":{"range":[3724,3880],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":72,"column":185,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":72,"endColumn":193,"fix":{"range":[3724,3880],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":67,"fix":{"range":[4434,4590],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":185,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":193,"fix":{"range":[4434,4590],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":88,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":88,"endColumn":67,"fix":{"range":[5138,5294],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":88,"column":185,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":88,"endColumn":193,"fix":{"range":[5138,5294],"text":"clipRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fillRule=\"evenodd\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":12,"source":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport Image from 'next/image'\r\n\r\ninterface AuthLayoutProps {\r\n    children: React.ReactNode\r\n}\r\n\r\nexport default async function AuthLayout({ children }: AuthLayoutProps) {\r\n    // Verificar se j├í est├í logado\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (session) {\r\n        // Redirecionar baseado no tipo\r\n        switch (session.user.type) {\r\n            case 'ADMIN':\r\n                redirect('/admin')\r\n            case 'MEMBER':\r\n                redirect('/member')\r\n            default:\r\n                redirect('/dashboard')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex\">\r\n            {/* Lado esquerdo - Imagem de fundo */}\r\n            <div className=\"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-green-600 via-green-500 to-emerald-400\">\r\n                {/* Overlay com padr├úo */}\r\n                <div className=\"absolute inset-0 bg-black/20\" />\r\n\r\n                {/* Conte├║do sobre a imagem */}\r\n                <div className=\"relative z-10 flex flex-col justify-center items-center p-12 text-white\">\r\n                    <div className=\"max-w-md text-center\">\r\n                        {/* Logo ou t├¡tulo */}\r\n                        <div className=\"mb-8\">\r\n                            <div className=\"w-20 h-20 mx-auto bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6\">\r\n                                <svg\r\n                                    className=\"w-12 h-12 text-white\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                >\r\n                                    <path\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                        strokeWidth={2}\r\n                                        d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                                    />\r\n                                </svg>\r\n                            </div>\r\n                            <h1 className=\"text-4xl font-bold mb-4\">Checkout Platform</h1>\r\n                            <p className=\"text-xl text-white/80\">\r\n                                A plataforma completa para vender seus produtos digitais\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Features */}\r\n                        <div className=\"space-y-4 text-left\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0\">\r\n                                    <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <span>Checkout otimizado para convers├úo</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0\">\r\n                                    <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <span>M├║ltiplos gateways de pagamento</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0\">\r\n                                    <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <span>├ürea de membros integrada</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0\">\r\n                                    <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <span>Dashboard completo com m├®tricas</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Decora├º├úo de fundo */}\r\n                <div className=\"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/20 to-transparent\" />\r\n            </div>\r\n\r\n            {/* Lado direito - Formul├írio */}\r\n            <div className=\"flex-1 flex flex-col justify-center items-center p-8 bg-gray-50 dark:bg-gray-900\">\r\n                <div className=\"w-full max-w-md\">\r\n                    {children}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\">\r\n                    <p>┬® {new Date().getFullYear()} Checkout Platform. Todos os direitos reservados.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\(auth)\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":29},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":41,"fix":{"range":[16,103],"text":"import { signIn } from 'next-auth/react'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":44,"fix":{"range":[16,148],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":29,"fix":{"range":[16,178],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@hookform/resolvers/zod` import should occur before import of `react`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":54,"fix":{"range":[16,276],"text":"import { zodResolver } from '@hookform/resolvers/zod'\r\nimport { useState, useEffect } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":91,"fix":{"range":[16,400],"text":"import { Loader2, User, Mail, Lock, Eye, EyeOff, Phone, CheckCircle2 } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/validations`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":48,"fix":{"range":[402,523],"text":"import { Button } from '@/components/ui/button'\r\nimport { registerSchema, type RegisterInput } from '@/lib/validations'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/lib/validations`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":46,"fix":{"range":[402,570],"text":"import { Input } from '@/components/ui/input'\r\nimport { registerSchema, type RegisterInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/label` import should occur before import of `@/lib/validations`","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":46,"fix":{"range":[402,617],"text":"import { Label } from '@/components/ui/label'\r\nimport { registerSchema, type RegisterInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/validations`","line":16,"column":1,"nodeType":"ImportDeclaration","endLine":16,"endColumn":109,"fix":{"range":[402,727],"text":"import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { registerSchema, type RegisterInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":122,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":122,"endColumn":23},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":147,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":147,"endColumn":34,"fix":{"range":[5211,5401],"text":"d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":169,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":169,"endColumn":44,"fix":{"range":[6271,6495],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"name\"\r\n                                placeholder=\"Seu nome completo\"\r\n                                type=\"text\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":170,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":170,"endColumn":42,"fix":{"range":[6271,6495],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"name\"\r\n                                placeholder=\"Seu nome completo\"\r\n                                type=\"text\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":171,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":171,"endColumn":41,"fix":{"range":[6271,6495],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"name\"\r\n                                placeholder=\"Seu nome completo\"\r\n                                type=\"text\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":188,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":188,"endColumn":44,"fix":{"range":[7187,7409],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":189,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":189,"endColumn":42,"fix":{"range":[7187,7409],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":190,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":190,"endColumn":41,"fix":{"range":[7187,7409],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":209,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":209,"endColumn":44,"fix":{"range":[8223,8607],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"phone\"\r\n                                maxLength={16}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={phoneValue}\r\n                                onChange={handlePhoneChange}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":210,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":210,"endColumn":42,"fix":{"range":[8223,8607],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"phone\"\r\n                                maxLength={16}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={phoneValue}\r\n                                onChange={handlePhoneChange}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":211,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":211,"endColumn":41,"fix":{"range":[8223,8607],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"phone\"\r\n                                maxLength={16}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={phoneValue}\r\n                                onChange={handlePhoneChange}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":213,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":213,"endColumn":41,"fix":{"range":[8223,8607],"text":"className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                id=\"phone\"\r\n                                maxLength={16}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={phoneValue}\r\n                                onChange={handlePhoneChange}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":233,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":233,"endColumn":44,"fix":{"range":[9416,9682],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":234,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":234,"endColumn":42,"fix":{"range":[9416,9682],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":235,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":235,"endColumn":41,"fix":{"range":[9416,9682],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":240,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":240,"endColumn":40,"fix":{"range":[9844,10058],"text":"className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":276,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":276,"endColumn":44,"fix":{"range":[11731,12008],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":277,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":277,"endColumn":42,"fix":{"range":[11731,12008],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":278,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":278,"endColumn":41,"fix":{"range":[11731,12008],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":283,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":283,"endColumn":40,"fix":{"range":[12177,12405],"text":"className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                                type=\"button\"\r\n                                onClick={() => setShowConfirmPassword(!showConfirmPassword)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":301,"column":46,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":301,"endColumn":55,"fix":{"range":[13201,13258],"text":"className=\"text-green-600 hover:underline\" href=\"/termos\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":305,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":305,"endColumn":60,"fix":{"range":[13404,13466],"text":"className=\"text-green-600 hover:underline\" href=\"/privacidade\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":315,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":315,"endColumn":34,"fix":{"range":[13757,13979],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":316,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":316,"endColumn":33,"fix":{"range":[13757,13979],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":332,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":332,"endColumn":38,"fix":{"range":[14580,14718],"text":"className=\"font-medium text-green-600 hover:text-green-700 dark:text-green-400 hover:underline\"\r\n                            href=\"/login\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":35,"fixableErrorCount":0,"fixableWarningCount":33,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\nimport { Loader2, User, Mail, Lock, Eye, EyeOff, Phone, CheckCircle2 } from 'lucide-react'\r\n\r\nimport { registerSchema, type RegisterInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\n/**\r\n * Formata telefone para (DD) 9XXXX-XXXX\r\n */\r\nfunction formatPhoneInput(value: string): string {\r\n    const digits = value.replace(/\\D/g, '')\r\n\r\n    if (digits.length <= 2) {\r\n        return digits.length > 0 ? `(${digits}` : ''\r\n    }\r\n    if (digits.length <= 7) {\r\n        return `(${digits.slice(0, 2)}) ${digits.slice(2)}`\r\n    }\r\n    if (digits.length <= 11) {\r\n        const hasNine = digits.length === 11\r\n        if (hasNine) {\r\n            return `(${digits.slice(0, 2)}) ${digits.slice(2, 7)}-${digits.slice(7)}`\r\n        }\r\n        return `(${digits.slice(0, 2)}) ${digits.slice(2, 6)}-${digits.slice(6)}`\r\n    }\r\n    return `(${digits.slice(0, 2)}) ${digits.slice(2, 7)}-${digits.slice(7, 11)}`\r\n}\r\n\r\nexport default function RegisterPage() {\r\n    const router = useRouter()\r\n    const [showPassword, setShowPassword] = useState(false)\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [phoneValue, setPhoneValue] = useState('')\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        setValue,\r\n        watch,\r\n        formState: { errors },\r\n    } = useForm<RegisterInput>({\r\n        resolver: zodResolver(registerSchema),\r\n        defaultValues: {\r\n            name: '',\r\n            email: '',\r\n            phone: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n        },\r\n    })\r\n\r\n    // Observar mudan├ºas na senha para valida├º├úo visual\r\n    const password = watch('password')\r\n    const passwordRequirements = {\r\n        minLength: password?.length >= 6,\r\n    }\r\n\r\n    // Handler para formatar telefone\r\n    const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const formatted = formatPhoneInput(e.target.value)\r\n        setPhoneValue(formatted)\r\n        // Enviar apenas d├¡gitos para o form\r\n        setValue('phone', e.target.value.replace(/\\D/g, ''), { shouldValidate: true })\r\n    }\r\n\r\n    const onSubmit = async (data: RegisterInput) => {\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            const response = await fetch('/api/auth/register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(data),\r\n            })\r\n\r\n            const result = await response.json()\r\n\r\n            if (!response.ok) {\r\n                toast.error('Erro ao criar conta', {\r\n                    description: result.error || 'Tente novamente mais tarde.',\r\n                })\r\n                return\r\n            }\r\n\r\n            // Se conta foi atualizada (era membro, virou infoprodutor)\r\n            if (result.upgraded) {\r\n                toast.success('Conta atualizada!', {\r\n                    description: 'Sua conta foi convertida para infoprodutor.',\r\n                })\r\n            } else {\r\n                toast.success('Conta criada com sucesso!', {\r\n                    description: 'Fazendo login automaticamente...',\r\n                })\r\n            }\r\n\r\n            // Login autom├ítico\r\n            const signInResult = await signIn('credentials', {\r\n                email: data.email,\r\n                password: data.password,\r\n                redirect: false,\r\n            })\r\n\r\n            if (signInResult?.ok) {\r\n                router.push('/dashboard')\r\n                router.refresh()\r\n            } else {\r\n                // Se login autom├ítico falhar, redirecionar para login\r\n                router.push('/login')\r\n            }\r\n        } catch (error) {\r\n            toast.error('Erro ao criar conta', {\r\n                description: 'Ocorreu um erro inesperado. Tente novamente.',\r\n            })\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n            <CardHeader className=\"space-y-1 text-center\">\r\n                {/* Logo mobile */}\r\n                <div className=\"lg:hidden mb-4\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg\">\r\n                        <svg\r\n                            className=\"w-10 h-10 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                        >\r\n                            <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <CardTitle className=\"text-2xl font-bold\">Criar sua conta</CardTitle>\r\n                <CardDescription>\r\n                    Comece a vender seus produtos digitais hoje mesmo\r\n                </CardDescription>\r\n            </CardHeader>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <CardContent className=\"space-y-4\">\r\n                    {/* Nome */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"name\">Nome completo</Label>\r\n                        <div className=\"relative\">\r\n                            <User className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"name\"\r\n                                type=\"text\"\r\n                                placeholder=\"Seu nome completo\"\r\n                                className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                {...register('name')}\r\n                            />\r\n                        </div>\r\n                        {errors.name && (\r\n                            <p className=\"text-sm text-red-500\">{errors.name.message}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Email */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <div className=\"relative\">\r\n                            <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                {...register('email')}\r\n                            />\r\n                        </div>\r\n                        {errors.email && (\r\n                            <p className=\"text-sm text-red-500\">{errors.email.message}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Telefone com DDD */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"phone\">\r\n                            Telefone com DDD <span className=\"text-red-500\">*</span>\r\n                        </Label>\r\n                        <div className=\"relative\">\r\n                            <Phone className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"phone\"\r\n                                type=\"tel\"\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                className=\"pl-10\"\r\n                                disabled={isLoading}\r\n                                value={phoneValue}\r\n                                onChange={handlePhoneChange}\r\n                                maxLength={16}\r\n                            />\r\n                        </div>\r\n                        {errors.phone && (\r\n                            <p className=\"text-sm text-red-500\">{errors.phone.message}</p>\r\n                        )}\r\n                        <p className=\"text-xs text-gray-500\">\r\n                            Formato: (DDD) + n├║mero. Ex: (11) 99999-9999\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Senha */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"password\">Senha</Label>\r\n                        <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"password\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                {...register('password')}\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                {showPassword ? (\r\n                                    <EyeOff className=\"h-4 w-4\" />\r\n                                ) : (\r\n                                    <Eye className=\"h-4 w-4\" />\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                        {errors.password && (\r\n                            <p className=\"text-sm text-red-500\">{errors.password.message}</p>\r\n                        )}\r\n\r\n                        {/* Indicador de for├ºa da senha */}\r\n                        <div className=\"flex items-center gap-2 text-xs\">\r\n                            <CheckCircle2\r\n                                className={`h-3.5 w-3.5 ${passwordRequirements.minLength\r\n                                        ? 'text-green-500'\r\n                                        : 'text-gray-300'\r\n                                    }`}\r\n                            />\r\n                            <span className={passwordRequirements.minLength ? 'text-green-600' : 'text-gray-400'}>\r\n                                M├¡nimo 6 caracteres\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Confirmar Senha */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"confirmPassword\">Confirmar senha</Label>\r\n                        <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"confirmPassword\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}\r\n                                placeholder=\"Repita sua senha\"\r\n                                className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                {...register('confirmPassword')}\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                {showConfirmPassword ? (\r\n                                    <EyeOff className=\"h-4 w-4\" />\r\n                                ) : (\r\n                                    <Eye className=\"h-4 w-4\" />\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                        {errors.confirmPassword && (\r\n                            <p className=\"text-sm text-red-500\">{errors.confirmPassword.message}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Termos */}\r\n                    <p className=\"text-xs text-gray-500 text-center\">\r\n                        Ao criar sua conta, voc├¬ concorda com nossos{' '}\r\n                        <Link href=\"/termos\" className=\"text-green-600 hover:underline\">\r\n                            Termos de Uso\r\n                        </Link>{' '}\r\n                        e{' '}\r\n                        <Link href=\"/privacidade\" className=\"text-green-600 hover:underline\">\r\n                            Pol├¡tica de Privacidade\r\n                        </Link>\r\n                        .\r\n                    </p>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col gap-4\">\r\n                    <Button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                    >\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                Criando conta...\r\n                            </>\r\n                        ) : (\r\n                            'Criar minha conta'\r\n                        )}\r\n                    </Button>\r\n\r\n                    <p className=\"text-center text-sm text-gray-600 dark:text-gray-400\">\r\n                        J├í tem uma conta?{' '}\r\n                        <Link\r\n                            href=\"/login\"\r\n                            className=\"font-medium text-green-600 hover:text-green-700 dark:text-green-400 hover:underline\"\r\n                        >\r\n                            Fazer login\r\n                        </Link>\r\n                    </p>\r\n                </CardFooter>\r\n            </form>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\(auth)\\reset-password\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[16,123],"text":"import { useRouter, useSearchParams } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":29,"fix":{"range":[16,153],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@hookform/resolvers/zod` import should occur before import of `react`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":54,"fix":{"range":[16,251],"text":"import { zodResolver } from '@hookform/resolvers/zod'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":91,"fix":{"range":[16,375],"text":"import { Loader2, Lock, Eye, EyeOff, CheckCircle, XCircle, ArrowLeft } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/validations`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":48,"fix":{"range":[377,508],"text":"import { Button } from '@/components/ui/button'\r\nimport { resetPasswordSchema, type ResetPasswordInput } from '@/lib/validations'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/lib/validations`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":46,"fix":{"range":[377,555],"text":"import { Input } from '@/components/ui/input'\r\nimport { resetPasswordSchema, type ResetPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/label` import should occur before import of `@/lib/validations`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":46,"fix":{"range":[377,602],"text":"import { Label } from '@/components/ui/label'\r\nimport { resetPasswordSchema, type ResetPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/validations`","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":109,"fix":{"range":[377,712],"text":"import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { resetPasswordSchema, type ResetPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":18,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":59,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":59,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":90,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":90,"endColumn":23},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":128,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":128,"endColumn":60,"fix":{"range":[4732,4774],"text":"className=\"w-full\" href=\"/forgot-password\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":136,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":136,"endColumn":34,"fix":{"range":[5096,5291],"text":"className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                        href=\"/login\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":161,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":161,"endColumn":50,"fix":{"range":[6371,6403],"text":"className=\"w-full\" href=\"/login\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":187,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":187,"endColumn":34,"fix":{"range":[7476,7666],"text":"d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":209,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":209,"endColumn":44,"fix":{"range":[8523,8789],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":210,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":210,"endColumn":42,"fix":{"range":[8523,8789],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":211,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":211,"endColumn":41,"fix":{"range":[8523,8789],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type={showPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":216,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":216,"endColumn":40,"fix":{"range":[8951,9165],"text":"className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":239,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":239,"endColumn":44,"fix":{"range":[10147,10429],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua nova senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":240,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":240,"endColumn":42,"fix":{"range":[10147,10429],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua nova senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":241,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":241,"endColumn":41,"fix":{"range":[10147,10429],"text":"className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita sua nova senha\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":246,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":246,"endColumn":40,"fix":{"range":[10598,10826],"text":"className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                                type=\"button\"\r\n                                onClick={() => setShowConfirmPassword(!showConfirmPassword)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":265,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":265,"endColumn":34,"fix":{"range":[11557,11779],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":266,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":266,"endColumn":33,"fix":{"range":[11557,11779],"text":"className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                        type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":280,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":280,"endColumn":34,"fix":{"range":[12230,12425],"text":"className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                        href=\"/login\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":23,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from 'sonner'\r\nimport { Loader2, Lock, Eye, EyeOff, CheckCircle, XCircle, ArrowLeft } from 'lucide-react'\r\n\r\nimport { resetPasswordSchema, type ResetPasswordInput } from '@/lib/validations'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport default function ResetPasswordPage() {\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n    const token = searchParams.get('token')\r\n\r\n    const [showPassword, setShowPassword] = useState(false)\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isValidating, setIsValidating] = useState(true)\r\n    const [isValidToken, setIsValidToken] = useState(false)\r\n    const [isSuccess, setIsSuccess] = useState(false)\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        setValue,\r\n        formState: { errors },\r\n    } = useForm<ResetPasswordInput>({\r\n        resolver: zodResolver(resetPasswordSchema),\r\n        defaultValues: {\r\n            token: token || '',\r\n            password: '',\r\n            confirmPassword: '',\r\n        },\r\n    })\r\n\r\n    // Validar token ao carregar\r\n    useEffect(() => {\r\n        if (!token) {\r\n            setIsValidating(false)\r\n            setIsValidToken(false)\r\n            return\r\n        }\r\n\r\n        setValue('token', token)\r\n\r\n        // Validar token com a API\r\n        const validateToken = async () => {\r\n            try {\r\n                const response = await fetch(`/api/auth/validate-reset-token?token=${token}`)\r\n                const result = await response.json()\r\n                setIsValidToken(result.valid)\r\n            } catch (error) {\r\n                setIsValidToken(false)\r\n            } finally {\r\n                setIsValidating(false)\r\n            }\r\n        }\r\n\r\n        validateToken()\r\n    }, [token, setValue])\r\n\r\n    const onSubmit = async (data: ResetPasswordInput) => {\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            const response = await fetch('/api/auth/reset-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(data),\r\n            })\r\n\r\n            const result = await response.json()\r\n\r\n            if (!response.ok) {\r\n                toast.error('Erro ao redefinir senha', {\r\n                    description: result.error || 'Tente novamente.',\r\n                })\r\n                return\r\n            }\r\n\r\n            setIsSuccess(true)\r\n            toast.success('Senha redefinida com sucesso!')\r\n        } catch (error) {\r\n            toast.error('Erro ao redefinir senha', {\r\n                description: 'Ocorreu um erro inesperado. Tente novamente.',\r\n            })\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    // Loading de valida├º├úo\r\n    if (isValidating) {\r\n        return (\r\n            <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n                <CardContent className=\"py-12\">\r\n                    <div className=\"flex flex-col items-center justify-center gap-4\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin text-green-600\" />\r\n                        <p className=\"text-gray-600 dark:text-gray-400\">Validando link...</p>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    // Token inv├ílido ou expirado\r\n    if (!isValidToken) {\r\n        return (\r\n            <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4\">\r\n                        <XCircle className=\"h-8 w-8 text-red-600 dark:text-red-400\" />\r\n                    </div>\r\n                    <CardTitle className=\"text-2xl font-bold\">Link inv├ílido ou expirado</CardTitle>\r\n                    <CardDescription className=\"text-base\">\r\n                        Este link de recupera├º├úo de senha n├úo ├® v├ílido ou j├í expirou.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n\r\n                <CardFooter className=\"flex flex-col gap-4\">\r\n                    <Link href=\"/forgot-password\" className=\"w-full\">\r\n                        <Button className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white\">\r\n                            Solicitar novo link\r\n                        </Button>\r\n                    </Link>\r\n\r\n                    <Link\r\n                        href=\"/login\"\r\n                        className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4\" />\r\n                        Voltar para login\r\n                    </Link>\r\n                </CardFooter>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    // Sucesso\r\n    if (isSuccess) {\r\n        return (\r\n            <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4\">\r\n                        <CheckCircle className=\"h-8 w-8 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <CardTitle className=\"text-2xl font-bold\">Senha redefinida!</CardTitle>\r\n                    <CardDescription className=\"text-base\">\r\n                        Sua senha foi alterada com sucesso. Voc├¬ j├í pode fazer login com sua nova senha.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n\r\n                <CardFooter>\r\n                    <Link href=\"/login\" className=\"w-full\">\r\n                        <Button className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\">\r\n                            Fazer login\r\n                        </Button>\r\n                    </Link>\r\n                </CardFooter>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Card className=\"border-0 shadow-xl bg-white dark:bg-gray-800\">\r\n            <CardHeader className=\"space-y-1 text-center\">\r\n                {/* Logo mobile */}\r\n                <div className=\"lg:hidden mb-4\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg\">\r\n                        <svg\r\n                            className=\"w-10 h-10 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                        >\r\n                            <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <CardTitle className=\"text-2xl font-bold\">Criar nova senha</CardTitle>\r\n                <CardDescription>\r\n                    Digite sua nova senha abaixo\r\n                </CardDescription>\r\n            </CardHeader>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <CardContent className=\"space-y-4\">\r\n                    {/* Nova Senha */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"password\">Nova senha</Label>\r\n                        <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"password\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                {...register('password')}\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                {showPassword ? (\r\n                                    <EyeOff className=\"h-4 w-4\" />\r\n                                ) : (\r\n                                    <Eye className=\"h-4 w-4\" />\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                        {errors.password && (\r\n                            <p className=\"text-sm text-red-500\">{errors.password.message}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Confirmar Nova Senha */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"confirmPassword\">Confirmar nova senha</Label>\r\n                        <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"confirmPassword\"\r\n                                type={showConfirmPassword ? 'text' : 'password'}\r\n                                placeholder=\"Repita sua nova senha\"\r\n                                className=\"pl-10 pr-10\"\r\n                                disabled={isLoading}\r\n                                {...register('confirmPassword')}\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                {showConfirmPassword ? (\r\n                                    <EyeOff className=\"h-4 w-4\" />\r\n                                ) : (\r\n                                    <Eye className=\"h-4 w-4\" />\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                        {errors.confirmPassword && (\r\n                            <p className=\"text-sm text-red-500\">{errors.confirmPassword.message}</p>\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col gap-4\">\r\n                    <Button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-5\"\r\n                        disabled={isLoading}\r\n                    >\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                Redefinindo...\r\n                            </>\r\n                        ) : (\r\n                            'Redefinir senha'\r\n                        )}\r\n                    </Button>\r\n\r\n                    <Link\r\n                        href=\"/login\"\r\n                        className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 transition-colors\"\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4\" />\r\n                        Voltar para login\r\n                    </Link>\r\n                </CardFooter>\r\n            </form>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/admin/sidebar` import should occur before import of `@/lib/auth`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":58,"fix":{"range":[46,191],"text":"import { AdminSidebar } from '@/components/admin/sidebar'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/admin/header` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":56,"fix":{"range":[46,248],"text":"import { AdminHeader } from '@/components/admin/header'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { AdminSidebar } from '@/components/admin/sidebar'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { AdminSidebar } from '@/components/admin/sidebar'\r\nimport { AdminHeader } from '@/components/admin/header'\r\n\r\nexport default async function AdminLayout({ children }: { children: React.ReactNode }) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Verificar se ├® admin\r\n    if (session.user.type !== 'admin') {\r\n        redirect('/dashboard')\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen bg-muted/10\">\r\n            <AdminSidebar />\r\n            <div className=\"flex-1 flex flex-col md:ml-64 transition-all duration-300\">\r\n                <AdminHeader />\r\n                <main className=\"flex-1 p-6 overflow-y-auto\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":97,"fix":{"range":[263,263],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":97,"fix":{"range":[46,265],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":94,"fix":{"range":[0,360],"text":"import { Users, Package, DollarSign, TrendingUp, ShoppingCart, Settings } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingUp' is defined but never used.","line":6,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":48},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":29,"fix":{"range":[388,388],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `next-auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":29,"fix":{"range":[0,390],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Users, Package, DollarSign, TrendingUp, ShoppingCart, Settings } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":48,"fix":{"range":[46,439],"text":"import { Button } from '@/components/ui/button'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Users, Package, DollarSign, TrendingUp, ShoppingCart, Settings } from 'lucide-react'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":16},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":164,"column":48,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":164,"endColumn":57,"fix":{"range":[7451,7532],"text":"className=\"flex items-center justify-between p-4 border rounded-lg\" key={user.id}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":11,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Users, Package, DollarSign, TrendingUp, ShoppingCart, Settings } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\n\r\nexport default async function AdminDashboard() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Verificar se ├® admin\r\n    if (session.user.type !== 'admin') {\r\n        redirect('/dashboard')\r\n    }\r\n\r\n    // Estat├¡sticas gerais do sistema\r\n    const [totalUsers, totalProducts, totalSales, totalRevenue] = await Promise.all([\r\n        prisma.usuarios.count(),\r\n        prisma.produtos.count(),\r\n        prisma.vendas.count({ where: { status_pagamento: 'approved' } }),\r\n        prisma.vendas.aggregate({\r\n            where: { status_pagamento: 'approved' },\r\n            _sum: { valor: true }\r\n        })\r\n    ])\r\n\r\n    const formatCurrency = (value: number) => {\r\n        return new Intl.NumberFormat('pt-BR', {\r\n            style: 'currency',\r\n            currency: 'BRL'\r\n        }).format(value)\r\n    }\r\n\r\n    // ├Ültimos usu├írios cadastrados\r\n    const recentUsers = await prisma.usuarios.findMany({\r\n        take: 5,\r\n        orderBy: { createdAt: 'desc' },\r\n        select: { id: true, usuario: true, nome: true, tipo: true, createdAt: true }\r\n    })\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div>\r\n                <h1 className=\"text-3xl font-bold tracking-tight\">Painel Administrativo</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Gerencie todos os usu├írios e configura├º├Áes do sistema\r\n                </p>\r\n            </div>\r\n\r\n            {/* KPIs */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Usu├írios</CardTitle>\r\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalUsers}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Infoprodutores cadastrados\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Produtos</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalProducts}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Produtos na plataforma\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Vendas</CardTitle>\r\n                        <ShoppingCart className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalSales}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Vendas aprovadas\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Receita Total</CardTitle>\r\n                        <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">\r\n                            {formatCurrency(Number(totalRevenue._sum.valor || 0))}\r\n                        </div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Faturamento da plataforma\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Quick Actions */}\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <Card className=\"hover:shadow-lg transition-shadow cursor-pointer\">\r\n                    <Link href=\"/admin/users\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <Users className=\"w-5 h-5 text-primary\" />\r\n                                Gerenciar Usu├írios\r\n                            </CardTitle>\r\n                            <CardDescription>\r\n                                Ver e gerenciar todos os infoprodutores\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                    </Link>\r\n                </Card>\r\n                <Card className=\"hover:shadow-lg transition-shadow cursor-pointer\">\r\n                    <Link href=\"/admin/products\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <Package className=\"w-5 h-5 text-primary\" />\r\n                                Todos os Produtos\r\n                            </CardTitle>\r\n                            <CardDescription>\r\n                                Ver todos os produtos da plataforma\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                    </Link>\r\n                </Card>\r\n                <Card className=\"hover:shadow-lg transition-shadow cursor-pointer\">\r\n                    <Link href=\"/admin/settings\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <Settings className=\"w-5 h-5 text-primary\" />\r\n                                Configura├º├Áes\r\n                            </CardTitle>\r\n                            <CardDescription>\r\n                                Configura├º├Áes globais do sistema\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                    </Link>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Recent Users */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Usu├írios Recentes</CardTitle>\r\n                    <CardDescription>\r\n                        ├Ültimos usu├írios cadastrados na plataforma\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-4\">\r\n                        {recentUsers.map((user) => (\r\n                            <div key={user.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                                        <span className=\"text-sm font-semibold text-primary\">\r\n                                            {user.nome?.charAt(0).toUpperCase() || user.usuario.charAt(0).toUpperCase()}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-medium\">{user.nome || user.usuario}</p>\r\n                                        <p className=\"text-sm text-muted-foreground\">{user.usuario}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-sm text-muted-foreground\">\r\n                                    {user.tipo}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\products\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":97,"fix":{"range":[46,265],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[46,312],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[46,361],"text":"import { Button } from '@/components/ui/button'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[406,406],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/lib/auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[46,408],"text":"import { Input } from '@/components/ui/input'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":79,"fix":{"range":[0,488],"text":"import { Package, Search, DollarSign, ShoppingCart, User } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `next-auth`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":29,"fix":{"range":[0,518],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Package, Search, DollarSign, ShoppingCart, User } from 'lucide-react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":135,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":135,"endColumn":45,"fix":{"range":[5188,5378],"text":"className=\"pl-9\"\r\n                                defaultValue={search}\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome do produto...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":136,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":136,"endColumn":42,"fix":{"range":[5188,5378],"text":"className=\"pl-9\"\r\n                                defaultValue={search}\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome do produto...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":162,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":162,"endColumn":46,"fix":{"range":[6392,6549],"text":"className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                    key={product.id}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":166,"column":45,"nodeType":"JSXOpeningElement","endLine":170,"endColumn":47},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":168,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":168,"endColumn":52,"fix":{"range":[6822,7003],"text":"alt={product.nome}\r\n                                                className=\"h-16 w-16 rounded-lg object-cover\"\r\n                                                src={product.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":169,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":169,"endColumn":58,"fix":{"range":[6822,7003],"text":"alt={product.nome}\r\n                                                className=\"h-16 w-16 rounded-lg object-cover\"\r\n                                                src={product.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":184,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":184,"endColumn":62,"fix":{"range":[7992,8161],"text":"className=\"flex items-center gap-1 text-xs text-primary hover:underline\"\r\n                                                    href={`/admin/users/${product.usuario_id}`}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":17,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Package, Search, DollarSign, ShoppingCart, User } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default async function AdminProductsPage({\r\n    searchParams\r\n}: {\r\n    searchParams: { q?: string }\r\n}) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session || session.user.type !== 'admin') {\r\n        redirect('/login')\r\n    }\r\n\r\n    const search = searchParams.q || ''\r\n\r\n    // Buscar todos os produtos\r\n    const products = await prisma.produtos.findMany({\r\n        where: search ? {\r\n            OR: [\r\n                { nome: { contains: search, mode: 'insensitive' } }\r\n            ]\r\n        } : {},\r\n        orderBy: { data_criacao: 'desc' },\r\n        include: {\r\n            usuarios: {\r\n                select: { id: true, nome: true, usuario: true }\r\n            },\r\n            _count: {\r\n                select: { vendas: true }\r\n            }\r\n        }\r\n    })\r\n\r\n    // Estat├¡sticas\r\n    const totalProducts = await prisma.produtos.count()\r\n\r\n    const salesStats = await prisma.vendas.aggregate({\r\n        where: { status_pagamento: 'approved' },\r\n        _count: true,\r\n        _sum: { valor: true }\r\n    })\r\n\r\n    const formatCurrency = (value: number) => {\r\n        return new Intl.NumberFormat('pt-BR', {\r\n            style: 'currency',\r\n            currency: 'BRL'\r\n        }).format(value)\r\n    }\r\n\r\n    const formatDate = (date: Date | null) => {\r\n        if (!date) return '-'\r\n        return new Intl.DateTimeFormat('pt-BR', {\r\n            day: '2-digit',\r\n            month: '2-digit',\r\n            year: 'numeric'\r\n        }).format(new Date(date))\r\n    }\r\n\r\n    const getDeliveryBadge = (tipo: string | null) => {\r\n        switch (tipo) {\r\n            case 'area_membros':\r\n                return <Badge className=\"bg-purple-100 text-purple-700\">├ürea de Membros</Badge>\r\n            case 'download':\r\n                return <Badge className=\"bg-blue-100 text-blue-700\">Download</Badge>\r\n            case 'externo':\r\n                return <Badge className=\"bg-orange-100 text-orange-700\">Link Externo</Badge>\r\n            default:\r\n                return <Badge variant=\"secondary\">Sem entrega</Badge>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div>\r\n                <h1 className=\"text-3xl font-bold tracking-tight\">Todos os Produtos</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Visualize todos os produtos da plataforma\r\n                </p>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Produtos</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalProducts}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Vendas</CardTitle>\r\n                        <ShoppingCart className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{salesStats._count}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Faturamento Total</CardTitle>\r\n                        <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">\r\n                            {formatCurrency(Number(salesStats._sum?.valor || 0))}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Buscar</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <form className=\"flex gap-4\">\r\n                        <div className=\"relative flex-1\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                            <Input\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome do produto...\"\r\n                                defaultValue={search}\r\n                                className=\"pl-9\"\r\n                            />\r\n                        </div>\r\n                        <Button type=\"submit\">Buscar</Button>\r\n                    </form>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Products List */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Lista de Produtos</CardTitle>\r\n                    <CardDescription>\r\n                        {products.length} produto(s) encontrado(s)\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-4\">\r\n                        {products.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-muted-foreground\">\r\n                                Nenhum produto encontrado\r\n                            </div>\r\n                        ) : (\r\n                            products.map((product) => (\r\n                                <div\r\n                                    key={product.id}\r\n                                    className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                >\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        {product.foto ? (\r\n                                            <img\r\n                                                src={product.foto}\r\n                                                alt={product.nome}\r\n                                                className=\"h-16 w-16 rounded-lg object-cover\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"h-16 w-16 rounded-lg bg-muted flex items-center justify-center\">\r\n                                                <Package className=\"h-8 w-8 text-muted-foreground\" />\r\n                                            </div>\r\n                                        )}\r\n                                        <div>\r\n                                            <p className=\"font-medium\">{product.nome}</p>\r\n                                            <p className=\"text-sm text-muted-foreground\">\r\n                                                {formatCurrency(Number(product.preco))}\r\n                                            </p>\r\n                                            <div className=\"flex items-center gap-2 mt-1\">\r\n                                                <Link\r\n                                                    href={`/admin/users/${product.usuario_id}`}\r\n                                                    className=\"flex items-center gap-1 text-xs text-primary hover:underline\"\r\n                                                >\r\n                                                    <User className=\"h-3 w-3\" />\r\n                                                    {product.usuarios.nome || product.usuarios.usuario}\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className=\"text-right hidden md:block\">\r\n                                            <div className=\"text-sm text-muted-foreground\">\r\n                                                {formatDate(product.data_criacao)}\r\n                                            </div>\r\n                                            <div className=\"text-sm font-medium\">\r\n                                                {product._count.vendas} venda(s)\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"flex flex-col gap-1 items-end\">\r\n                                            {getDeliveryBadge(product.tipo_entrega)}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\pwa\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from \"next/navigation\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/admin/pwa/pwa-config-form` import should occur before import of `@/lib/auth`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":71,"fix":{"range":[46,204],"text":"import { PwaConfigForm } from \"@/components/admin/pwa/pwa-config-form\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":5,"source":"import { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { PwaConfigForm } from \"@/components/admin/pwa/pwa-config-form\"\r\n\r\nexport default async function PwaAdminPage() {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || session.user.type !== 'admin') redirect('/login')\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <h1 className=\"text-2xl font-bold text-white mb-2\">Configura├º├úo PWA (App Mobile)</h1>\r\n            <p className=\"text-zinc-400 mb-6\">Configure a apar├¬ncia e as notifica├º├Áes do Aplicativo Web Progressivo.</p>\r\n            <PwaConfigForm />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\saas\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from \"next/navigation\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/admin/saas/saas-dashboard` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":71,"fix":{"range":[46,239],"text":"import { SaasDashboard } from \"@/components/admin/saas/saas-dashboard\"\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":44,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":44,"endColumn":33,"fix":{"range":[1290,1498],"text":"initialConfig={{ enabled: config?.enabled || false }}\r\n                initialMpGateway={mpGateway ? { mp_access_token: mpGateway.mp_access_token } : undefined}\r\n                initialPlans={serializedPlans}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { getServerSession } from \"next-auth\"\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from '@/lib/db'\r\nimport { SaasDashboard } from \"@/components/admin/saas/saas-dashboard\"\r\n\r\nexport default async function SaasAdminPage() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session || session.user.type !== 'admin') {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Buscar Configura├º├úo Global\r\n    const config = await prisma.saas_config.findUnique({\r\n        where: { id: 'saas-main-config' }\r\n    })\r\n\r\n    // Buscar Planos\r\n    const planos = await prisma.saas_planos.findMany({\r\n        orderBy: { ordem: 'asc' }\r\n    })\r\n\r\n    // Serializar dados (Decimal -> Number)\r\n    const serializedPlans = planos.map(p => ({\r\n        ...p,\r\n        preco: Number(p.preco),\r\n        descricao: p.descricao || '',\r\n        criado_em: p.criado_em.toISOString(),\r\n        atualizado_em: p.atualizado_em.toISOString()\r\n    }))\r\n\r\n    // Buscar Gateway Admin (MP)\r\n    const mpGateway = await prisma.saas_admin_gateways.findUnique({\r\n        where: { gateway: 'mercadopago' },\r\n        select: { mp_access_token: true }\r\n    })\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <SaasDashboard\r\n                initialConfig={{ enabled: config?.enabled || false }}\r\n                initialPlans={serializedPlans}\r\n                initialMpGateway={mpGateway ? { mp_access_token: mpGateway.mp_access_token } : undefined}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\settings\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from \"next/navigation\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/admin/settings-form` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":64,"fix":{"range":[46,232],"text":"import { SettingsForm } from \"@/components/admin/settings-form\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":5,"source":"import { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\nimport { SettingsForm } from \"@/components/admin/settings-form\"\r\n\r\nexport default async function AdminSettingsPage() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session || session.user.type !== 'admin') {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Buscar configura├º├Áes atuais\r\n    const settings = await prisma.configuracoes_sistema.findMany({\r\n        where: {\r\n            chave: {\r\n                in: [\r\n                    'system_name',\r\n                    'system_url',\r\n                    'system_logo',\r\n                    'ui_primary_color',\r\n                    'smtp_host',\r\n                    'smtp_port',\r\n                    'smtp_user',\r\n                    'smtp_pass',\r\n                    'smtp_from',\r\n                    'banner_active',\r\n                    'banner_text',\r\n                    'banner_color',\r\n                    'seo_title_suffix',\r\n                    'seo_keywords'\r\n                ]\r\n            }\r\n        }\r\n    })\r\n\r\n    // Converter para objeto { chave: valor }\r\n    const settingsMap = settings.reduce((acc, curr) => {\r\n        acc[curr.chave] = curr.valor\r\n        return acc\r\n    }, {} as Record<string, string | null>)\r\n\r\n    return (\r\n        <div className=\"space-y-8 p-6\">\r\n            <div className=\"flex flex-col gap-2\">\r\n                <h1 className=\"text-3xl font-bold tracking-tight text-white\">Configura├º├Áes do Sistema</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Gerencie par├ómetros globais da plataforma AgentiVerso.\r\n                </p>\r\n            </div>\r\n\r\n            <SettingsForm initialSettings={settingsMap} />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\users\\[id]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":53,"fix":{"range":[140,140],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":53,"fix":{"range":[0,142],"text":"import { redirect, notFound } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":97,"fix":{"range":[46,275],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[46,322],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[369,369],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[46,371],"text":"import { Button } from '@/components/ui/button'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":98,"fix":{"range":[0,470],"text":"import { ArrowLeft, Mail, Calendar, Package, ShoppingCart, DollarSign, User } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `next-auth`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":29,"fix":{"range":[0,500],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, Calendar, Package, ShoppingCart, DollarSign, User } from 'lucide-react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":76,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":76,"endColumn":49,"fix":{"range":[2321,2348],"text":"size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":46,"fix":{"range":[7479,7600],"text":"className=\"flex items-center justify-between p-4 border rounded-lg\"\r\n                                    key={product.id}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":184,"column":45,"nodeType":"JSXOpeningElement","endLine":188,"endColumn":47},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":186,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":186,"endColumn":52,"fix":{"range":[7873,8054],"text":"alt={product.nome}\r\n                                                className=\"h-12 w-12 rounded-lg object-cover\"\r\n                                                src={product.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":187,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":187,"endColumn":58,"fix":{"range":[7873,8054],"text":"alt={product.nome}\r\n                                                className=\"h-12 w-12 rounded-lg object-cover\"\r\n                                                src={product.foto}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":14,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect, notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, Calendar, Package, ShoppingCart, DollarSign, User } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default async function AdminUserDetailPage({\r\n    params\r\n}: {\r\n    params: { id: string }\r\n}) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session || session.user.type !== 'admin') {\r\n        redirect('/login')\r\n    }\r\n\r\n    const userId = params.id\r\n\r\n    // Buscar usu├írio com dados relacionados\r\n    const user = await prisma.usuarios.findUnique({\r\n        where: { id: userId },\r\n        include: {\r\n            produtos: {\r\n                include: {\r\n                    _count: {\r\n                        select: { vendas: true }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    if (!user) {\r\n        notFound()\r\n    }\r\n\r\n    // Estat├¡sticas do usu├írio - contar vendas de todos os produtos\r\n    const productIds = user.produtos.map(p => p.id)\r\n\r\n    const salesStats = productIds.length > 0 ? await prisma.vendas.aggregate({\r\n        where: {\r\n            produto_id: { in: productIds },\r\n            status_pagamento: 'approved'\r\n        },\r\n        _count: true,\r\n        _sum: { valor: true }\r\n    }) : { _count: 0, _sum: { valor: null } }\r\n\r\n    const formatCurrency = (value: number) => {\r\n        return new Intl.NumberFormat('pt-BR', {\r\n            style: 'currency',\r\n            currency: 'BRL'\r\n        }).format(value)\r\n    }\r\n\r\n    const formatDate = (date: Date | null) => {\r\n        if (!date) return '-'\r\n        return new Intl.DateTimeFormat('pt-BR', {\r\n            day: '2-digit',\r\n            month: '2-digit',\r\n            year: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        }).format(new Date(date))\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <Link href=\"/admin/users\">\r\n                    <Button variant=\"ghost\" size=\"icon\">\r\n                        <ArrowLeft className=\"h-5 w-5\" />\r\n                    </Button>\r\n                </Link>\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">{user.nome || user.usuario}</h1>\r\n                    <p className=\"text-muted-foreground\">\r\n                        Detalhes do usu├írio\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* User Info Card */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <User className=\"h-5 w-5\" />\r\n                        Informa├º├Áes do Usu├írio\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"grid gap-6 md:grid-cols-2\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className={`h-16 w-16 rounded-full flex items-center justify-center ${user.tipo === 'admin'\r\n                                    ? 'bg-red-100 text-red-600'\r\n                                    : 'bg-primary/10 text-primary'\r\n                                }`}>\r\n                                <span className=\"text-2xl font-semibold\">\r\n                                    {user.nome?.charAt(0).toUpperCase() || user.usuario.charAt(0).toUpperCase()}\r\n                                </span>\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-xl font-medium\">{user.nome || 'Sem nome'}</p>\r\n                                <Badge variant={user.tipo === 'admin' ? 'destructive' : 'secondary'}>\r\n                                    {user.tipo}\r\n                                </Badge>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                                <Mail className=\"h-4 w-4\" />\r\n                                <span>{user.usuario}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                                <Calendar className=\"h-4 w-4\" />\r\n                                <span>Cadastrado em {formatDate(user.createdAt)}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Produtos</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{user.produtos.length}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Vendas</CardTitle>\r\n                        <ShoppingCart className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{salesStats._count}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Faturamento</CardTitle>\r\n                        <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">\r\n                            {formatCurrency(Number(salesStats._sum?.valor || 0))}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Products */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Produtos do Usu├írio</CardTitle>\r\n                    <CardDescription>\r\n                        {user.produtos.length} produto(s) cadastrado(s)\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {user.produtos.length === 0 ? (\r\n                        <div className=\"text-center py-12 text-muted-foreground\">\r\n                            Este usu├írio ainda n├úo possui produtos\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-4\">\r\n                            {user.produtos.map((product) => (\r\n                                <div\r\n                                    key={product.id}\r\n                                    className=\"flex items-center justify-between p-4 border rounded-lg\"\r\n                                >\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        {product.foto ? (\r\n                                            <img\r\n                                                src={product.foto}\r\n                                                alt={product.nome}\r\n                                                className=\"h-12 w-12 rounded-lg object-cover\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"h-12 w-12 rounded-lg bg-muted flex items-center justify-center\">\r\n                                                <Package className=\"h-6 w-6 text-muted-foreground\" />\r\n                                            </div>\r\n                                        )}\r\n                                        <div>\r\n                                            <p className=\"font-medium\">{product.nome}</p>\r\n                                            <p className=\"text-sm text-muted-foreground\">\r\n                                                {formatCurrency(Number(product.preco))}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <Badge variant=\"outline\">\r\n                                            {product._count.vendas} venda(s)\r\n                                        </Badge>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":97,"fix":{"range":[46,265],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[46,312],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[46,361],"text":"import { Button } from '@/components/ui/button'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[406,406],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/lib/auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[46,408],"text":"import { Input } from '@/components/ui/input'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":84,"fix":{"range":[0,493],"text":"import { Users, Search, MoreVertical, Mail, Calendar, Package } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `next-auth`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":29,"fix":{"range":[0,523],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Users, Search, MoreVertical, Mail, Calendar, Package } from 'lucide-react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":124,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":124,"endColumn":45,"fix":{"range":[4741,4929],"text":"className=\"pl-9\"\r\n                                defaultValue={search}\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome ou email...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":125,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":125,"endColumn":42,"fix":{"range":[4741,4929],"text":"className=\"pl-9\"\r\n                                defaultValue={search}\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome ou email...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":130,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":130,"endColumn":41,"fix":{"range":[5056,5207],"text":"className=\"px-4 py-2 border rounded-md text-sm bg-background\"\r\n                            defaultValue={tipo}\r\n                            name=\"tipo\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":131,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":131,"endColumn":38,"fix":{"range":[5056,5207],"text":"className=\"px-4 py-2 border rounded-md text-sm bg-background\"\r\n                            defaultValue={tipo}\r\n                            name=\"tipo\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":160,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":160,"endColumn":46,"fix":{"range":[6421,6575],"text":"className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                    key={user.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":197,"column":69,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":197,"endColumn":73,"fix":{"range":[9133,9160],"text":"size=\"icon\" variant=\"ghost\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":17,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Users, Search, MoreVertical, Mail, Calendar, Package } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default async function AdminUsersPage({\r\n    searchParams\r\n}: {\r\n    searchParams: { q?: string; tipo?: string }\r\n}) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    if (session.user.type !== 'admin') {\r\n        redirect('/dashboard')\r\n    }\r\n\r\n    const search = searchParams.q || ''\r\n    const tipo = searchParams.tipo || ''\r\n\r\n    // Buscar usu├írios com filtros\r\n    const users = await prisma.usuarios.findMany({\r\n        where: {\r\n            AND: [\r\n                search ? {\r\n                    OR: [\r\n                        { nome: { contains: search, mode: 'insensitive' } },\r\n                        { usuario: { contains: search, mode: 'insensitive' } }\r\n                    ]\r\n                } : {},\r\n                tipo ? { tipo: tipo as 'admin' | 'infoprodutor' } : {}\r\n            ]\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n        include: {\r\n            _count: {\r\n                select: { produtos: true }\r\n            }\r\n        }\r\n    })\r\n\r\n    // Estat├¡sticas\r\n    const stats = await prisma.usuarios.groupBy({\r\n        by: ['tipo'],\r\n        _count: true\r\n    })\r\n\r\n    const totalUsers = users.length\r\n    const totalInfoprodutores = stats.find(s => s.tipo === 'infoprodutor')?._count || 0\r\n    const totalAdmins = stats.find(s => s.tipo === 'admin')?._count || 0\r\n\r\n    const formatDate = (date: Date | null) => {\r\n        if (!date) return '-'\r\n        return new Intl.DateTimeFormat('pt-BR', {\r\n            day: '2-digit',\r\n            month: '2-digit',\r\n            year: 'numeric'\r\n        }).format(new Date(date))\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Usu├írios</h1>\r\n                    <p className=\"text-muted-foreground\">\r\n                        Gerencie todos os usu├írios da plataforma\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Usu├írios</CardTitle>\r\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalUsers}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Infoprodutores</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalInfoprodutores}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Administradores</CardTitle>\r\n                        <Users className=\"h-4 w-4 text-red-500\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalAdmins}</div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Filtros</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <form className=\"flex gap-4\">\r\n                        <div className=\"relative flex-1\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                            <Input\r\n                                name=\"q\"\r\n                                placeholder=\"Buscar por nome ou email...\"\r\n                                defaultValue={search}\r\n                                className=\"pl-9\"\r\n                            />\r\n                        </div>\r\n                        <select\r\n                            name=\"tipo\"\r\n                            defaultValue={tipo}\r\n                            className=\"px-4 py-2 border rounded-md text-sm bg-background\"\r\n                        >\r\n                            <option value=\"\">Todos os tipos</option>\r\n                            <option value=\"infoprodutor\">Infoprodutor</option>\r\n                            <option value=\"admin\">Admin</option>\r\n                        </select>\r\n                        <Button type=\"submit\">Filtrar</Button>\r\n                    </form>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Users List */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle>Lista de Usu├írios</CardTitle>\r\n                    <CardDescription>\r\n                        {users.length} usu├írio(s) encontrado(s)\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-4\">\r\n                        {users.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-muted-foreground\">\r\n                                Nenhum usu├írio encontrado\r\n                            </div>\r\n                        ) : (\r\n                            users.map((user) => (\r\n                                <div\r\n                                    key={user.id}\r\n                                    className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                >\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className={`h-12 w-12 rounded-full flex items-center justify-center ${user.tipo === 'admin'\r\n                                                ? 'bg-red-100 text-red-600'\r\n                                                : 'bg-primary/10 text-primary'\r\n                                            }`}>\r\n                                            <span className=\"text-lg font-semibold\">\r\n                                                {user.nome?.charAt(0).toUpperCase() || user.usuario.charAt(0).toUpperCase()}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"font-medium\">{user.nome || 'Sem nome'}</p>\r\n                                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                                <Mail className=\"h-3 w-3\" />\r\n                                                {user.usuario}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-6\">\r\n                                        <div className=\"text-right hidden md:block\">\r\n                                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                                <Calendar className=\"h-3 w-3\" />\r\n                                                {formatDate(user.createdAt)}\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                                <Package className=\"h-3 w-3\" />\r\n                                                {user._count.produtos} produto(s)\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <Badge variant={user.tipo === 'admin' ? 'destructive' : 'secondary'}>\r\n                                            {user.tipo}\r\n                                        </Badge>\r\n\r\n                                        <Link href={`/admin/users/${user.id}`}>\r\n                                            <Button variant=\"ghost\" size=\"icon\">\r\n                                                <MoreVertical className=\"h-4 w-4\" />\r\n                                            </Button>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\pwa\\config\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function GET() {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || session.user.type !== 'admin') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const config = await prisma.pwa_config.findFirst()\r\n    return NextResponse.json(config || {})\r\n}\r\n\r\nexport async function PUT(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || session.user.type !== 'admin') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const body = await req.json()\r\n    const { app_name, short_name, theme_color, background_color, vapid_public_key, vapid_private_key } = body\r\n\r\n    // Buscar ID existente ou criar novo\r\n    const current = await prisma.pwa_config.findFirst()\r\n    const id = current?.id || uuidv4()\r\n\r\n    await prisma.pwa_config.upsert({\r\n        where: { id },\r\n        create: {\r\n            id,\r\n            app_name,\r\n            short_name,\r\n            theme_color,\r\n            background_color,\r\n            vapid_public_key,\r\n            vapid_private_key,\r\n            updated_at: new Date()\r\n        },\r\n        update: {\r\n            app_name,\r\n            short_name,\r\n            theme_color,\r\n            background_color,\r\n            vapid_public_key,\r\n            vapid_private_key,\r\n            updated_at: new Date()\r\n        }\r\n    })\r\n\r\n    return NextResponse.json({ success: true })\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\pwa\\generate-keys\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`web-push` import should occur before import of `@/lib/auth`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":31,"fix":{"range":[90,164],"text":"import webpush from 'web-push'\r\nimport { authOptions } from '@/lib/auth'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport webpush from 'web-push'\r\n\r\nexport async function POST() {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || session.user.type !== 'admin') return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const keys = webpush.generateVAPIDKeys()\r\n    return NextResponse.json(keys)\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\saas\\config\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":20,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\nconst SAAS_CONFIG_ID = 'saas-main-config'\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const config = await prisma.saas_config.findUnique({\r\n            where: { id: SAAS_CONFIG_ID }\r\n        })\r\n\r\n        return NextResponse.json(config || { enabled: false })\r\n    } catch (error) {\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function PUT(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { enabled } = body\r\n\r\n        const config = await prisma.saas_config.upsert({\r\n            where: { id: SAAS_CONFIG_ID },\r\n            update: {\r\n                enabled,\r\n                updated_at: new Date()\r\n            },\r\n            create: {\r\n                id: SAAS_CONFIG_ID,\r\n                enabled,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(config)\r\n    } catch (error) {\r\n        console.error('[SAAS_CONFIG_PUT]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\saas\\gateways\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":19,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const config = await prisma.saas_admin_gateways.findUnique({\r\n            where: { gateway: 'mercadopago' }\r\n        })\r\n\r\n        return NextResponse.json(config || {})\r\n    } catch (error) {\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function PUT(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { gateway, mp_access_token } = body\r\n\r\n        if (gateway !== 'mercadopago') {\r\n            return new NextResponse('Gateway not supported', { status: 400 })\r\n        }\r\n\r\n        const config = await prisma.saas_admin_gateways.upsert({\r\n            where: { gateway: 'mercadopago' },\r\n            update: {\r\n                mp_access_token,\r\n                updated_at: new Date()\r\n            },\r\n            create: {\r\n                id: uuidv4(),\r\n                gateway: 'mercadopago',\r\n                mp_access_token,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(config)\r\n    } catch (error) {\r\n        console.error('[SAAS_GATEWAYS_PUT]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\saas\\plans\\[id]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@prisma/client` import should occur before import of `next/server`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":45,"fix":{"range":[0,213],"text":"import { saas_period } from '@prisma/client'\r\nimport { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { saas_period } from '@prisma/client'\r\n\r\nexport async function PUT(\r\n    req: Request,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const {\r\n            nome,\r\n            descricao,\r\n            preco,\r\n            periodo,\r\n            max_produtos,\r\n            max_pedidos_mes,\r\n            is_free,\r\n            tracking_enabled,\r\n            ativo\r\n        } = body\r\n\r\n        const plano = await prisma.saas_planos.update({\r\n            where: { id: params.id },\r\n            data: {\r\n                nome,\r\n                descricao,\r\n                preco: preco,\r\n                periodo: periodo as saas_period,\r\n                max_produtos: max_produtos ? parseInt(String(max_produtos)) : null,\r\n                max_pedidos_mes: max_pedidos_mes ? parseInt(String(max_pedidos_mes)) : null,\r\n                is_free,\r\n                tracking_enabled,\r\n                ativo,\r\n                atualizado_em: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(plano)\r\n    } catch (error) {\r\n        console.error('[SAAS_PLAN_UPDATE]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function DELETE(\r\n    req: Request,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        // Verificar se h├í assinaturas ativas neste plano antes de deletar?\r\n        // O schema tem onDelete: Cascade nas assinaturas, o que ├® perigoso mas pr├ítico.\r\n        // Vamos permitir cascade, mas idealmente avisar├¡amos.\r\n\r\n        await prisma.saas_planos.delete({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[SAAS_PLAN_DELETE]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\saas\\plans\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@prisma/client` import should occur before import of `next/server`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":45,"fix":{"range":[0,250],"text":"import { saas_period } from '@prisma/client'\r\nimport { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { saas_period } from '@prisma/client'\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const planos = await prisma.saas_planos.findMany({\r\n            orderBy: { ordem: 'asc' }\r\n        })\r\n\r\n        return NextResponse.json(planos)\r\n    } catch (error) {\r\n        console.error('[SAAS_PLANS_GET]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const {\r\n            nome,\r\n            descricao,\r\n            preco,\r\n            periodo,\r\n            max_produtos,\r\n            max_pedidos_mes,\r\n            is_free,\r\n            tracking_enabled,\r\n            ativo\r\n        } = body\r\n\r\n        if (!nome) {\r\n            return new NextResponse('Nome ├® obrigat├│rio', { status: 400 })\r\n        }\r\n\r\n        const plano = await prisma.saas_planos.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                nome,\r\n                descricao,\r\n                preco: preco || 0,\r\n                periodo: periodo as saas_period || 'mensal',\r\n                max_produtos: max_produtos ? parseInt(max_produtos) : null,\r\n                max_pedidos_mes: max_pedidos_mes ? parseInt(max_pedidos_mes) : null,\r\n                is_free: is_free || false,\r\n                tracking_enabled: tracking_enabled || false,\r\n                ativo: ativo !== undefined ? ativo : true,\r\n                criado_em: new Date(),\r\n                atualizado_em: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(plano)\r\n    } catch (error) {\r\n        console.error('[SAAS_PLANS_POST]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\admin\\settings\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nconst ALLOWED_KEYS = [\r\n    'system_name',\r\n    'system_url',\r\n    'system_logo',\r\n    'ui_primary_color',\r\n    'smtp_host',\r\n    'smtp_port',\r\n    'smtp_user',\r\n    'smtp_pass',\r\n    'smtp_from',\r\n    'banner_active',\r\n    'banner_text',\r\n    'banner_color',\r\n    'seo_title_suffix',\r\n    'seo_keywords'\r\n]\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const settings = await prisma.configuracoes_sistema.findMany({\r\n            where: {\r\n                chave: {\r\n                    in: ALLOWED_KEYS\r\n                }\r\n            }\r\n        })\r\n\r\n        const settingsMap = settings.reduce((acc, curr) => {\r\n            acc[curr.chave] = curr.valor\r\n            return acc\r\n        }, {} as Record<string, string | null>)\r\n\r\n        return NextResponse.json(settingsMap)\r\n    } catch (error) {\r\n        console.error('[SETTINGS_GET]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function PUT(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n\r\n        if (!session || session.user.type !== 'admin') {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const settingsToUpdate = Object.entries(body).filter(([key]) => ALLOWED_KEYS.includes(key))\r\n\r\n        await prisma.$transaction(\r\n            settingsToUpdate.map(([key, value]) => {\r\n                return prisma.configuracoes_sistema.upsert({\r\n                    where: { chave: key },\r\n                    update: {\r\n                        valor: String(value),\r\n                        updated_at: new Date()\r\n                    },\r\n                    create: {\r\n                        id: uuidv4(),\r\n                        chave: key,\r\n                        valor: String(value),\r\n                        tipo: 'text',\r\n                        created_at: new Date(),\r\n                        updated_at: new Date()\r\n                    }\r\n                })\r\n            })\r\n        )\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[SETTINGS_UPDATE]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":33,"fix":{"range":[32,32],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import NextAuth from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n\r\nconst handler = NextAuth(authOptions)\r\n\r\nexport { handler as GET, handler as POST }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\forgot-password\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":37,"fix":{"range":[93,93],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `next/server`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":37,"fix":{"range":[0,95],"text":"import { randomBytes } from 'crypto'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/email` import should occur before import of `@/lib/validations`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":53,"fix":{"range":[130,242],"text":"import { sendPasswordResetEmail } from '@/lib/email'\r\nimport { forgotPasswordSchema } from '@/lib/validations'\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[909,972],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":63,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":63,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1944,2004],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { randomBytes } from 'crypto'\r\nimport { prisma } from '@/lib/db'\r\nimport { forgotPasswordSchema } from '@/lib/validations'\r\nimport { sendPasswordResetEmail } from '@/lib/email'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n\r\n        // Validar email\r\n        const result = forgotPasswordSchema.safeParse(body)\r\n        if (!result.success) {\r\n            return NextResponse.json(\r\n                { error: result.error.errors[0].message },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        const { email } = result.data\r\n\r\n        // Buscar usu├írio\r\n        const user = await prisma.user.findUnique({\r\n            where: { email },\r\n        })\r\n\r\n        // Por seguran├ºa, sempre retornar sucesso mesmo se email n├úo existir\r\n        if (!user) {\r\n            console.log(`[FORGOT_PASSWORD] Email n├úo encontrado: ${email}`)\r\n            return NextResponse.json({\r\n                success: true,\r\n                message: 'Se o email existir, voc├¬ receber├í as instru├º├Áes.',\r\n            })\r\n        }\r\n\r\n        // Gerar token aleat├│rio\r\n        const resetToken = randomBytes(32).toString('hex')\r\n\r\n        // Token expira em 1 hora\r\n        const expiresAt = new Date()\r\n        expiresAt.setHours(expiresAt.getHours() + 1)\r\n\r\n        // Salvar token no banco\r\n        await prisma.user.update({\r\n            where: { id: user.id },\r\n            data: {\r\n                passwordResetToken: resetToken,\r\n                passwordResetExpires: expiresAt,\r\n            },\r\n        })\r\n\r\n        // Enviar email\r\n        const emailSent = await sendPasswordResetEmail(\r\n            email,\r\n            user.name || 'Usu├írio',\r\n            resetToken\r\n        )\r\n\r\n        if (!emailSent) {\r\n            console.error(`[FORGOT_PASSWORD] Falha ao enviar email para: ${email}`)\r\n        }\r\n\r\n        console.log(`[FORGOT_PASSWORD] Token gerado para: ${email}`)\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Se o email existir, voc├¬ receber├í as instru├º├Áes.',\r\n        })\r\n    } catch (error) {\r\n        console.error('[FORGOT_PASSWORD] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: 'Erro interno do servidor' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\member\\login\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":34,"fix":{"range":[90,90],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":28,"fix":{"range":[119,119],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":28,"fix":{"range":[0,121],"text":"import crypto from 'crypto'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/auth-member` import should occur before import of `@/lib/db`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":52,"fix":{"range":[57,174],"text":"import { signMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport crypto from 'crypto'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[705,708],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[705,708],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1656,1659],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1656,1659],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":5,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport crypto from 'crypto'\r\nimport { signMemberToken } from '@/lib/auth-member'\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const body = await req.json()\r\n        const { email, password } = body\r\n\r\n        if (!email || !password) {\r\n            return NextResponse.json({ error: 'Email e senha s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        // Hash da senha\r\n        const hashedPassword = crypto.createHash('sha256').update(password).digest('hex')\r\n\r\n        // Buscar acesso via Raw Query para garantir compatibilidade se o client n├úo atualizou\r\n        const results: any[] = await prisma.$queryRaw`\r\n            SELECT * FROM alunos_acessos \r\n            WHERE email_aluno = ${email} \r\n            AND senha = ${hashedPassword}\r\n            LIMIT 1\r\n        `\r\n        const access = results[0]\r\n\r\n        if (!access) {\r\n            return NextResponse.json({ error: 'Email ou senha incorretos' }, { status: 401 })\r\n        }\r\n\r\n        // Autenticado com sucesso\r\n        const token = await signMemberToken({\r\n            email: access.email_aluno,\r\n            sub: access.email_aluno // Identity key\r\n        })\r\n\r\n        const response = NextResponse.json({ success: true, redirect: '/members' })\r\n\r\n        response.cookies.set('member_session', token, {\r\n            httpOnly: true,\r\n            secure: process.env.NODE_ENV === 'production',\r\n            sameSite: 'lax',\r\n            maxAge: 60 * 60 * 24 * 30, // 30 dias\r\n            path: '/'\r\n        })\r\n\r\n        return response\r\n\r\n    } catch (error: any) {\r\n        console.error('Login error:', error)\r\n        return NextResponse.json({ error: 'Erro interno no servidor' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":32,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`bcryptjs` import should occur before import of `next/server`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":32,"fix":{"range":[0,90],"text":"import { hash } from 'bcryptjs'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { hash } from 'bcryptjs'\r\nimport { prisma } from '@/lib/db'\r\nimport { registerSchema } from '@/lib/validations'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n\r\n        // Validar dados\r\n        const result = registerSchema.safeParse(body)\r\n        if (!result.success) {\r\n            return NextResponse.json(\r\n                { error: result.error.errors[0].message },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        const { name, email, phone, password } = result.data\r\n\r\n        // Verificar se email j├í existe\r\n        const existingUser = await prisma.user.findUnique({\r\n            where: { email },\r\n        })\r\n\r\n        if (existingUser) {\r\n            // Se for um membro, permitir atualizar para infoprodutor\r\n            if (existingUser.type === 'MEMBER') {\r\n                // Verificar senha\r\n                const bcrypt = await import('bcryptjs')\r\n                const isPasswordValid = await bcrypt.compare(password, existingUser.password)\r\n\r\n                if (!isPasswordValid) {\r\n                    return NextResponse.json(\r\n                        { error: 'Senha incorreta para o email existente' },\r\n                        { status: 400 }\r\n                    )\r\n                }\r\n\r\n                // Atualizar para infoprodutor\r\n                await prisma.user.update({\r\n                    where: { id: existingUser.id },\r\n                    data: {\r\n                        type: 'INFOPRODUCER',\r\n                        name: name || existingUser.name,\r\n                        phone: phone || existingUser.phone,\r\n                    },\r\n                })\r\n\r\n                return NextResponse.json({\r\n                    success: true,\r\n                    message: 'Conta atualizada para infoprodutor',\r\n                    upgraded: true,\r\n                })\r\n            }\r\n\r\n            return NextResponse.json(\r\n                { error: 'Este email j├í est├í cadastrado' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Hash da senha\r\n        const hashedPassword = await hash(password, 12)\r\n\r\n        // Criar usu├írio\r\n        const user = await prisma.user.create({\r\n            data: {\r\n                email,\r\n                name,\r\n                phone,\r\n                password: hashedPassword,\r\n                type: 'INFOPRODUCER',\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Conta criada com sucesso',\r\n            userId: user.id,\r\n        })\r\n    } catch (error) {\r\n        console.error('[REGISTER] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: 'Erro interno do servidor' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\reset-password\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":32,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`bcryptjs` import should occur before import of `next/server`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":32,"fix":{"range":[0,90],"text":"import { hash } from 'bcryptjs'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":51,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":51,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1487,1555],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { hash } from 'bcryptjs'\r\nimport { prisma } from '@/lib/db'\r\nimport { resetPasswordSchema } from '@/lib/validations'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n\r\n        // Validar dados\r\n        const result = resetPasswordSchema.safeParse(body)\r\n        if (!result.success) {\r\n            return NextResponse.json(\r\n                { error: result.error.errors[0].message },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        const { token, password } = result.data\r\n\r\n        // Buscar usu├írio com token v├ílido\r\n        const user = await prisma.user.findFirst({\r\n            where: {\r\n                passwordResetToken: token,\r\n                passwordResetExpires: {\r\n                    gt: new Date(),\r\n                },\r\n            },\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json(\r\n                { error: 'Token inv├ílido ou expirado' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Hash da nova senha\r\n        const hashedPassword = await hash(password, 12)\r\n\r\n        // Atualizar senha e limpar token\r\n        await prisma.user.update({\r\n            where: { id: user.id },\r\n            data: {\r\n                password: hashedPassword,\r\n                passwordResetToken: null,\r\n                passwordResetExpires: null,\r\n            },\r\n        })\r\n\r\n        console.log(`[RESET_PASSWORD] Senha redefinida para: ${user.email}`)\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Senha redefinida com sucesso',\r\n        })\r\n    } catch (error) {\r\n        console.error('[RESET_PASSWORD] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: 'Erro interno do servidor' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\auth\\validate-reset-token\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const { searchParams } = new URL(request.url)\r\n        const token = searchParams.get('token')\r\n\r\n        if (!token) {\r\n            return NextResponse.json({ valid: false })\r\n        }\r\n\r\n        // Buscar usu├írio com token v├ílido\r\n        const user = await prisma.user.findFirst({\r\n            where: {\r\n                passwordResetToken: token,\r\n                passwordResetExpires: {\r\n                    gt: new Date(),\r\n                },\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({ valid: !!user })\r\n    } catch (error) {\r\n        console.error('[VALIDATE_RESET_TOKEN] Erro:', error)\r\n        return NextResponse.json({ valid: false })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\checkout\\[hash]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[595,598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[595,598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1850,1853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1850,1853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { checkSaaSSalesLimit } from '@/lib/saas-limits'\r\n\r\nexport async function GET(\r\n    request: NextRequest,\r\n    { params }: { params: { hash: string } }\r\n) {\r\n    try {\r\n        const { hash } = params\r\n\r\n        if (!hash) {\r\n            return NextResponse.json(\r\n                { error: 'Hash do produto n├úo informado' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Buscar produto pelo hash usando query raw para evitar problemas de nomes\r\n        const produtos: any[] = await prisma.$queryRaw`\r\n            SELECT \r\n                p.id, p.nome, p.descricao, p.preco, p.preco_anterior, p.foto, \r\n                p.tipo_entrega, p.gateway, p.checkout_config,\r\n                u.id as usuario_id, u.nome as usuario_nome, u.usuario as usuario_email,\r\n                u.mp_public_key, u.pushinpay_token, u.efi_client_id,\r\n                u.beehive_public_key, u.hypercash_public_key\r\n            FROM produtos p\r\n            JOIN usuarios u ON p.usuario_id = u.id\r\n            WHERE p.checkout_hash = ${hash}\r\n        `\r\n\r\n        if (produtos.length === 0) {\r\n            return NextResponse.json(\r\n                { error: 'Produto n├úo encontrado' },\r\n                { status: 404 }\r\n            )\r\n        }\r\n\r\n        const product = produtos[0]\r\n\r\n        // Verificar Limite de Vendas SaaS\r\n        const limitCheck = await checkSaaSSalesLimit(product.usuario_id)\r\n        if (!limitCheck.allowed) {\r\n            return NextResponse.json({\r\n                error: 'Este processo de compra est├í temporariamente indispon├¡vel devido aos limites do plano do vendedor.',\r\n                details: limitCheck.reason\r\n            }, { status: 403 })\r\n        }\r\n\r\n        // Buscar order bumps\r\n        const orderBumps: any[] = await prisma.$queryRaw`\r\n            SELECT \r\n                ob.id, ob.headline, ob.description,\r\n                op.id as offer_id, op.nome as offer_nome, op.descricao as offer_descricao,\r\n                op.preco as offer_preco, op.preco_anterior as offer_preco_anterior, op.foto as offer_foto\r\n            FROM order_bumps ob\r\n            JOIN produtos op ON ob.offer_product_id = op.id\r\n            WHERE ob.main_product_id = ${product.id}\r\n            AND ob.is_active = true\r\n            ORDER BY ob.ordem ASC\r\n        `\r\n\r\n        // Determinar quais gateways est├úo dispon├¡veis\r\n        const availableGateways: string[] = []\r\n        const gatewayKeys: Record<string, { publicKey?: string | null }> = {}\r\n\r\n        if (product.mp_public_key) {\r\n            availableGateways.push('mercadopago')\r\n            gatewayKeys.mercadopago = { publicKey: product.mp_public_key }\r\n        }\r\n        if (product.pushinpay_token) {\r\n            availableGateways.push('pushinpay')\r\n        }\r\n        if (product.efi_client_id) {\r\n            availableGateways.push('efi')\r\n        }\r\n        if (product.beehive_public_key) {\r\n            availableGateways.push('beehive')\r\n            gatewayKeys.beehive = { publicKey: product.beehive_public_key }\r\n        }\r\n        if (product.hypercash_public_key) {\r\n            availableGateways.push('hypercash')\r\n            gatewayKeys.hypercash = { publicKey: product.hypercash_public_key }\r\n        }\r\n\r\n        // Determinar m├®todos de pagamento dispon├¡veis\r\n        const paymentMethods: string[] = []\r\n        if (availableGateways.length > 0) {\r\n            paymentMethods.push('pix')\r\n            // Cart├úo dispon├¡vel em todos exceto pushinpay (s├│ pix)\r\n            if (availableGateways.some(g => g !== 'pushinpay')) {\r\n                paymentMethods.push('credit_card')\r\n            }\r\n            // Boleto dispon├¡vel apenas em alguns gateways\r\n            if (availableGateways.includes('mercadopago') || availableGateways.includes('efi')) {\r\n                paymentMethods.push('boleto')\r\n            }\r\n        }\r\n\r\n        // Parsear configura├º├úo do checkout\r\n        const checkoutConfig = (typeof product.checkout_config === 'string'\r\n            ? JSON.parse(product.checkout_config)\r\n            : product.checkout_config) || {}\r\n\r\n        // Mapear tipo de entrega\r\n        const deliveryTypeMap: Record<string, string> = {\r\n            'link': 'LINK',\r\n            'email_pdf': 'EMAIL_PDF',\r\n            'area_membros': 'MEMBER_AREA',\r\n            'produto_fisico': 'PHYSICAL',\r\n        }\r\n\r\n        // Formatar order bumps\r\n        const formattedBumps = orderBumps.map((ob) => ({\r\n            id: ob.id,\r\n            headline: ob.headline,\r\n            description: ob.description,\r\n            product: {\r\n                id: ob.offer_id,\r\n                name: ob.offer_nome,\r\n                description: ob.offer_descricao,\r\n                price: Number(ob.offer_preco),\r\n                previousPrice: ob.offer_preco_anterior ? Number(ob.offer_preco_anterior) : null,\r\n                image: ob.offer_foto,\r\n            },\r\n        }))\r\n\r\n        // Retornar dados do produto\r\n        return NextResponse.json({\r\n            success: true,\r\n            product: {\r\n                id: product.id,\r\n                name: product.nome,\r\n                description: product.descricao,\r\n                price: Number(product.preco),\r\n                previousPrice: product.preco_anterior ? Number(product.preco_anterior) : null,\r\n                image: product.foto,\r\n                deliveryType: deliveryTypeMap[product.tipo_entrega] || product.tipo_entrega,\r\n                gateway: product.gateway,\r\n            },\r\n            seller: {\r\n                id: product.usuario_id,\r\n                name: product.usuario_nome,\r\n            },\r\n            orderBumps: formattedBumps,\r\n            availableGateways,\r\n            gatewayKeys,\r\n            paymentMethods,\r\n            checkoutConfig: {\r\n                primaryColor: checkoutConfig.primaryColor || '#22c55e',\r\n                backgroundColor: checkoutConfig.backgroundColor || '#ffffff',\r\n                textColor: checkoutConfig.textColor || '#09090b',\r\n                logoUrl: checkoutConfig.logoUrl || null,\r\n                timerEnabled: (checkoutConfig.timerEnabled ?? checkoutConfig.showTimer) ?? false,\r\n                timerDuration: (checkoutConfig.timerDuration ?? checkoutConfig.timerMinutes) || 15,\r\n                askPhone: checkoutConfig.askPhone ?? true,\r\n                askCpf: checkoutConfig.askCpf ?? true,\r\n                socialProofEnabled: (checkoutConfig.socialProofEnabled ?? checkoutConfig.showFakeNotifications) ?? false,\r\n\r\n                // Manter compatibilidade se precisar, ou remover\r\n                showBanner: checkoutConfig.showBanner ?? false,\r\n                bannerImages: checkoutConfig.bannerImages || [],\r\n                youtubeVideoId: checkoutConfig.youtubeVideoId || null,\r\n                backRedirect: checkoutConfig.backRedirect ?? false,\r\n                backRedirectMessage: checkoutConfig.backRedirectMessage || 'Espere! Temos uma oferta especial para voc├¬!',\r\n            },\r\n        })\r\n    } catch (error) {\r\n        console.error('[CHECKOUT_API] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: 'Erro interno do servidor' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\courses\\files\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[215,215],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`fs/promises` import should occur before import of `next/server`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":37,"fix":{"range":[0,255],"text":"import { unlink } from 'fs/promises'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`path` import should occur before import of `next/server`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":24,"fix":{"range":[0,280],"text":"import path from 'path'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { unlink } from 'fs/promises'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { unlink } from 'fs/promises'\r\nimport path from 'path'\r\n\r\n// GET - Listar arquivos da aula\r\nexport async function GET(req: NextRequest) {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { searchParams } = new URL(req.url)\r\n    const aulaId = searchParams.get('aulaId')\r\n\r\n    if (!aulaId) return NextResponse.json({ error: 'Missing aulaId' }, { status: 400 })\r\n\r\n    // Verificar acesso\r\n    const aula = await prisma.aulas.findFirst({\r\n        where: { id: aulaId },\r\n        include: { modulos: { include: { cursos: { include: { produtos: true } } } } }\r\n    })\r\n\r\n    if (!aula || aula.modulos.cursos.produtos.usuario_id !== session.user.id) {\r\n        return NextResponse.json({ error: 'Not found' }, { status: 404 })\r\n    }\r\n\r\n    const arquivos = await prisma.aula_arquivos.findMany({\r\n        where: { aula_id: aulaId },\r\n        orderBy: { ordem: 'asc' }\r\n    })\r\n\r\n    return NextResponse.json(arquivos)\r\n}\r\n\r\n// POST - Adicionar arquivo\r\nexport async function POST(req: NextRequest) {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const body = await req.json()\r\n    const { aulaId, nomeOriginal, nomeSalvo, caminhoArquivo, tipoMime, tamanhoBytes } = body\r\n\r\n    if (!aulaId || !caminhoArquivo) return NextResponse.json({ error: 'Invalid data' }, { status: 400 })\r\n\r\n    // Verificar acesso\r\n    const aula = await prisma.aulas.findFirst({\r\n        where: { id: aulaId },\r\n        include: { modulos: { include: { cursos: { include: { produtos: true } } } } }\r\n    })\r\n\r\n    if (!aula || aula.modulos.cursos.produtos.usuario_id !== session.user.id) {\r\n        return NextResponse.json({ error: 'Not found' }, { status: 404 })\r\n    }\r\n\r\n    const count = await prisma.aula_arquivos.count({ where: { aula_id: aulaId } })\r\n\r\n    const arquivo = await prisma.aula_arquivos.create({\r\n        data: {\r\n            id: uuidv4(),\r\n            aula_id: aulaId,\r\n            nome_original: nomeOriginal,\r\n            nome_salvo: nomeSalvo,\r\n            caminho_arquivo: caminhoArquivo,\r\n            tipo_mime: tipoMime,\r\n            tamanho_bytes: tamanhoBytes,\r\n            ordem: count\r\n        }\r\n    })\r\n\r\n    return NextResponse.json(arquivo)\r\n}\r\n\r\n// DELETE - Remover arquivo\r\nexport async function DELETE(req: NextRequest) {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { searchParams } = new URL(req.url)\r\n    const arquivoId = searchParams.get('arquivoId')\r\n\r\n    if (!arquivoId) return NextResponse.json({ error: 'Missing arquivoId' }, { status: 400 })\r\n\r\n    const arquivo = await prisma.aula_arquivos.findFirst({\r\n        where: { id: arquivoId },\r\n        include: { aulas: { include: { modulos: { include: { cursos: { include: { produtos: true } } } } } } }\r\n    })\r\n\r\n    if (!arquivo || arquivo.aulas.modulos.cursos.produtos.usuario_id !== session.user.id) {\r\n        return NextResponse.json({ error: 'Not found' }, { status: 404 })\r\n    }\r\n\r\n    // Deletar do banco\r\n    await prisma.aula_arquivos.delete({ where: { id: arquivoId } })\r\n\r\n    // Tentar deletar f├¡sico (opcional, mas bom para limpar)\r\n    try {\r\n        const filePath = path.join(process.cwd(), 'public', arquivo.caminho_arquivo)\r\n        await unlink(filePath)\r\n    } catch (e) {\r\n        console.warn('Falha ao deletar arquivo f├¡sico:', e)\r\n    }\r\n\r\n    return NextResponse.json({ success: true })\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\courses\\lessons\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2063,2066],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2063,2066],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3858,3861],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3858,3861],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":140,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5201,5204],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5201,5204],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// POST - Criar aula\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { moduloId, titulo, url_video, descricao, release_days, tipo_conteudo } = body\r\n\r\n        if (!moduloId || !titulo) {\r\n            return NextResponse.json({ error: 'moduloId e titulo s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o m├│dulo pertence ao usu├írio\r\n        const modulo = await prisma.modulos.findFirst({\r\n            where: { id: moduloId },\r\n            include: { cursos: { include: { produtos: true } } }\r\n        })\r\n\r\n        if (!modulo || modulo.cursos.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'M├│dulo n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Buscar a maior ordem atual\r\n        const lastLesson = await prisma.aulas.findFirst({\r\n            where: { modulo_id: moduloId },\r\n            orderBy: { ordem: 'desc' }\r\n        })\r\n\r\n        const novaOrdem = (lastLesson?.ordem ?? -1) + 1\r\n        const aulaId = uuidv4()\r\n\r\n        await prisma.aulas.create({\r\n            data: {\r\n                id: aulaId,\r\n                modulo_id: moduloId,\r\n                titulo,\r\n                url_video: url_video || null,\r\n                descricao: descricao || null,\r\n                ordem: novaOrdem,\r\n                release_days: release_days || 0,\r\n                tipo_conteudo: tipo_conteudo || 'video'\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            aulaId,\r\n            message: 'Aula criada com sucesso'\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Lessons POST Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PUT - Atualizar aula\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { aulaId, titulo, url_video, descricao, ordem, release_days, tipo_conteudo } = body\r\n\r\n        if (!aulaId) {\r\n            return NextResponse.json({ error: 'aulaId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se a aula pertence ao usu├írio\r\n        const aula = await prisma.aulas.findFirst({\r\n            where: { id: aulaId },\r\n            include: { modulos: { include: { cursos: { include: { produtos: true } } } } }\r\n        })\r\n\r\n        if (!aula || aula.modulos.cursos.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Aula n├úo encontrada' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.aulas.update({\r\n            where: { id: aulaId },\r\n            data: {\r\n                titulo: titulo || aula.titulo,\r\n                url_video: url_video !== undefined ? url_video : aula.url_video,\r\n                descricao: descricao !== undefined ? descricao : aula.descricao,\r\n                ordem: ordem !== undefined ? ordem : aula.ordem,\r\n                release_days: release_days !== undefined ? release_days : aula.release_days,\r\n                tipo_conteudo: tipo_conteudo || aula.tipo_conteudo\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Aula atualizada' })\r\n    } catch (error: any) {\r\n        console.error('[API Lessons PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Excluir aula\r\nexport async function DELETE(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const aulaId = searchParams.get('aulaId')\r\n\r\n        if (!aulaId) {\r\n            return NextResponse.json({ error: 'aulaId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se a aula pertence ao usu├írio\r\n        const aula = await prisma.aulas.findFirst({\r\n            where: { id: aulaId },\r\n            include: { modulos: { include: { cursos: { include: { produtos: true } } } } }\r\n        })\r\n\r\n        if (!aula || aula.modulos.cursos.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Aula n├úo encontrada' }, { status: 404 })\r\n        }\r\n\r\n        // Cascade delete vai remover arquivos e progresso\r\n        await prisma.aulas.delete({\r\n            where: { id: aulaId }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Aula exclu├¡da' })\r\n    } catch (error: any) {\r\n        console.error('[API Lessons DELETE Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\courses\\modules\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1842,1845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1842,1845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3492,3495],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3492,3495],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":135,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":135,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4827,4830],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4827,4830],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// POST - Criar m├│dulo\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { cursoId, titulo, release_days } = body\r\n\r\n        if (!cursoId || !titulo) {\r\n            return NextResponse.json({ error: 'cursoId e titulo s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o curso pertence ao usu├írio\r\n        const curso = await prisma.cursos.findFirst({\r\n            where: { id: cursoId },\r\n            include: { produtos: true }\r\n        })\r\n\r\n        if (!curso || curso.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Curso n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Buscar a maior ordem atual\r\n        const lastModule = await prisma.modulos.findFirst({\r\n            where: { curso_id: cursoId },\r\n            orderBy: { ordem: 'desc' }\r\n        })\r\n\r\n        const novaOrdem = (lastModule?.ordem ?? -1) + 1\r\n        const moduloId = uuidv4()\r\n\r\n        await prisma.modulos.create({\r\n            data: {\r\n                id: moduloId,\r\n                curso_id: cursoId,\r\n                titulo,\r\n                ordem: novaOrdem,\r\n                release_days: release_days || 0\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            moduloId,\r\n            message: 'M├│dulo criado com sucesso'\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Modules POST Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PUT - Atualizar m├│dulo\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { moduloId, titulo, ordem, release_days, imagem_capa_url } = body\r\n\r\n        if (!moduloId) {\r\n            return NextResponse.json({ error: 'moduloId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o m├│dulo pertence ao usu├írio\r\n        const modulo = await prisma.modulos.findFirst({\r\n            where: { id: moduloId },\r\n            include: { cursos: { include: { produtos: true } } }\r\n        })\r\n\r\n        if (!modulo || modulo.cursos.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'M├│dulo n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.modulos.update({\r\n            where: { id: moduloId },\r\n            data: {\r\n                titulo: titulo || modulo.titulo,\r\n                ordem: ordem !== undefined ? ordem : modulo.ordem,\r\n                release_days: release_days !== undefined ? release_days : modulo.release_days,\r\n                imagem_capa_url: imagem_capa_url !== undefined ? imagem_capa_url : modulo.imagem_capa_url\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'M├│dulo atualizado' })\r\n    } catch (error: any) {\r\n        console.error('[API Modules PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Excluir m├│dulo\r\nexport async function DELETE(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const moduloId = searchParams.get('moduloId')\r\n\r\n        if (!moduloId) {\r\n            return NextResponse.json({ error: 'moduloId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o m├│dulo pertence ao usu├írio\r\n        const modulo = await prisma.modulos.findFirst({\r\n            where: { id: moduloId },\r\n            include: { cursos: { include: { produtos: true } } }\r\n        })\r\n\r\n        if (!modulo || modulo.cursos.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'M├│dulo n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Cascade delete vai remover aulas e arquivos\r\n        await prisma.modulos.delete({\r\n            where: { id: moduloId }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'M├│dulo exclu├¡do' })\r\n    } catch (error: any) {\r\n        console.error('[API Modules DELETE Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\courses\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uuidv4' is defined but never used.","line":5,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1620,1623],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1620,1623],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3217,3220],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3217,3220],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET - Buscar curso por produto\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const produtoId = searchParams.get('produtoId')\r\n\r\n        if (!produtoId) {\r\n            return NextResponse.json({ error: 'produtoId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o produto pertence ao usu├írio\r\n        const produto = await prisma.produtos.findFirst({\r\n            where: { id: produtoId, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!produto) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        const curso = await prisma.cursos.findFirst({\r\n            where: { produto_id: produtoId },\r\n            include: {\r\n                modulos: {\r\n                    orderBy: { ordem: 'asc' },\r\n                    include: {\r\n                        aulas: {\r\n                            orderBy: { ordem: 'asc' },\r\n                            include: { aula_arquivos: true }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ curso })\r\n    } catch (error: any) {\r\n        console.error('[API Courses GET Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PUT - Atualizar curso\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { cursoId, titulo, descricao, imagem_url, banner_url } = body\r\n\r\n        if (!cursoId) {\r\n            return NextResponse.json({ error: 'cursoId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o curso pertence a um produto do usu├írio\r\n        const curso = await prisma.cursos.findFirst({\r\n            where: { id: cursoId },\r\n            include: { produtos: true }\r\n        })\r\n\r\n        if (!curso || curso.produtos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Curso n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.cursos.update({\r\n            where: { id: cursoId },\r\n            data: {\r\n                titulo: titulo || curso.titulo,\r\n                descricao: descricao !== undefined ? descricao : curso.descricao,\r\n                imagem_url: imagem_url !== undefined ? imagem_url : curso.imagem_url,\r\n                banner_url: banner_url !== undefined ? banner_url : curso.banner_url\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Curso atualizado' })\r\n    } catch (error: any) {\r\n        console.error('[API Courses PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\courses\\upload\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[143,143],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`fs/promises` import should occur before import of `next/server`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[0,193],"text":"import { writeFile, mkdir } from 'fs/promises'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":24,"fix":{"range":[216,216],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`path` import should occur before import of `next/server`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":24,"fix":{"range":[0,218],"text":"import path from 'path'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":36,"fix":{"range":[103,255],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\nimport path from 'path'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2055,2058],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2055,2058],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\nimport path from 'path'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const formData = await req.formData()\r\n        const file = formData.get('file') as File\r\n\r\n        if (!file) {\r\n            return NextResponse.json({ error: 'Arquivo n├úo fornecido' }, { status: 400 })\r\n        }\r\n\r\n        // Validar tamanho (max 50MB para materiais)\r\n        const maxSize = 50 * 1024 * 1024\r\n        if (file.size > maxSize) {\r\n            return NextResponse.json({ error: 'Arquivo muito grande. M├íximo: 50MB' }, { status: 400 })\r\n        }\r\n\r\n        // N├úo vamos restringir extens├Áes por enquanto, mas bloquear execut├íveis seria bom.\r\n        // Vamos permitir tudo exceto .exe, .bat, .sh\r\n        const ext = file.name.split('.').pop()?.toLowerCase() || ''\r\n        if (['exe', 'bat', 'sh', 'cmd', 'ps1'].includes(ext)) {\r\n            return NextResponse.json({ error: 'Tipo de arquivo n├úo permitido' }, { status: 400 })\r\n        }\r\n\r\n        const fileName = `${uuidv4()}.${ext}`\r\n        const uploadDir = path.join(process.cwd(), 'public', 'uploads', 'courses', 'materials')\r\n\r\n        await mkdir(uploadDir, { recursive: true })\r\n        const filePath = path.join(uploadDir, fileName)\r\n\r\n        const bytes = await file.arrayBuffer()\r\n        const buffer = Buffer.from(bytes)\r\n\r\n        await writeFile(filePath, buffer)\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            url: `/uploads/courses/materials/${fileName}`,\r\n            savedName: fileName,\r\n            originalName: file.name,\r\n            size: file.size,\r\n            mimeType: file.type\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[Course Upload Error]', error)\r\n        return NextResponse.json({ error: 'Erro no upload' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\cron\\process-emails\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":43,"fix":{"range":[42,42],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[336,339],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[336,339],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":21,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":21,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[657,737],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1843,1846],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1843,1846],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2385,2388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2385,2388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { sendEmail } from '@/lib/mail/mailer'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport async function GET() {\r\n    try {\r\n        // Buscar emails pendentes (limite de 50 por vez para n├úo estourar tempo de execu├º├úo)\r\n        const pendingEmails: any[] = await prisma.$queryRaw`\r\n            SELECT * FROM email_queue \r\n            WHERE status = 'pending' \r\n            ORDER BY created_at ASC \r\n            LIMIT 50\r\n        `\r\n\r\n        if (pendingEmails.length === 0) {\r\n            return NextResponse.json({ message: 'No pending emails' })\r\n        }\r\n\r\n        console.log(`[CRON_EMAIL] Processando ${pendingEmails.length} emails pendentes`)\r\n\r\n        const results = {\r\n            success: 0,\r\n            failed: 0\r\n        }\r\n\r\n        for (const email of pendingEmails) {\r\n            try {\r\n                // Enviar email\r\n                const result = await sendEmail(email.recipient_email, email.subject, email.body)\r\n\r\n                // Atualizar status\r\n                if (result.success) {\r\n                    await prisma.$executeRaw`\r\n                        UPDATE email_queue \r\n                        SET status = 'sent', sent_at = NOW() \r\n                        WHERE id = ${email.id}\r\n                    `\r\n                    results.success++\r\n                } else {\r\n                    // Contabilizar tentativas de falha se tiver campo retry (futuro) ou marcar failed\r\n                    await prisma.$executeRaw`\r\n                        UPDATE email_queue \r\n                        SET status = 'failed', error_message = ${result.error || 'Unknown error'}\r\n                        WHERE id = ${email.id}\r\n                    `\r\n                    results.failed++\r\n                }\r\n            } catch (err: any) {\r\n                console.error(`[CRON_EMAIL] Erro cr├¡tico ao processar email ${email.id}:`, err)\r\n                await prisma.$executeRaw`\r\n                        UPDATE email_queue \r\n                        SET status = 'failed', error_message = ${err.message}\r\n                        WHERE id = ${email.id}\r\n                    `\r\n                results.failed++\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({\r\n            processed: pendingEmails.length,\r\n            results\r\n        })\r\n\r\n    } catch (error: any) {\r\n        console.error('[CRON_EMAIL] Falha geral:', error)\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\integrations\\utmfy\\[id]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// DELETE\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const existing = await prisma.utmfy_integrations.findUnique({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        if (!existing || existing.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Integra├º├úo n├úo encontrada' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.utmfy_integrations.delete({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[API Utmfy DELETE]', error)\r\n        return NextResponse.json({ error: 'Erro ao excluir integra├º├úo' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\integrations\\utmfy\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const integrations = await prisma.utmfy_integrations.findMany({\r\n            where: { usuario_id: session.user.id },\r\n            include: {\r\n                produtos: { select: { id: true, nome: true } }\r\n            },\r\n            orderBy: { created_at: 'desc' }\r\n        })\r\n\r\n        return NextResponse.json(integrations)\r\n    } catch (error) {\r\n        console.error('[API Utmfy GET]', error)\r\n        return NextResponse.json({ error: 'Erro ao listar integra├º├Áes' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const body = await request.json()\r\n        const { name, api_token, product_id, events } = body\r\n\r\n        if (!name || !api_token) return NextResponse.json({ error: 'Nome e Token s├úo obrigat├│rios' }, { status: 400 })\r\n\r\n        const eventsMap = {\r\n            event_approved: events.includes('approved'),\r\n            event_pending: events.includes('pending'),\r\n            event_rejected: events.includes('rejected'),\r\n            event_refunded: events.includes('refunded'),\r\n            event_charged_back: events.includes('charged_back'),\r\n            event_initiate_checkout: events.includes('initiate_checkout')\r\n        }\r\n\r\n        const integration = await prisma.utmfy_integrations.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                usuario_id: session.user.id,\r\n                name,\r\n                api_token,\r\n                product_id: product_id || null,\r\n                ...eventsMap,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(integration)\r\n    } catch (error) {\r\n        console.error('[API Utmfy POST]', error)\r\n        return NextResponse.json({ error: 'Erro ao criar integra├º├úo' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\integrations\\webhooks\\[id]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// PUT - Atualizar Webhook\r\nexport async function PUT(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const body = await request.json()\r\n        const { url, events, produto_id } = body\r\n\r\n        // Verificar propriedade\r\n        const existing = await prisma.webhooks.findUnique({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        if (!existing || existing.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Webhook n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        if (url) {\r\n            try { new URL(url) } catch { return NextResponse.json({ error: 'URL inv├ílida' }, { status: 400 }) }\r\n        }\r\n\r\n        const eventsMap = events ? {\r\n            event_approved: events.includes('approved'),\r\n            event_pending: events.includes('pending'),\r\n            event_rejected: events.includes('rejected'),\r\n            event_refunded: events.includes('refunded'),\r\n            event_charged_back: events.includes('charged_back')\r\n        } : {}\r\n\r\n        const updated = await prisma.webhooks.update({\r\n            where: { id: params.id },\r\n            data: {\r\n                url: url || undefined,\r\n                produto_id: produto_id !== undefined ? (produto_id || null) : undefined,\r\n                ...eventsMap,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(updated)\r\n    } catch (error) {\r\n        console.error('[API Webhooks PUT]', error)\r\n        return NextResponse.json({ error: 'Erro ao atualizar webhook' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Remover Webhook\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const existing = await prisma.webhooks.findUnique({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        if (!existing || existing.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Webhook n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.webhooks.delete({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[API Webhooks DELETE]', error)\r\n        return NextResponse.json({ error: 'Erro ao excluir webhook' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\integrations\\webhooks\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET - Listar Webhooks\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const webhooks = await prisma.webhooks.findMany({\r\n            where: { usuario_id: session.user.id },\r\n            include: {\r\n                produtos: { select: { id: true, nome: true } }\r\n            },\r\n            orderBy: { created_at: 'desc' }\r\n        })\r\n\r\n        return NextResponse.json(webhooks)\r\n    } catch (error) {\r\n        console.error('[API Webhooks GET]', error)\r\n        return NextResponse.json({ error: 'Erro ao listar webhooks' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Criar Webhook\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const body = await request.json()\r\n        const { url, events, produto_id } = body\r\n\r\n        if (!url) return NextResponse.json({ error: 'URL ├® obrigat├│ria' }, { status: 400 })\r\n\r\n        // Validar URL\r\n        try {\r\n            new URL(url)\r\n        } catch {\r\n            return NextResponse.json({ error: 'URL inv├ílida' }, { status: 400 })\r\n        }\r\n\r\n        const eventsMap = {\r\n            event_approved: events.includes('approved'),\r\n            event_pending: events.includes('pending'),\r\n            event_rejected: events.includes('rejected'),\r\n            event_refunded: events.includes('refunded'),\r\n            event_charged_back: events.includes('charged_back')\r\n        }\r\n\r\n        const webhook = await prisma.webhooks.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                usuario_id: session.user.id,\r\n                produto_id: produto_id || null, // Se vazio, ├® global\r\n                url,\r\n                ...eventsMap,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(webhook)\r\n    } catch (error) {\r\n        console.error('[API Webhooks POST]', error)\r\n        return NextResponse.json({ error: 'Erro ao criar webhook' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\members\\files\\[fileId]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":54,"fix":{"range":[110,110],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":39,"fix":{"range":[150,150],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/headers` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":39,"fix":{"range":[0,152],"text":"import { cookies } from 'next/headers'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[185,185],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`fs` import should occur before import of `next/server`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":20,"fix":{"range":[0,208],"text":"import fs from 'fs'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { cookies } from 'next/headers'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`path` import should occur before import of `next/server`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":24,"fix":{"range":[0,233],"text":"import path from 'path'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { cookies } from 'next/headers'\r\nimport { prisma } from '@/lib/db'\r\nimport fs from 'fs'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[480,483],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[480,483],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1367,1370],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1367,1370],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1790,1793],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1790,1793],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3489,3492],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3489,3492],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":7,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { cookies } from 'next/headers'\r\nimport { prisma } from '@/lib/db'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport async function GET(\r\n    request: NextRequest,\r\n    { params }: { params: { fileId: string } }\r\n) {\r\n    try {\r\n        const cookieStore = cookies()\r\n        const token = cookieStore.get('member_session')?.value\r\n        const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { fileId } = params\r\n\r\n        // Buscar arquivo\r\n        const arquivo = await prisma.aula_arquivos.findUnique({\r\n            where: { id: fileId },\r\n            include: {\r\n                aulas: {\r\n                    include: {\r\n                        modulos: {\r\n                            include: { cursos: true }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        if (!arquivo) {\r\n            return NextResponse.json({ error: 'Arquivo n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Verificar se o aluno tem acesso ao produto\r\n        const produtoId = arquivo.aulas.modulos.cursos.produto_id\r\n        const access: any[] = await prisma.$queryRaw`\r\n            SELECT id FROM alunos_acessos\r\n            WHERE email_aluno = ${session.email}\r\n            AND produto_id = ${produtoId}\r\n        `\r\n\r\n        if (access.length === 0) {\r\n            return NextResponse.json({ error: 'Sem acesso ao curso' }, { status: 403 })\r\n        }\r\n\r\n        // Verificar libera├º├úo por tempo (release_days) do m├│dulo e da aula\r\n        const accessData: any[] = await prisma.$queryRaw`\r\n            SELECT data_acesso FROM alunos_acessos\r\n            WHERE email_aluno = ${session.email}\r\n            AND produto_id = ${produtoId}\r\n            LIMIT 1\r\n        `\r\n\r\n        if (accessData.length > 0) {\r\n            const dataAcesso = new Date(accessData[0].data_acesso)\r\n            const agora = new Date()\r\n            const diasDesdeAcesso = Math.floor((agora.getTime() - dataAcesso.getTime()) / (1000 * 60 * 60 * 24))\r\n\r\n            const moduloReleaseDays = arquivo.aulas.modulos.release_days || 0\r\n            const aulaReleaseDays = arquivo.aulas.release_days || 0\r\n            const maxReleaseDays = Math.max(moduloReleaseDays, aulaReleaseDays)\r\n\r\n            if (diasDesdeAcesso < maxReleaseDays) {\r\n                return NextResponse.json({\r\n                    error: `Este conte├║do ser├í liberado em ${maxReleaseDays - diasDesdeAcesso} dia(s)`\r\n                }, { status: 403 })\r\n            }\r\n        }\r\n\r\n        // Ler o arquivo do sistema\r\n        const filePath = path.join(process.cwd(), 'uploads', arquivo.caminho_arquivo)\r\n\r\n        if (!fs.existsSync(filePath)) {\r\n            return NextResponse.json({ error: 'Arquivo n├úo encontrado no servidor' }, { status: 404 })\r\n        }\r\n\r\n        const fileBuffer = fs.readFileSync(filePath)\r\n        const mimeType = arquivo.tipo_mime || 'application/octet-stream'\r\n\r\n        return new NextResponse(fileBuffer, {\r\n            headers: {\r\n                'Content-Type': mimeType,\r\n                'Content-Disposition': `attachment; filename=\"${arquivo.nome_original}\"`,\r\n                'Content-Length': fileBuffer.length.toString()\r\n            }\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Download File Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\members\\progress\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":54,"fix":{"range":[110,110],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":39,"fix":{"range":[150,150],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/headers` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":39,"fix":{"range":[0,152],"text":"import { cookies } from 'next/headers'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[185,185],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth-member`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[57,224],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { cookies } from 'next/headers'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[450,453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[450,453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1430,1433],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1430,1433],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1813,1816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1813,1816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2635,2638],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2635,2638],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3460,3463],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3460,3463],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":102,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3866,3869],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3866,3869],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":122,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4558,4561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4558,4561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { cookies } from 'next/headers'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET - Buscar progresso do aluno\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const cookieStore = cookies()\r\n        const token = cookieStore.get('member_session')?.value\r\n        const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const produtoId = searchParams.get('produtoId')\r\n\r\n        if (!produtoId) {\r\n            return NextResponse.json({ error: 'produtoId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Buscar todas as aulas conclu├¡das deste aluno para este produto\r\n        const progresso = await prisma.$queryRaw`\r\n            SELECT ap.aula_id, ap.data_conclusao\r\n            FROM aluno_progresso ap\r\n            INNER JOIN aulas a ON a.id = ap.aula_id\r\n            INNER JOIN modulos m ON m.id = a.modulo_id\r\n            INNER JOIN cursos c ON c.id = m.curso_id\r\n            WHERE ap.aluno_email = ${session.email}\r\n            AND c.produto_id = ${produtoId}\r\n        `\r\n\r\n        return NextResponse.json({ progresso })\r\n    } catch (error: any) {\r\n        console.error('[API Progress GET Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Marcar aula como conclu├¡da\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const cookieStore = cookies()\r\n        const token = cookieStore.get('member_session')?.value\r\n        const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { aulaId } = await request.json()\r\n\r\n        if (!aulaId) {\r\n            return NextResponse.json({ error: 'aulaId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se a aula existe\r\n        const aula = await prisma.aulas.findUnique({\r\n            where: { id: aulaId },\r\n            include: { modulos: { include: { cursos: true } } }\r\n        })\r\n\r\n        if (!aula) {\r\n            return NextResponse.json({ error: 'Aula n├úo encontrada' }, { status: 404 })\r\n        }\r\n\r\n        // Verificar se o aluno tem acesso ao produto\r\n        const produtoId = aula.modulos.cursos.produto_id\r\n        const access: any[] = await prisma.$queryRaw`\r\n            SELECT id FROM alunos_acessos\r\n            WHERE email_aluno = ${session.email}\r\n            AND produto_id = ${produtoId}\r\n        `\r\n\r\n        if (access.length === 0) {\r\n            return NextResponse.json({ error: 'Sem acesso ao curso' }, { status: 403 })\r\n        }\r\n\r\n        // Inserir ou atualizar progresso (upsert via raw por causa do @unique constraint)\r\n        const progressId = uuidv4()\r\n        await prisma.$executeRaw`\r\n            INSERT INTO aluno_progresso (id, aluno_email, aula_id, data_conclusao)\r\n            VALUES (${progressId}, ${session.email}, ${aulaId}, NOW())\r\n            ON CONFLICT (aluno_email, aula_id) DO NOTHING\r\n        `\r\n\r\n        return NextResponse.json({ success: true, message: 'Aula marcada como conclu├¡da' })\r\n    } catch (error: any) {\r\n        console.error('[API Progress POST Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Remover progresso (desmarcar como conclu├¡da)\r\nexport async function DELETE(request: NextRequest) {\r\n    try {\r\n        const cookieStore = cookies()\r\n        const token = cookieStore.get('member_session')?.value\r\n        const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const aulaId = searchParams.get('aulaId')\r\n\r\n        if (!aulaId) {\r\n            return NextResponse.json({ error: 'aulaId ├® obrigat├│rio' }, { status: 400 })\r\n        }\r\n\r\n        await prisma.$executeRaw`\r\n            DELETE FROM aluno_progresso\r\n            WHERE aluno_email = ${session.email}\r\n            AND aula_id = ${aulaId}\r\n        `\r\n\r\n        return NextResponse.json({ success: true, message: 'Progresso removido' })\r\n    } catch (error: any) {\r\n        console.error('[API Progress DELETE Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\members\\setup-password\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":34,"fix":{"range":[90,90],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":28,"fix":{"range":[0,121],"text":"import crypto from 'crypto'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1504,1507],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1504,1507],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2609,2612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2609,2612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3655,3658],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3655,3658],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":127,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4585,4588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4585,4588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport crypto from 'crypto'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const { token, password, confirmPassword } = await request.json()\r\n\r\n        if (!token || !password || !confirmPassword) {\r\n            return NextResponse.json({ error: 'Todos os campos s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            return NextResponse.json({ error: 'As senhas n├úo coincidem' }, { status: 400 })\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            return NextResponse.json({ error: 'A senha deve ter no m├¡nimo 6 caracteres' }, { status: 400 })\r\n        }\r\n\r\n        // Buscar acesso pelo token de setup (usando uma abordagem simples via email criptografado)\r\n        // O token seria uma combina├º├úo de email_hash + produto_id_hash\r\n        // Vamos assumir que o token ├® base64(email:produtoId)\r\n        let email: string\r\n        let produtoId: string\r\n\r\n        try {\r\n            const decoded = Buffer.from(token, 'base64').toString('utf-8')\r\n            const parts = decoded.split(':')\r\n            if (parts.length !== 2) throw new Error('Token inv├ílido')\r\n            email = parts[0]\r\n            produtoId = parts[1]\r\n        } catch {\r\n            return NextResponse.json({ error: 'Token inv├ílido ou expirado' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o acesso existe\r\n        const access: any[] = await prisma.$queryRaw`\r\n            SELECT id, senha FROM alunos_acessos\r\n            WHERE email_aluno = ${email}\r\n            AND produto_id = ${produtoId}\r\n        `\r\n\r\n        if (access.length === 0) {\r\n            return NextResponse.json({ error: 'Acesso n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Verificar se j├í tem senha configurada\r\n        if (access[0].senha) {\r\n            return NextResponse.json({ error: 'A senha j├í foi configurada. Use o login normal.' }, { status: 400 })\r\n        }\r\n\r\n        // Hash da senha usando SHA256 (mesmo padr├úo do seed-access.ts)\r\n        const senhaHash = crypto.createHash('sha256').update(password).digest('hex')\r\n\r\n        // Atualizar senha\r\n        await prisma.$executeRaw`\r\n            UPDATE alunos_acessos\r\n            SET senha = ${senhaHash}\r\n            WHERE email_aluno = ${email}\r\n            AND produto_id = ${produtoId}\r\n        `\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Senha configurada com sucesso! Voc├¬ j├í pode fazer login.'\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Setup Password Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// GET - Verificar se o token ├® v├ílido\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const { searchParams } = new URL(request.url)\r\n        const token = searchParams.get('token')\r\n\r\n        if (!token) {\r\n            return NextResponse.json({ valid: false, error: 'Token n├úo fornecido' }, { status: 400 })\r\n        }\r\n\r\n        let email: string\r\n        let produtoId: string\r\n\r\n        try {\r\n            const decoded = Buffer.from(token, 'base64').toString('utf-8')\r\n            const parts = decoded.split(':')\r\n            if (parts.length !== 2) throw new Error('Token inv├ílido')\r\n            email = parts[0]\r\n            produtoId = parts[1]\r\n        } catch {\r\n            return NextResponse.json({ valid: false, error: 'Token inv├ílido' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar se o acesso existe e n├úo tem senha\r\n        const access: any[] = await prisma.$queryRaw`\r\n            SELECT id, senha FROM alunos_acessos\r\n            WHERE email_aluno = ${email}\r\n            AND produto_id = ${produtoId}\r\n        `\r\n\r\n        if (access.length === 0) {\r\n            return NextResponse.json({ valid: false, error: 'Acesso n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        if (access[0].senha) {\r\n            return NextResponse.json({\r\n                valid: false,\r\n                error: 'A senha j├í foi configurada',\r\n                alreadySetup: true\r\n            })\r\n        }\r\n\r\n        // Buscar nome do produto para exibir na p├ígina\r\n        const produto = await prisma.produtos.findUnique({\r\n            where: { id: produtoId },\r\n            select: { nome: true }\r\n        })\r\n\r\n        return NextResponse.json({\r\n            valid: true,\r\n            email,\r\n            produtoNome: produto?.nome || 'Produto'\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Setup Password GET Error]', error)\r\n        return NextResponse.json({ valid: false, error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\notifications\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":34,"fix":{"range":[90,90],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@prisma/client` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":40,"fix":{"range":[0,133],"text":"import { Prisma } from '@prisma/client'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[440,443],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[440,443],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[760,763],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[760,763],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1478,1481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1478,1481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { Prisma } from '@prisma/client'\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const url = new URL(req.url)\r\n        const userId = url.searchParams.get('userId')\r\n\r\n        if (!userId) {\r\n            return NextResponse.json({ error: 'User ID required' }, { status: 400 })\r\n        }\r\n\r\n        const notifications: any[] = await prisma.$queryRaw`\r\n            SELECT id, tipo, mensagem, data_notificacao, lida \r\n            FROM notificacoes \r\n            WHERE usuario_id = ${userId} \r\n            ORDER BY data_notificacao DESC\r\n            LIMIT 50\r\n        `\r\n\r\n        return NextResponse.json(notifications)\r\n    } catch (error: any) {\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function PUT(req: NextRequest) {\r\n    try {\r\n        const body = await req.json()\r\n        const { notificationIds } = body\r\n\r\n        if (!notificationIds || !Array.isArray(notificationIds)) {\r\n            return NextResponse.json({ error: 'Invalid IDs' }, { status: 400 })\r\n        }\r\n\r\n        if (notificationIds.length > 0) {\r\n            await prisma.$executeRaw`\r\n                UPDATE notificacoes \r\n                SET lida = true \r\n                WHERE id IN (${Prisma.join(notificationIds)})\r\n            `\r\n        }\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error: any) {\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\payments\\process\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/gateways/efi` import should occur before import of `@/lib/gateways/mercadopago`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":48,"fix":{"range":[92,267],"text":"import { EfiGateway } from '@/lib/gateways/efi'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\nimport { PushinPayGateway } from '@/lib/gateways/pushinpay'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/gateways/beehive` import should occur before import of `@/lib/gateways/mercadopago`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":56,"fix":{"range":[92,324],"text":"import { BeehiveGateway } from '@/lib/gateways/beehive'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\nimport { PushinPayGateway } from '@/lib/gateways/pushinpay'\r\nimport { EfiGateway } from '@/lib/gateways/efi'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":60,"fix":{"range":[383,383],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/gateways/hypercash` import should occur before import of `@/lib/gateways/mercadopago`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":60,"fix":{"range":[92,385],"text":"import { HypercashGateway } from '@/lib/gateways/hypercash'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\nimport { PushinPayGateway } from '@/lib/gateways/pushinpay'\r\nimport { EfiGateway } from '@/lib/gateways/efi'\r\nimport { BeehiveGateway } from '@/lib/gateways/beehive'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/db`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":36,"fix":{"range":[57,422],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { prisma } from '@/lib/db'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\nimport { PushinPayGateway } from '@/lib/gateways/pushinpay'\r\nimport { EfiGateway } from '@/lib/gateways/efi'\r\nimport { BeehiveGateway } from '@/lib/gateways/beehive'\r\nimport { HypercashGateway } from '@/lib/gateways/hypercash'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1808,1811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1808,1811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2691,2694],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2691,2694],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":125,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4823,4826],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4823,4826],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":210,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":210,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8856,8859],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8856,8859],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":232,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9922,9925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9922,9925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":295,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":295,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12247,12250],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12247,12250],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\nimport { PushinPayGateway } from '@/lib/gateways/pushinpay'\r\nimport { EfiGateway } from '@/lib/gateways/efi'\r\nimport { BeehiveGateway } from '@/lib/gateways/beehive'\r\nimport { HypercashGateway } from '@/lib/gateways/hypercash'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// Interface para o payload do checkout\r\ninterface CheckoutPayload {\r\n    productId: string  // Este ├® na verdade o checkout_hash, n├úo o ID\r\n    customer: {\r\n        name: string\r\n        email: string\r\n        cpf: string\r\n        phone: string\r\n    }\r\n    address?: {\r\n        cep: string\r\n        street: string\r\n        number: string\r\n        complement?: string\r\n        neighborhood: string\r\n        city: string\r\n        state: string\r\n    }\r\n    paymentMethod: 'pix' | 'credit_card' | 'boleto'\r\n    orderBumps: string[]\r\n    amount: number\r\n    cardData?: {\r\n        token?: string\r\n        cardNumber?: string\r\n        cardholderName?: string\r\n        cardExpirationMonth?: string\r\n        cardExpirationYear?: string\r\n        securityCode?: string\r\n        installments: number\r\n        identificationType?: string\r\n        identificationNumber?: string\r\n    }\r\n    utm?: {\r\n        source?: string\r\n        medium?: string\r\n        campaign?: string\r\n        content?: string\r\n        term?: string\r\n        src?: string\r\n        sck?: string\r\n    }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body: CheckoutPayload = await request.json()\r\n        const { productId, customer, address, paymentMethod, orderBumps, cardData, utm } = body\r\n\r\n        // 1. Buscar produto pelo checkout_hash (n├úo pelo ID direto)\r\n        const produtos: any[] = await prisma.$queryRaw`\r\n            SELECT \r\n                p.id, p.nome, p.preco, p.gateway, p.checkout_hash,\r\n                u.id as usuario_id, u.mp_access_token, u.pushinpay_token,\r\n                u.efi_client_id, u.efi_client_secret, u.efi_pix_key\r\n            FROM produtos p\r\n            JOIN usuarios u ON p.usuario_id = u.id\r\n            WHERE p.checkout_hash = ${productId} OR p.id = ${productId}\r\n        `\r\n\r\n        if (produtos.length === 0) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        const product = produtos[0]\r\n\r\n        // 2. Calcular valor total (produto + order bumps)\r\n        let totalAmount = Number(product.preco)\r\n        const bumpProducts: { id: string; name: string; price: number }[] = []\r\n\r\n        if (orderBumps && orderBumps.length > 0) {\r\n            const bumps: any[] = await prisma.$queryRaw`\r\n                SELECT \r\n                    ob.id, \r\n                    op.id as offer_id, op.nome, op.preco\r\n                FROM order_bumps ob\r\n                JOIN produtos op ON ob.offer_product_id = op.id\r\n                WHERE ob.id = ANY(${orderBumps}::text[])\r\n            `\r\n\r\n            for (const bump of bumps) {\r\n                totalAmount += Number(bump.preco)\r\n                bumpProducts.push({\r\n                    id: bump.offer_id,\r\n                    name: bump.nome,\r\n                    price: Number(bump.preco),\r\n                })\r\n            }\r\n        }\r\n\r\n        // 3. Gerar ID da venda\r\n        const saleId = uuidv4()\r\n\r\n        // 4. Criar venda no banco (usando enum correto: 'pending' ao inv├®s de 'pendente')\r\n        await prisma.$executeRaw`\r\n            INSERT INTO vendas (\r\n                id, produto_id, valor, metodo_pagamento, status_pagamento,\r\n                comprador_nome, comprador_email, comprador_cpf, comprador_telefone,\r\n                comprador_cep, comprador_logradouro, comprador_numero,\r\n                comprador_complemento, comprador_bairro, comprador_cidade, comprador_estado,\r\n                utm_source, utm_medium, utm_campaign, utm_content, utm_term, src, sck,\r\n                data_venda\r\n            ) VALUES (\r\n                ${saleId}, ${product.id}, ${totalAmount}, ${paymentMethod}, 'pending',\r\n                ${customer.name}, ${customer.email}, ${customer.cpf}, ${customer.phone},\r\n                ${address?.cep || null}, ${address?.street || null}, ${address?.number || null},\r\n                ${address?.complement || null}, ${address?.neighborhood || null}, \r\n                ${address?.city || null}, ${address?.state || null},\r\n                ${utm?.source || null}, ${utm?.medium || null}, ${utm?.campaign || null},\r\n                ${utm?.content || null}, ${utm?.term || null}, ${utm?.src || null}, ${utm?.sck || null},\r\n                NOW()\r\n            )\r\n        `\r\n\r\n        // 5. Processar pagamento pelo gateway\r\n        const gateway = product.gateway || 'mercadopago'\r\n        let paymentResult: any\r\n\r\n        switch (gateway) {\r\n            case 'mercadopago':\r\n                if (!product.mp_access_token) {\r\n                    throw new Error('Mercado Pago n├úo configurado para este produto')\r\n                }\r\n\r\n                let cardToken = cardData?.token\r\n\r\n                // Se for cart├úo de cr├®dito e n├úo tiver token, tokenizar no servidor\r\n                if (paymentMethod === 'credit_card' && !cardToken && cardData?.cardNumber) {\r\n                    // Tokenizar cart├úo usando API do Mercado Pago\r\n                    const tokenResponse = await fetch(\r\n                        'https://api.mercadopago.com/v1/card_tokens',\r\n                        {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Authorization': `Bearer ${product.mp_access_token}`,\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            body: JSON.stringify({\r\n                                card_number: cardData.cardNumber,\r\n                                cardholder: {\r\n                                    name: cardData.cardholderName,\r\n                                    identification: {\r\n                                        type: cardData.identificationType || 'CPF',\r\n                                        number: cardData.identificationNumber,\r\n                                    },\r\n                                },\r\n                                expiration_month: parseInt(cardData.cardExpirationMonth || '01'),\r\n                                expiration_year: parseInt('20' + (cardData.cardExpirationYear || '25')),\r\n                                security_code: cardData.securityCode,\r\n                            }),\r\n                        }\r\n                    )\r\n\r\n                    if (!tokenResponse.ok) {\r\n                        const tokenError = await tokenResponse.json()\r\n                        console.error('[PAYMENT_PROCESS] Erro ao tokenizar:', tokenError)\r\n                        throw new Error(\r\n                            tokenError.cause?.[0]?.description ||\r\n                            tokenError.message ||\r\n                            'Erro ao processar dados do cart├úo'\r\n                        )\r\n                    }\r\n\r\n                    const tokenData = await tokenResponse.json()\r\n                    cardToken = tokenData.id\r\n                }\r\n\r\n                const mpGateway = new MercadoPagoGateway(product.mp_access_token)\r\n                paymentResult = await mpGateway.createPayment({\r\n                    amount: totalAmount,\r\n                    description: product.nome,\r\n                    paymentMethod,\r\n                    customer: {\r\n                        email: customer.email,\r\n                        name: customer.name,\r\n                        cpf: customer.cpf,\r\n                        address: address ? {\r\n                            zip_code: address.cep.replace(/\\D/g, ''),\r\n                            street_name: address.street,\r\n                            street_number: address.number,\r\n                            neighborhood: address.neighborhood,\r\n                            city: address.city,\r\n                            federal_unit: address.state\r\n                        } : undefined\r\n                    },\r\n                    externalReference: saleId,\r\n                    cardToken: cardToken,\r\n                    installments: cardData?.installments || 1,\r\n                })\r\n                break\r\n\r\n\r\n\r\n            // TODO: Implementar outros gateways\r\n            case 'pushinpay':\r\n                if (!product.pushinpay_token) {\r\n                    throw new Error('PushinPay n├úo configurado')\r\n                }\r\n                const ppGateway = new PushinPayGateway(product.pushinpay_token)\r\n                paymentResult = await ppGateway.createPayment({\r\n                    amount: totalAmount,\r\n                    paymentMethod: paymentMethod as any, // PushinPay s├│ pix por enquanto\r\n                    customer: {\r\n                        email: customer.email,\r\n                        name: customer.name,\r\n                        cpf: customer.cpf\r\n                    },\r\n                    externalReference: saleId\r\n                })\r\n                break\r\n\r\n            case 'efi':\r\n                if (!product.efi_client_id || !product.efi_client_secret || !product.efi_pix_key) {\r\n                    throw new Error('Ef├¡ n├úo configurado (Client ID, Secret e Chave Pix obrigat├│rios)')\r\n                }\r\n                const efiGateway = new EfiGateway({\r\n                    clientId: product.efi_client_id,\r\n                    clientSecret: product.efi_client_secret,\r\n                    pixKey: product.efi_pix_key,\r\n                    certificateName: `cert_${product.usuario_id}.p12` // Conven├º├úo de nome\r\n                })\r\n                paymentResult = await efiGateway.createPayment({\r\n                    amount: totalAmount,\r\n                    paymentMethod: paymentMethod as any,\r\n                    customer: {\r\n                        name: customer.name,\r\n                        cpf: customer.cpf\r\n                    },\r\n                    externalReference: saleId\r\n                })\r\n                break\r\n\r\n            case 'beehive':\r\n                const beehiveGateway = new BeehiveGateway({ apiToken: 'TODO' })\r\n                paymentResult = await beehiveGateway.createPayment({})\r\n                break\r\n\r\n            case 'hypercash':\r\n                const hypercashGateway = new HypercashGateway({ secretKey: 'TODO', publicKey: 'TODO' })\r\n                paymentResult = await hypercashGateway.createPayment({})\r\n                break\r\n\r\n            default:\r\n                throw new Error('Gateway n├úo suportado')\r\n        }\r\n\r\n        // 6. Atualizar venda com ID do gateway e status adequado\r\n        const dbStatus = paymentResult.status === 'APPROVED'\r\n            ? 'approved'\r\n            : paymentMethod === 'pix'\r\n                ? 'pix_created'\r\n                : 'pending'\r\n\r\n        await prisma.$executeRaw`\r\n            UPDATE vendas \r\n            SET transacao_id = ${paymentResult.paymentId},\r\n                status_pagamento = ${dbStatus}::sale_status\r\n            WHERE id = ${saleId}\r\n        `\r\n\r\n        // 7. Retornar resultado\r\n        return NextResponse.json({\r\n            success: true,\r\n            orderId: saleId,\r\n            paymentId: paymentResult.paymentId,\r\n            status: paymentResult.status,\r\n            // Dados espec├¡ficos por m├®todo de pagamento\r\n            ...(paymentMethod === 'pix' && {\r\n                pixData: {\r\n                    qrCode: paymentResult.qrCode,\r\n                    qrCodeBase64: paymentResult.qrCodeBase64,\r\n                    copyPaste: paymentResult.copyPaste,\r\n                    expiresAt: paymentResult.expiresAt,\r\n                },\r\n            }),\r\n            ...(paymentMethod === 'boleto' && {\r\n                boletoData: {\r\n                    barcode: paymentResult.barcode,\r\n                    url: paymentResult.boletoUrl,\r\n                    expiresAt: paymentResult.expiresAt,\r\n                },\r\n            }),\r\n            ...(paymentMethod === 'credit_card' && {\r\n                redirectUrl: `/obrigado?order=${saleId}`,\r\n            }),\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[PAYMENT_PROCESS] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: error.message || 'Erro ao processar pagamento' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\payments\\status\\[orderId]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2864,2867],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2864,2867],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":100,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3595,3598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3595,3598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { MercadoPagoGateway } from '@/lib/gateways/mercadopago'\r\n\r\nexport async function GET(\r\n    request: NextRequest,\r\n    { params }: { params: { orderId: string } }\r\n) {\r\n    try {\r\n        const { orderId } = params\r\n\r\n        // Buscar venda com produto e vendedor\r\n        const sale = await prisma.vendas.findUnique({\r\n            where: { id: orderId },\r\n            include: {\r\n                produtos: {\r\n                    include: {\r\n                        usuarios: {\r\n                            select: {\r\n                                mp_access_token: true,\r\n                            },\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n        })\r\n\r\n        if (!sale) {\r\n            return NextResponse.json({ error: 'Pedido n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Mapear status\r\n        const statusMap: Record<string, string> = {\r\n            pendente: 'PENDING',\r\n            aprovado: 'APPROVED',\r\n            rejeitado: 'REJECTED',\r\n            cancelado: 'CANCELLED',\r\n            reembolsado: 'REFUNDED',\r\n            chargeback: 'CHARGED_BACK',\r\n        }\r\n\r\n        const currentStatus = statusMap[sale.status_pagamento] || 'PENDING'\r\n\r\n        // Se j├í est├í aprovado ou rejeitado, retornar direto\r\n        if (['APPROVED', 'REJECTED', 'CANCELLED', 'REFUNDED'].includes(currentStatus)) {\r\n            return NextResponse.json({\r\n                orderId: sale.id,\r\n                status: currentStatus,\r\n                productName: sale.produtos.nome,\r\n                amount: Number(sale.valor),\r\n            })\r\n        }\r\n\r\n        // Se tem ID do pagamento no gateway, consultar status atualizado\r\n        if (sale.transacao_id && sale.produtos.usuarios.mp_access_token) {\r\n            try {\r\n                const gateway = new MercadoPagoGateway(sale.produtos.usuarios.mp_access_token)\r\n                const { status } = await gateway.getPaymentStatus(sale.transacao_id)\r\n\r\n                // Mapear status do gateway para status do banco\r\n                const dbStatusMap: Record<string, string> = {\r\n                    PENDING: 'pendente',\r\n                    APPROVED: 'aprovado',\r\n                    REJECTED: 'rejeitado',\r\n                    CANCELLED: 'cancelado',\r\n                    REFUNDED: 'reembolsado',\r\n                    CHARGED_BACK: 'chargeback',\r\n                }\r\n\r\n                const newDbStatus = dbStatusMap[status] || 'pendente'\r\n\r\n                // Atualizar status se mudou\r\n                if (newDbStatus !== sale.status_pagamento) {\r\n                    await prisma.vendas.update({\r\n                        where: { id: sale.id },\r\n                        data: {\r\n                            status_pagamento: newDbStatus as any,\r\n                        },\r\n                    })\r\n                }\r\n\r\n                return NextResponse.json({\r\n                    orderId: sale.id,\r\n                    status: status,\r\n                    productName: sale.produtos.nome,\r\n                    amount: Number(sale.valor),\r\n                })\r\n            } catch (error) {\r\n                console.error('[PAYMENT_STATUS] Erro ao consultar gateway:', error)\r\n            }\r\n        }\r\n\r\n        // Retornar status atual do banco\r\n        return NextResponse.json({\r\n            orderId: sale.id,\r\n            status: currentStatus,\r\n            productName: sale.produtos.nome,\r\n            amount: Number(sale.valor),\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[PAYMENT_STATUS] Erro:', error)\r\n        return NextResponse.json(\r\n            { error: 'Erro ao consultar status' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\products\\[id]\\bumps\\[bumpId]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// PUT - Atualizar Bump\r\nexport async function PUT(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string, bumpId: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const body = await request.json()\r\n        const { headline, description, is_active } = body\r\n\r\n        // Verificar propriedade via produto principal\r\n        const bump = await prisma.order_bumps.findUnique({\r\n            where: { id: params.bumpId },\r\n            include: { produtos_order_bumps_main_product_idToprodutos: true }\r\n        })\r\n\r\n        if (!bump || bump.produtos_order_bumps_main_product_idToprodutos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Bump n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        const updated = await prisma.order_bumps.update({\r\n            where: { id: params.bumpId },\r\n            data: {\r\n                headline: headline !== undefined ? headline : bump.headline,\r\n                description: description !== undefined ? description : bump.description,\r\n                is_active: is_active !== undefined ? is_active : bump.is_active\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(updated)\r\n    } catch (error) {\r\n        console.error('[API Bump PUT]', error)\r\n        return NextResponse.json({ error: 'Erro ao atualizar bump' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Remover Bump\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string, bumpId: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        // Verificar propriedade\r\n        const bump = await prisma.order_bumps.findUnique({\r\n            where: { id: params.bumpId },\r\n            include: { produtos_order_bumps_main_product_idToprodutos: true }\r\n        })\r\n\r\n        if (!bump || bump.produtos_order_bumps_main_product_idToprodutos.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Bump n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.order_bumps.delete({\r\n            where: { id: params.bumpId }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[API Bump DELETE]', error)\r\n        return NextResponse.json({ error: 'Erro ao excluir bump' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\products\\[id]\\bumps\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET - Listar Order Bumps do Produto\r\nexport async function GET(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        // Verificar propriedade do produto principal\r\n        const produto = await prisma.produtos.findFirst({\r\n            where: { id: params.id, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!produto) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        const bumps = await prisma.order_bumps.findMany({\r\n            where: { main_product_id: params.id },\r\n            include: {\r\n                produtos_order_bumps_offer_product_idToprodutos: {\r\n                    select: { id: true, nome: true, preco: true, foto: true }\r\n                }\r\n            },\r\n            orderBy: { ordem: 'asc' }\r\n        })\r\n\r\n        // Mapear para nome mais amig├ível para o frontend\r\n        const savedBumps = bumps.map(bump => ({\r\n            id: bump.id,\r\n            main_product_id: bump.main_product_id,\r\n            offer_product_id: bump.offer_product_id,\r\n            headline: bump.headline,\r\n            description: bump.description,\r\n            ordem: bump.ordem,\r\n            is_active: bump.is_active,\r\n            offer_product: bump.produtos_order_bumps_offer_product_idToprodutos\r\n        }))\r\n\r\n        return NextResponse.json(savedBumps)\r\n    } catch (error) {\r\n        console.error('[API Bumps GET]', error)\r\n        return NextResponse.json({ error: 'Erro ao listar bumps' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Criar Order Bump\r\nexport async function POST(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { offerProductId, headline, description } = body\r\n\r\n        if (!offerProductId || !headline) {\r\n            return NextResponse.json({ error: 'Dados inv├ílidos' }, { status: 400 })\r\n        }\r\n\r\n        // Verificar propriedade do produto principal\r\n        const mainProduct = await prisma.produtos.findFirst({\r\n            where: { id: params.id, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!mainProduct) return NextResponse.json({ error: 'Produto principal n├úo encontrado' }, { status: 404 })\r\n\r\n        // Verificar propriedade do produto oferta\r\n        const offerProduct = await prisma.produtos.findFirst({\r\n            where: { id: offerProductId, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!offerProduct) return NextResponse.json({ error: 'Produto oferta n├úo encontrado' }, { status: 404 })\r\n\r\n        // Verificar se j├í existe (evitar duplicata do mesmo par)\r\n        const exists = await prisma.order_bumps.findFirst({\r\n            where: { main_product_id: params.id, offer_product_id: offerProductId }\r\n        })\r\n\r\n        if (exists) return NextResponse.json({ error: 'Este produto j├í ├® um order bump para este produto' }, { status: 400 })\r\n\r\n        // Contar para ordem\r\n        const count = await prisma.order_bumps.count({ where: { main_product_id: params.id } })\r\n\r\n        const bump = await prisma.order_bumps.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                main_product_id: params.id,\r\n                offer_product_id: offerProductId,\r\n                headline,\r\n                description,\r\n                ordem: count\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(bump)\r\n\r\n    } catch (error) {\r\n        console.error('[API Bumps POST]', error)\r\n        return NextResponse.json({ error: 'Erro ao criar bump' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\products\\[id]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1301,1304],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1301,1304],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2926,2929],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2926,2929],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":111,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4394,4397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4394,4397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":143,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5491,5494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5491,5494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// GET - Buscar produto espec├¡fico\r\nexport async function GET(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const produto = await prisma.produtos.findFirst({\r\n            where: {\r\n                id: params.id,\r\n                usuario_id: session.user.id\r\n            },\r\n            include: {\r\n                cursos: {\r\n                    include: {\r\n                        modulos: {\r\n                            orderBy: { ordem: 'asc' },\r\n                            include: {\r\n                                aulas: { orderBy: { ordem: 'asc' } }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        if (!produto) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        return NextResponse.json({ produto })\r\n    } catch (error: any) {\r\n        console.error('[API Product GET Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PUT - Atualizar produto\r\nexport async function PUT(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        // Verificar se o produto pertence ao usu├írio\r\n        const existingProduct = await prisma.produtos.findFirst({\r\n            where: { id: params.id, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!existingProduct) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { nome, descricao, preco, preco_anterior, tipo_entrega, gateway, foto, conteudo_entrega, checkout_config } = body\r\n\r\n        await prisma.produtos.update({\r\n            where: { id: params.id },\r\n            data: {\r\n                nome: nome || existingProduct.nome,\r\n                descricao: descricao !== undefined ? descricao : existingProduct.descricao,\r\n                preco: preco ? parseFloat(preco) : existingProduct.preco,\r\n                preco_anterior: preco_anterior !== undefined ? (preco_anterior ? parseFloat(preco_anterior) : null) : existingProduct.preco_anterior,\r\n                // Cast to enum; Prisma accepts string matching enum values\r\n                tipo_entrega: (tipo_entrega ?? existingProduct.tipo_entrega) as any,\r\n                gateway: gateway || existingProduct.gateway,\r\n                foto: foto !== undefined ? foto : existingProduct.foto,\r\n                conteudo_entrega: conteudo_entrega !== undefined ? conteudo_entrega : existingProduct.conteudo_entrega,\r\n                checkout_config: checkout_config || existingProduct.checkout_config,\r\n            },\r\n        })\r\n\r\n        // Sync course based on delivery type\r\n        const newTipoEntrega = tipo_entrega ?? existingProduct.tipo_entrega;\r\n        const cursoExiste = await prisma.cursos.findFirst({\r\n            where: { produto_id: params.id },\r\n        });\r\n        if (newTipoEntrega === 'area_membros') {\r\n            // Ensure a course exists\r\n            if (!cursoExiste) {\r\n                await prisma.cursos.create({\r\n                    data: {\r\n                        id: crypto.randomUUID(),\r\n                        produto_id: params.id,\r\n                        titulo: nome || existingProduct.nome,\r\n                        descricao: descricao || existingProduct.descricao,\r\n                    },\r\n                });\r\n            }\r\n        } else {\r\n            // If delivery type changed away from area_membros, delete existing course\r\n            if (cursoExiste) {\r\n                await prisma.cursos.delete({ where: { id: cursoExiste.id } });\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({ success: true, message: 'Produto atualizado' })\r\n    } catch (error: any) {\r\n        console.error('[API Product PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Excluir produto\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        // Verificar se o produto pertence ao usu├írio\r\n        const existingProduct = await prisma.produtos.findFirst({\r\n            where: { id: params.id, usuario_id: session.user.id }\r\n        })\r\n\r\n        if (!existingProduct) {\r\n            return NextResponse.json({ error: 'Produto n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // O cascade delete vai remover cursos, m├│dulos, aulas, vendas, etc\r\n        await prisma.produtos.delete({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Produto exclu├¡do' })\r\n    } catch (error: any) {\r\n        console.error('[API Product DELETE Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\products\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[215,215],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":9,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[926,929],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[926,929],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":84,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3285,3288],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3285,3288],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3899,3902],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3899,3902],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { checkSaaSProductLimit } from '@/lib/saas-limits'\r\n\r\n// GET - Listar produtos do usu├írio\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const produtos = await prisma.produtos.findMany({\r\n            where: { usuario_id: session.user.id },\r\n            orderBy: { data_criacao: 'desc' },\r\n            include: {\r\n                cursos: true,\r\n                _count: { select: { vendas: true } }\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ produtos })\r\n    } catch (error: any) {\r\n        console.error('[API Products GET Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Criar novo produto\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        // Verificar Limite SaaS\r\n        const limitCheck = await checkSaaSProductLimit(session.user.id)\r\n        if (!limitCheck.allowed) {\r\n            return NextResponse.json({ error: limitCheck.reason }, { status: 403 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { nome, descricao, preco, preco_anterior, tipo_entrega, gateway, foto, conteudo_entrega } = body\r\n\r\n        if (!nome || !preco) {\r\n            return NextResponse.json({ error: 'Nome e pre├ºo s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        // Gerar hash ├║nico para o checkout\r\n        const checkoutHash = `${nome.toLowerCase().replace(/[^a-z0-9]/g, '-')}-${Date.now().toString(36)}`\r\n\r\n        const checkoutConfig = JSON.stringify({\r\n            primaryColor: '#32e768',\r\n            showTimer: true,\r\n            timerMinutes: 15,\r\n            showFakeNotifications: true,\r\n            showBanner: false,\r\n            bannerImages: [],\r\n            youtubeVideoId: null,\r\n            backRedirect: true,\r\n            backRedirectMessage: 'Espere! Temos uma oferta especial para voc├¬!',\r\n        })\r\n\r\n        const produtoId = uuidv4()\r\n\r\n        // Usamos a API do Prisma para inserir o produto, garantindo que o enum `tipo_entrega` seja tratado corretamente\r\n        await prisma.produtos.create({\r\n            data: {\r\n                id: produtoId,\r\n                nome,\r\n                descricao: descricao || null,\r\n                preco: parseFloat(preco),\r\n                preco_anterior: preco_anterior ? parseFloat(preco_anterior) : null,\r\n                foto: foto || null,\r\n                checkout_hash: checkoutHash,\r\n                tipo_entrega: tipo_entrega || 'link', // enum value\r\n                conteudo_entrega: conteudo_entrega || null,\r\n                gateway: gateway || 'mercadopago',\r\n                usuario_id: session.user.id,\r\n                checkout_config: checkoutConfig as any, // JSONB\r\n            },\r\n        })\r\n\r\n        // Se for ├írea de membros, criar curso automaticamente\r\n        if (tipo_entrega === 'area_membros') {\r\n            const cursoId = uuidv4()\r\n            await prisma.$executeRaw`\r\n                INSERT INTO cursos (id, produto_id, titulo, descricao)\r\n                VALUES (${cursoId}, ${produtoId}, ${nome}, ${descricao || null})\r\n            `\r\n        }\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            produtoId,\r\n            checkoutHash,\r\n            message: 'Produto criado com sucesso'\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Products POST Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\pwa\\subscribe\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1883,1886],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1883,1886],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n        const subscription = await req.json()\r\n        const { endpoint, keys } = subscription\r\n\r\n        if (!endpoint || !keys || !keys.p256dh || !keys.auth) {\r\n            return NextResponse.json({ error: 'Invalid subscription data' }, { status: 400 })\r\n        }\r\n\r\n        // Verifica se j├í existe subscription para esse endpoint para evitar duplicatas\r\n        const existing = await prisma.pwa_push_subscriptions.findFirst({\r\n            where: { endpoint: endpoint }\r\n        })\r\n\r\n        if (existing) {\r\n            // Atualiza se necess├írio (as chaves podem ter mudado?)\r\n            await prisma.pwa_push_subscriptions.update({\r\n                where: { id: existing.id },\r\n                data: {\r\n                    p256dh: keys.p256dh,\r\n                    auth: keys.auth,\r\n                    updated_at: new Date(),\r\n                    usuario_id: session.user.id // Atualiza dono se mudou\r\n                }\r\n            })\r\n            return NextResponse.json({ success: true, status: 'updated' })\r\n        }\r\n\r\n        // Cria nova\r\n        await prisma.pwa_push_subscriptions.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                usuario_id: session.user.id,\r\n                endpoint,\r\n                p256dh: keys.p256dh,\r\n                auth: keys.auth,\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, status: 'created' })\r\n    } catch (e: any) {\r\n        console.error('Subscription API Error:', e)\r\n        return NextResponse.json({ error: 'Internal Error' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\saas\\checkout\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[165,165],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[90,204],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return new NextResponse('Unauthorized', { status: 401 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { planId, method } = body\r\n\r\n        if (!planId) return new NextResponse('Plan ID missing', { status: 400 })\r\n\r\n        const plano = await prisma.saas_planos.findUnique({\r\n            where: { id: planId }\r\n        })\r\n\r\n        if (!plano || !plano.ativo) {\r\n            return new NextResponse('Plano inv├ílido', { status: 400 })\r\n        }\r\n\r\n        // L├│gica para Plano Gratuito\r\n        if (plano.is_free) {\r\n            // Verificar se usu├írio j├í tem assinatura ativa desse plano?\r\n            // Vamos permitir reativar.\r\n\r\n            const now = new Date()\r\n            const vencimento = new Date(now)\r\n            // Plano gr├ítis vital├¡cio ou renov├ível? Vamos colocar 100 anos ou renova├º├úo mensal autom├ítica.\r\n            // Para l├│gica de limites, melhor mensal renovando.\r\n            vencimento.setMonth(vencimento.getMonth() + 1)\r\n\r\n            const assinatura = await prisma.saas_assinaturas.create({\r\n                data: {\r\n                    id: uuidv4(),\r\n                    usuario_id: session.user.id,\r\n                    plano_id: plano.id,\r\n                    status: 'ativo',\r\n                    data_inicio: now,\r\n                    data_vencimento: vencimento,\r\n                    renovacao_automatica: true,\r\n                    atualizado_em: now\r\n                }\r\n            })\r\n\r\n            // Atualizar flag no usu├írio se necess├írio\r\n            await prisma.usuarios.update({\r\n                where: { id: session.user.id },\r\n                data: {\r\n                    saas_plano_free_atribuido: true,\r\n                    updatedAt: new Date()\r\n                }\r\n            })\r\n\r\n            return NextResponse.json({ success: true, subscriptionId: assinatura.id })\r\n        }\r\n\r\n        // L├│gica para Plano Pago\r\n        // 1. Buscar Gateway Config\r\n        const gatewayConfig = await prisma.saas_admin_gateways.findUnique({\r\n            where: { gateway: 'mercadopago' }\r\n        })\r\n\r\n        if (!gatewayConfig || !gatewayConfig.mp_access_token) {\r\n            return NextResponse.json({ error: 'Gateway de pagamento n├úo configurado pelo administrador.' }, { status: 400 })\r\n        }\r\n\r\n        // 2. Criar Assinatura Pendente\r\n        const now = new Date()\r\n        const vencimento = new Date(now)\r\n        if (plano.periodo === 'mensal') vencimento.setMonth(vencimento.getMonth() + 1)\r\n        else vencimento.setFullYear(vencimento.getFullYear() + 1)\r\n\r\n        const assinaturaId = uuidv4()\r\n\r\n        await prisma.saas_assinaturas.create({\r\n            data: {\r\n                id: assinaturaId,\r\n                usuario_id: session.user.id,\r\n                plano_id: plano.id,\r\n                status: 'pendente',\r\n                data_inicio: now,\r\n                data_vencimento: vencimento, // Preliminar\r\n                metodo_pagamento: method,\r\n                gateway: 'mercadopago',\r\n                atualizado_em: now\r\n            }\r\n        })\r\n\r\n        // 3. Criar Prefer├¬ncia no MP\r\n        const preferenceData = {\r\n            items: [\r\n                {\r\n                    title: `Assinatura ${plano.nome} (${plano.periodo})`,\r\n                    quantity: 1,\r\n                    currency_id: 'BRL',\r\n                    unit_price: Number(plano.preco)\r\n                }\r\n            ],\r\n            payer: {\r\n                email: session.user.email\r\n            },\r\n            back_urls: {\r\n                success: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard?status=success`,\r\n                failure: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard/subscribe/${planId}?status=failure`,\r\n                pending: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard/subscribe/${planId}?status=pending`\r\n            },\r\n            external_reference: assinaturaId,\r\n            metadata: {\r\n                subscription_id: assinaturaId,\r\n                type: 'saas_subscription'\r\n            },\r\n            auto_return: 'approved'\r\n        }\r\n\r\n        const mpRes = await fetch('https://api.mercadopago.com/checkout/preferences', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${gatewayConfig.mp_access_token}`\r\n            },\r\n            body: JSON.stringify(preferenceData)\r\n        })\r\n\r\n        const mpData = await mpRes.json()\r\n\r\n        if (!mpRes.ok) {\r\n            console.error('MP Error', mpData)\r\n            throw new Error('Erro ao comunicar com Mercado Pago')\r\n        }\r\n\r\n        return NextResponse.json({ url: mpData.init_point })\r\n\r\n    } catch (error) {\r\n        console.error('[SAAS_CHECKOUT]', error)\r\n        return new NextResponse('Internal Error', { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\sites\\[id]\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// DELETE\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    { params }: { params: { id: string } }\r\n) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const site = await prisma.cloned_sites.findUnique({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        if (!site || site.usuario_id !== session.user.id) {\r\n            return NextResponse.json({ error: 'Site n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        await prisma.cloned_sites.delete({\r\n            where: { id: params.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error('[API Sites DELETE]', error)\r\n        return NextResponse.json({ error: 'Erro ao excluir site' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\sites\\clone\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":36,"fix":{"range":[103,217],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2040,2043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2040,2043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\n// GET - Listar Sites Clonados\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const sites = await prisma.cloned_sites.findMany({\r\n            where: { usuario_id: session.user.id },\r\n            orderBy: { created_at: 'desc' }\r\n        })\r\n\r\n        return NextResponse.json(sites)\r\n    } catch (error) {\r\n        console.error('[API Sites GET]', error)\r\n        return NextResponse.json({ error: 'Erro ao listar sites' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Clonar Site\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n\r\n        const body = await request.json()\r\n        const { url, slug, title } = body\r\n\r\n        if (!url || !slug) return NextResponse.json({ error: 'URL e Slug s├úo obrigat├│rios' }, { status: 400 })\r\n\r\n        // Verificar disponibilidade do Slug\r\n        const slugExists = await prisma.cloned_sites.findFirst({\r\n            where: { slug }\r\n        })\r\n\r\n        if (slugExists) {\r\n            return NextResponse.json({ error: 'Este slug j├í est├í em uso' }, { status: 400 })\r\n        }\r\n\r\n        // Fetch do conte├║do\r\n        let html = ''\r\n        try {\r\n            const res = await fetch(url, {\r\n                headers: {\r\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\r\n                }\r\n            })\r\n            if (!res.ok) throw new Error(`Status ${res.status}`)\r\n            html = await res.text()\r\n        } catch (err: any) {\r\n            return NextResponse.json({ error: `Erro ao acessar URL: ${err.message}` }, { status: 400 })\r\n        }\r\n\r\n        // Processamento B├ísico: Inserir <base>\r\n        // Encontrar <head>\r\n        const headIndex = html.toLowerCase().indexOf('<head>')\r\n        if (headIndex !== -1) {\r\n            // Inserir ap├│s <head>\r\n            const insertionPoint = headIndex + 6\r\n            const baseTag = `<base href=\"${url.endsWith('/') ? url : url + '/'}\" />`\r\n            html = html.slice(0, insertionPoint) + baseTag + html.slice(insertionPoint)\r\n        } else {\r\n            // Fallback: tentar inicio\r\n            const baseTag = `<base href=\"${url}\" />`\r\n            html = baseTag + html\r\n        }\r\n\r\n        // Salvar\r\n        const site = await prisma.cloned_sites.create({\r\n            data: {\r\n                id: uuidv4(),\r\n                usuario_id: session.user.id,\r\n                original_url: url,\r\n                original_html: html,\r\n                edited_html: html, // Inicialmente igual\r\n                slug,\r\n                title: title || slug,\r\n                status: 'published',\r\n                updated_at: new Date()\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(site)\r\n\r\n    } catch (error) {\r\n        console.error('[API Sites Clone POST]', error)\r\n        return NextResponse.json({ error: 'Erro ao clonar site' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\upload\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[143,143],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`fs/promises` import should occur before import of `next/server`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[0,193],"text":"import { writeFile, mkdir } from 'fs/promises'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":24,"fix":{"range":[216,216],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`path` import should occur before import of `next/server`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":24,"fix":{"range":[0,218],"text":"import path from 'path'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`uuid` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":36,"fix":{"range":[103,255],"text":"import { v4 as uuidv4 } from 'uuid'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\nimport path from 'path'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2359,2362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2359,2362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { writeFile, mkdir } from 'fs/promises'\r\nimport path from 'path'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const formData = await request.formData()\r\n        const file = formData.get('file') as File\r\n        const type = formData.get('type') as string || 'product' // product, course, profile\r\n\r\n        if (!file) {\r\n            return NextResponse.json({ error: 'Arquivo n├úo fornecido' }, { status: 400 })\r\n        }\r\n\r\n        // Validar tipo de arquivo\r\n        const allowedTypes = ['image/jpeg', 'image/png', 'image/webp', 'image/gif']\r\n        if (!allowedTypes.includes(file.type)) {\r\n            return NextResponse.json({\r\n                error: 'Tipo de arquivo n├úo permitido. Use: JPG, PNG, WebP ou GIF'\r\n            }, { status: 400 })\r\n        }\r\n\r\n        // Validar tamanho (max 5MB)\r\n        const maxSize = 5 * 1024 * 1024 // 5MB\r\n        if (file.size > maxSize) {\r\n            return NextResponse.json({\r\n                error: 'Arquivo muito grande. M├íximo: 5MB'\r\n            }, { status: 400 })\r\n        }\r\n\r\n        // Gerar nome ├║nico\r\n        const ext = file.name.split('.').pop() || 'jpg'\r\n        const fileName = `${uuidv4()}.${ext}`\r\n\r\n        // Definir pasta baseada no tipo\r\n        const folder = type === 'profile' ? 'profiles' : type === 'course' ? 'courses' : 'products'\r\n        const uploadDir = path.join(process.cwd(), 'public', 'uploads', folder)\r\n\r\n        // Criar diret├│rio se n├úo existir\r\n        await mkdir(uploadDir, { recursive: true })\r\n\r\n        // Salvar arquivo\r\n        const bytes = await file.arrayBuffer()\r\n        const buffer = Buffer.from(bytes)\r\n        const filePath = path.join(uploadDir, fileName)\r\n\r\n        await writeFile(filePath, buffer)\r\n\r\n        // Retornar URL p├║blica\r\n        const publicUrl = `/uploads/${folder}/${fileName}`\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            url: publicUrl,\r\n            fileName\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Upload Error]', error)\r\n        return NextResponse.json({ error: 'Erro ao fazer upload' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\user\\change-password\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":34,"fix":{"range":[178,178],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`bcryptjs` import should occur before import of `next/server`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":41,"fix":{"range":[0,222],"text":"import { compare, hash } from 'bcryptjs'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2027,2030],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2027,2030],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\nimport { compare, hash } from 'bcryptjs'\r\n\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { currentPassword, newPassword, confirmPassword } = body\r\n\r\n        if (!currentPassword || !newPassword || !confirmPassword) {\r\n            return NextResponse.json({ error: 'Todos os campos s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            return NextResponse.json({ error: 'As senhas n├úo coincidem' }, { status: 400 })\r\n        }\r\n\r\n        if (newPassword.length < 6) {\r\n            return NextResponse.json({ error: 'A nova senha deve ter no m├¡nimo 6 caracteres' }, { status: 400 })\r\n        }\r\n\r\n        // Buscar usu├írio atual\r\n        const user = await prisma.usuarios.findUnique({\r\n            where: { id: session.user.id },\r\n            select: { senha: true }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: 'Usu├írio n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Verificar senha atual\r\n        const isPasswordValid = await compare(currentPassword, user.senha)\r\n        if (!isPasswordValid) {\r\n            return NextResponse.json({ error: 'Senha atual incorreta' }, { status: 400 })\r\n        }\r\n\r\n        // Hash da nova senha\r\n        const hashedPassword = await hash(newPassword, 10)\r\n\r\n        // Atualizar senha\r\n        await prisma.usuarios.update({\r\n            where: { id: session.user.id },\r\n            data: { senha: hashedPassword }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Senha alterada com sucesso' })\r\n    } catch (error: any) {\r\n        console.error('[API Change Password Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\user\\gateways\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"prefer-const","severity":1,"message":"'updateData' is never reassigned. Use 'const' instead.","line":21,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":21,"endColumn":28,"fix":{"range":[733,757],"text":"const updateData: any = {}"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[749,752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[749,752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2845,2848],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2845,2848],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// PUT - Atualizar credenciais de gateways\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { gateway, credentials } = body\r\n\r\n        if (!gateway || !credentials) {\r\n            return NextResponse.json({ error: 'Gateway e credenciais s├úo obrigat├│rios' }, { status: 400 })\r\n        }\r\n\r\n        let updateData: any = {}\r\n\r\n        switch (gateway) {\r\n            case 'mercadopago':\r\n                if (credentials.public_key) updateData.mp_public_key = credentials.public_key\r\n                if (credentials.access_token) updateData.mp_access_token = credentials.access_token\r\n                break\r\n\r\n            case 'pushinpay':\r\n                if (credentials.token) updateData.pushinpay_token = credentials.token\r\n                break\r\n\r\n            case 'efi':\r\n                if (credentials.client_id) updateData.efi_client_id = credentials.client_id\r\n                if (credentials.client_secret) updateData.efi_client_secret = credentials.client_secret\r\n                if (credentials.pix_key) updateData.efi_pix_key = credentials.pix_key\r\n                if (credentials.certificate_path) updateData.efi_certificate_path = credentials.certificate_path\r\n                if (credentials.payee_code) updateData.efi_payee_code = credentials.payee_code\r\n                break\r\n\r\n            case 'beehive':\r\n                if (credentials.public_key) updateData.beehive_public_key = credentials.public_key\r\n                if (credentials.secret_key) updateData.beehive_secret_key = credentials.secret_key\r\n                break\r\n\r\n            case 'hypercash':\r\n                if (credentials.public_key) updateData.hypercash_public_key = credentials.public_key\r\n                if (credentials.secret_key) updateData.hypercash_secret_key = credentials.secret_key\r\n                break\r\n\r\n            default:\r\n                return NextResponse.json({ error: 'Gateway n├úo suportado' }, { status: 400 })\r\n        }\r\n\r\n        if (Object.keys(updateData).length === 0) {\r\n            return NextResponse.json({ error: 'Nenhuma credencial v├ílida fornecida' }, { status: 400 })\r\n        }\r\n\r\n        await prisma.usuarios.update({\r\n            where: { id: session.user.id },\r\n            data: updateData\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: `Credenciais do ${gateway} atualizadas com sucesso`\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Gateways PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\user\\profile\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2960,2963],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2960,2963],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3942,3945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3942,3945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// GET - Buscar dados do perfil\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const user = await prisma.usuarios.findUnique({\r\n            where: { id: session.user.id },\r\n            select: {\r\n                id: true,\r\n                usuario: true,\r\n                nome: true,\r\n                telefone: true,\r\n                foto_perfil: true,\r\n                mp_public_key: true,\r\n                mp_access_token: true,\r\n                pushinpay_token: true,\r\n                efi_client_id: true,\r\n                efi_client_secret: true,\r\n                efi_pix_key: true,\r\n                beehive_public_key: true,\r\n                beehive_secret_key: true,\r\n                hypercash_public_key: true,\r\n                hypercash_secret_key: true\r\n            }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: 'Usu├írio n├úo encontrado' }, { status: 404 })\r\n        }\r\n\r\n        // Mascarar tokens sens├¡veis (mostrar apenas os ├║ltimos 4 caracteres)\r\n        const maskToken = (token: string | null) => {\r\n            if (!token) return null\r\n            if (token.length <= 8) return '****'\r\n            return '****' + token.slice(-4)\r\n        }\r\n\r\n        return NextResponse.json({\r\n            profile: {\r\n                email: user.usuario,\r\n                nome: user.nome,\r\n                telefone: user.telefone,\r\n                foto_perfil: user.foto_perfil\r\n            },\r\n            gateways: {\r\n                mercadopago: {\r\n                    configured: !!(user.mp_public_key && user.mp_access_token),\r\n                    public_key: maskToken(user.mp_public_key),\r\n                    access_token: maskToken(user.mp_access_token)\r\n                },\r\n                pushinpay: {\r\n                    configured: !!user.pushinpay_token,\r\n                    token: maskToken(user.pushinpay_token)\r\n                },\r\n                efi: {\r\n                    configured: !!(user.efi_client_id && user.efi_client_secret),\r\n                    client_id: maskToken(user.efi_client_id),\r\n                    pix_key: user.efi_pix_key\r\n                },\r\n                beehive: {\r\n                    configured: !!(user.beehive_public_key && user.beehive_secret_key),\r\n                    public_key: maskToken(user.beehive_public_key)\r\n                },\r\n                hypercash: {\r\n                    configured: !!(user.hypercash_public_key && user.hypercash_secret_key),\r\n                    public_key: maskToken(user.hypercash_public_key)\r\n                }\r\n            }\r\n        })\r\n    } catch (error: any) {\r\n        console.error('[API Profile GET Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PUT - Atualizar perfil\r\nexport async function PUT(request: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session) {\r\n            return NextResponse.json({ error: 'N├úo autorizado' }, { status: 401 })\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { nome, telefone, foto_perfil } = body\r\n\r\n        await prisma.usuarios.update({\r\n            where: { id: session.user.id },\r\n            data: {\r\n                nome: nome !== undefined ? nome : undefined,\r\n                telefone: telefone !== undefined ? telefone : undefined,\r\n                foto_perfil: foto_perfil !== undefined ? foto_perfil : undefined\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, message: 'Perfil atualizado' })\r\n    } catch (error: any) {\r\n        console.error('[API Profile PUT Error]', error)\r\n        return NextResponse.json({ error: 'Erro interno' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\beehive\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[274,338],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[625,628],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[625,628],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1373,1376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1373,1376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { processSaleUpdate } from '@/lib/services/sales-service'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n        console.log('[WEBHOOK_BEEHIVE] Recebido:', JSON.stringify(body))\r\n\r\n        // Placeholder: Ajustar campos confore doc da Beehive\r\n        const paymentId = body.id || body.transactionId\r\n        const status = body.status // ex: 'paid'\r\n\r\n        if (!paymentId) return NextResponse.json({ error: 'No ID' }, { status: 400 })\r\n\r\n        const vendas: any[] = await prisma.$queryRaw`\r\n            SELECT v.*, p.nome as produto_nome, p.tipo_entrega\r\n            FROM vendas v\r\n            JOIN produtos p ON v.produto_id = p.id\r\n            WHERE v.transacao_id = ${paymentId}\r\n        `\r\n\r\n        if (vendas.length > 0) {\r\n            const venda = vendas[0]\r\n            // Mapear status\r\n            let newStatus = 'pending'\r\n            if (status === 'paid' || status === 'approved') newStatus = 'approved'\r\n            if (status === 'refunded') newStatus = 'refunded'\r\n            if (status === 'refused') newStatus = 'rejected'\r\n\r\n            await processSaleUpdate(venda, newStatus, body, 'beehive')\r\n        }\r\n\r\n        return NextResponse.json({ received: true })\r\n    } catch (error: any) {\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\efi\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[274,343],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[965,968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[965,968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1801,1804],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1801,1804],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { processSaleUpdate } from '@/lib/services/sales-service'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n        console.log('[WEBHOOK_EFI] Recebido:', JSON.stringify(body, null, 2))\r\n\r\n        // Documenta├º├úo Ef├¡: O payload cont├®m uma lista de pix recebidos\r\n        const pixList = body.pix || []\r\n\r\n        // Se n├úo tiver lista de pix, pode ser valida├º├úo do webhook (teste de endpoint)\r\n        if (pixList.length === 0 && !body.evento && !body.pix) {\r\n            return NextResponse.json({ status: 'ok' })\r\n        }\r\n\r\n        // Processar cada pix recebido\r\n        for (const pix of pixList) {\r\n            const txid = pix.txid\r\n            const status = 'approved' // Se est├í na lista de pix recebidos, foi pago (CONCLUIDA)\r\n\r\n            // Buscar venda pelo txid\r\n            const vendas: any[] = await prisma.$queryRaw`\r\n                SELECT \r\n                    v.id, v.produto_id, v.status_pagamento, v.comprador_email, v.comprador_nome, v.comprador_telefone, v.valor,\r\n                    v.utm_source, v.utm_medium, v.utm_campaign, v.src, v.sck,\r\n                    p.nome as produto_nome, p.tipo_entrega\r\n                FROM vendas v\r\n                JOIN produtos p ON v.produto_id = p.id\r\n                WHERE v.transacao_id = ${txid}\r\n            `\r\n\r\n            if (vendas.length > 0) {\r\n                const venda = vendas[0]\r\n                await processSaleUpdate(venda, status, pix, 'efi')\r\n            } else {\r\n                console.warn('[WEBHOOK_EFI] Venda n├úo encontrada para txid:', txid)\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({ received: true })\r\n\r\n    } catch (error: any) {\r\n        console.error('[WEBHOOK_EFI] Erro:', error)\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\hypercash\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[274,340],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[552,555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[552,555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1147,1150],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1147,1150],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { processSaleUpdate } from '@/lib/services/sales-service'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n        console.log('[WEBHOOK_HYPERCASH] Recebido:', JSON.stringify(body))\r\n\r\n        // Placeholder\r\n        const paymentId = body.id\r\n        const status = body.status\r\n\r\n        if (!paymentId) return NextResponse.json({ error: 'No ID' }, { status: 400 })\r\n\r\n        const vendas: any[] = await prisma.$queryRaw`\r\n            SELECT v.*, p.nome as produto_nome, p.tipo_entrega\r\n            FROM vendas v\r\n            JOIN produtos p ON v.produto_id = p.id\r\n            WHERE v.transacao_id = ${paymentId}\r\n        `\r\n\r\n        if (vendas.length > 0) {\r\n            const venda = vendas[0]\r\n            let newStatus = 'pending'\r\n            if (status === 'paid' || status === 'approved') newStatus = 'approved'\r\n\r\n            await processSaleUpdate(venda, newStatus, body, 'hypercash')\r\n        }\r\n\r\n        return NextResponse.json({ received: true })\r\n    } catch (error: any) {\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\mercadopago\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":34,"fix":{"range":[90,90],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":28,"fix":{"range":[119,119],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `next/server`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":28,"fix":{"range":[0,121],"text":"import crypto from 'crypto'\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'crypto' is defined but never used.","line":3,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":14},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":37,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":37,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[985,1053],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":41,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":41,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1144,1197],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":47,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":47,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1377,1430],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":54,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":54,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1584,1642],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1844,1847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1844,1847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":71,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":71,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2307,2380],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":95,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":95,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3219,3308],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3704,3707],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3704,3707],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport crypto from 'crypto'\r\nimport { processSaleUpdate } from '@/lib/services/sales-service'\r\n\r\n// Interface para o payload do webhook do Mercado Pago\r\ninterface MercadoPagoWebhookPayload {\r\n    id: number\r\n    live_mode: boolean\r\n    type: string\r\n    date_created: string\r\n    user_id: string\r\n    api_version: string\r\n    action: string\r\n    data: {\r\n        id: string\r\n    }\r\n}\r\n\r\n// Mapear status do Mercado Pago para status do banco\r\nconst STATUS_MAP: Record<string, string> = {\r\n    pending: 'pending',\r\n    approved: 'approved',\r\n    authorized: 'approved',\r\n    in_process: 'pending',\r\n    in_mediation: 'pending',\r\n    rejected: 'rejected',\r\n    cancelled: 'cancelled',\r\n    refunded: 'refunded',\r\n    charged_back: 'charged_back',\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body: MercadoPagoWebhookPayload = await request.json()\r\n\r\n        console.log('[WEBHOOK_MP] Recebido:', JSON.stringify(body, null, 2))\r\n\r\n        // Ignorar webhooks de teste\r\n        if (body.type === 'test') {\r\n            console.log('[WEBHOOK_MP] Webhook de teste ignorado')\r\n            return NextResponse.json({ received: true })\r\n        }\r\n\r\n        // Processar apenas notifica├º├Áes de pagamento\r\n        if (body.type !== 'payment') {\r\n            console.log('[WEBHOOK_MP] Tipo ignorado:', body.type)\r\n            return NextResponse.json({ received: true })\r\n        }\r\n\r\n        const paymentId = body.data.id\r\n\r\n        if (!paymentId) {\r\n            console.log('[WEBHOOK_MP] ID do pagamento n├úo encontrado')\r\n            return NextResponse.json({ error: 'Payment ID not found' }, { status: 400 })\r\n        }\r\n\r\n        // Buscar venda pelo transacao_id (que ├® o ID do pagamento no MP)\r\n        const vendas: any[] = await prisma.$queryRaw`\r\n            SELECT \r\n                v.id, v.produto_id, v.status_pagamento, v.comprador_email,\r\n                p.nome as produto_nome, p.tipo_entrega,\r\n                u.mp_access_token\r\n            FROM vendas v\r\n            JOIN produtos p ON v.produto_id = p.id\r\n            JOIN usuarios u ON p.usuario_id = u.id\r\n            WHERE v.transacao_id = ${paymentId}\r\n        `\r\n\r\n        if (vendas.length === 0) {\r\n            console.log('[WEBHOOK_MP] Venda n├úo encontrada para payment:', paymentId)\r\n            return NextResponse.json({ error: 'Sale not found' }, { status: 404 })\r\n        }\r\n\r\n        const venda = vendas[0]\r\n\r\n        // Buscar status atualizado do pagamento no Mercado Pago\r\n        const mpResponse = await fetch(\r\n            `https://api.mercadopago.com/v1/payments/${paymentId}`,\r\n            {\r\n                headers: {\r\n                    'Authorization': `Bearer ${venda.mp_access_token}`,\r\n                },\r\n            }\r\n        )\r\n\r\n        if (!mpResponse.ok) {\r\n            console.error('[WEBHOOK_MP] Erro ao buscar pagamento no MP:', mpResponse.status)\r\n            return NextResponse.json({ error: 'Failed to fetch payment' }, { status: 500 })\r\n        }\r\n\r\n        const paymentData = await mpResponse.json()\r\n        const newStatus = STATUS_MAP[paymentData.status] || 'pending'\r\n\r\n        console.log('[WEBHOOK_MP] Status do pagamento:', paymentData.status, '-> DB:', newStatus)\r\n\r\n        // Delegar atualiza├º├úo para o servi├ºo centralizado\r\n        // Adicionar campos extras na venda para o webhook (UTMs etc j├í v├¬m do select raw se adicionar)\r\n        // Preciso garantir q o select traga tudo\r\n\r\n        await processSaleUpdate(venda, newStatus, paymentData, 'mercadopago')\r\n\r\n        return NextResponse.json({ received: true, status: newStatus })\r\n    } catch (error: any) {\r\n        console.error('[WEBHOOK_MP] Erro:', error)\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n\r\n// GET para verificar se o webhook est├í funcionando\r\nexport async function GET() {\r\n    return NextResponse.json({\r\n        status: 'ok',\r\n        message: 'Mercado Pago webhook endpoint is active'\r\n    })\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\pushinpay\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":56,"fix":{"range":[55,55],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[274,349],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1552,1555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1552,1555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":66,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":66,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3053,3120],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3758,3761],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3758,3761],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { processSaleUpdate } from '@/lib/services/sales-service'\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json()\r\n        console.log('[WEBHOOK_PUSHINPAY] Recebido:', JSON.stringify(body, null, 2))\r\n\r\n        // Extrair ID e Status (ajustar conforme payload real da PushinPay)\r\n        // Geralmente: { id: \"...\", status: \"paid\" }\r\n        const paymentId = body.id || body.transaction_id\r\n        const status = body.status\r\n\r\n        if (!paymentId) {\r\n            return NextResponse.json({ error: 'Payment ID not found' }, { status: 400 })\r\n        }\r\n\r\n        // Buscar venda pelo transacao_id\r\n        const vendas: any[] = await prisma.$queryRaw`\r\n            SELECT \r\n                v.id, v.produto_id, v.status_pagamento, v.comprador_email, v.comprador_nome, v.comprador_telefone, v.valor,\r\n                v.utm_source, v.utm_medium, v.utm_campaign, v.src, v.sck,\r\n                p.nome as produto_nome, p.tipo_entrega\r\n            FROM vendas v\r\n            JOIN produtos p ON v.produto_id = p.id\r\n            WHERE v.transacao_id = ${paymentId}\r\n        `\r\n\r\n        if (vendas.length === 0) {\r\n            // Se n├úo achou pelo ID da transa├º├úo, verificar se mandaram a refer├¬ncia externa (nosso ID de venda)\r\n            // Payload pode ter \"external_reference\"\r\n            const externalRef = body.external_reference\r\n            if (externalRef) {\r\n                const vendasRef: any[] = await prisma.$queryRaw`\r\n                    SELECT \r\n                        v.id, v.produto_id, v.status_pagamento, v.comprador_email, v.comprador_nome, v.comprador_telefone, v.valor,\r\n                        v.utm_source, v.utm_medium, v.utm_campaign, v.src, v.sck,\r\n                        p.nome as produto_nome, p.tipo_entrega\r\n                    FROM vendas v\r\n                    JOIN produtos p ON v.produto_id = p.id\r\n                    WHERE v.id = ${externalRef}\r\n                `\r\n                if (vendasRef.length > 0) {\r\n                    const venda = vendasRef[0]\r\n                    const statusMap: Record<string, string> = {\r\n                        paid: 'approved',\r\n                        approved: 'approved',\r\n                        pending: 'pending',\r\n                        expired: 'cancelled',\r\n                        canceled: 'cancelled',\r\n                        refunded: 'refunded'\r\n                    }\r\n                    const newStatus = statusMap[status] || 'pending'\r\n\r\n                    // Atualizar transacao_id se estava faltando e processar\r\n                    if (!venda.transacao_id) {\r\n                        await prisma.$executeRaw`UPDATE vendas SET transacao_id = ${paymentId} WHERE id = ${venda.id}`\r\n                    }\r\n\r\n                    await processSaleUpdate(venda, newStatus, body, 'pushinpay')\r\n                    return NextResponse.json({ received: true })\r\n                }\r\n            }\r\n\r\n            console.log('[WEBHOOK_PUSHINPAY] Venda n├úo encontrada:', paymentId)\r\n            return NextResponse.json({ error: 'Sale not found' }, { status: 404 })\r\n        }\r\n\r\n        const venda = vendas[0]\r\n\r\n        // Mapear status\r\n        const statusMap: Record<string, string> = {\r\n            paid: 'approved',\r\n            approved: 'approved',\r\n            pending: 'pending',\r\n            expired: 'cancelled',\r\n            canceled: 'cancelled',\r\n            refunded: 'refunded'\r\n        }\r\n\r\n        const newStatus = statusMap[status] || 'pending'\r\n\r\n        await processSaleUpdate(venda, newStatus, body, 'pushinpay')\r\n\r\n        return NextResponse.json({ received: true })\r\n\r\n    } catch (error: any) {\r\n        console.error('[WEBHOOK_PUSHINPAY] Erro:', error)\r\n        return NextResponse.json({ error: error.message }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\api\\webhooks\\saas\\route.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":43,"fix":{"range":[42,42],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":49,"column":17,"nodeType":"MemberExpression","messageId":"unexpected","endLine":49,"endColumn":28,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2046,2112],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const url = new URL(req.url)\r\n        const topic = url.searchParams.get('topic') || url.searchParams.get('type')\r\n        const id = url.searchParams.get('id') || url.searchParams.get('data.id')\r\n\r\n        if (topic === 'payment' && id) {\r\n            // Buscar credenciais do Gateway Admin\r\n            const gatewayConfig = await prisma.saas_admin_gateways.findUnique({\r\n                where: { gateway: 'mercadopago' }\r\n            })\r\n\r\n            if (!gatewayConfig?.mp_access_token) {\r\n                console.error('Webhook SaaS: Gateway n├úo configurado')\r\n                return NextResponse.json({ received: true }) // Retornar 200 para n├úo travar MP\r\n            }\r\n\r\n            // Consultar Pagamento no MP\r\n            const mpRes = await fetch(`https://api.mercadopago.com/v1/payments/${id}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${gatewayConfig.mp_access_token}`\r\n                }\r\n            })\r\n\r\n            if (!mpRes.ok) {\r\n                console.error('Webhook SaaS: Erro ao buscar pagamento no MP')\r\n                return NextResponse.json({ received: true })\r\n            }\r\n\r\n            const payment = await mpRes.json()\r\n            const assinaturaId = payment.external_reference\r\n            const status = payment.status\r\n\r\n            if (assinaturaId && status === 'approved') {\r\n                // Ativar Assinatura\r\n                await prisma.saas_assinaturas.update({\r\n                    where: { id: assinaturaId },\r\n                    data: {\r\n                        status: 'ativo',\r\n                        transacao_id: String(id),\r\n                        atualizado_em: new Date()\r\n                        // Data de vencimento j├í foi definida na cria├º├úo (preliminar). \r\n                        // Futuro: Ajustar data de in├¡cio real se necess├írio.\r\n                    }\r\n                })\r\n                console.log(`Assinatura ${assinaturaId} ativada via Webhook SaaS`)\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({ received: true })\r\n\r\n    } catch (error) {\r\n        console.error('Webhook SaaS Error:', error)\r\n        return NextResponse.json({ error: 'Internal Error' }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\checkout\\[hash]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[16,119],"text":"import { useParams } from 'next/navigation'\r\nimport { useState, useEffect, useCallback } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":71,"fix":{"range":[16,191],"text":"import { Loader2, ShieldCheck, Lock, AlertCircle } from 'lucide-react'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { useParams } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/checkout` import should occur before import of `@/components/ui/button`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":26,"endColumn":31,"fix":{"range":[225,668],"text":"import {\r\n    CustomerForm,\r\n    CustomerData,\r\n    AddressForm,\r\n    AddressData,\r\n    PaymentMethodSelector,\r\n    PaymentMethod,\r\n    OrderSummary,\r\n    UrgencyTimer,\r\n    FakeNotifications,\r\n    BannerCarousel,\r\n    YouTubeEmbed,\r\n    BackRedirect,\r\n    PixModal,\r\n    CreditCardForm,\r\n    CardData,\r\n} from '@/components/checkout'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMercadoPago' is defined but never used.","line":27,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":156,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4310,4313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4310,4313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":237,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":237,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7020,7023],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7020,7023],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":309,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10148,10151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10148,10151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":373,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":373,"endColumn":28,"fix":{"range":[12818,12924],"text":"enabled={!isSubmitting && !pixModalOpen}\r\n                    message={checkoutConfig.backRedirectMessage}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":381,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":381,"endColumn":28,"fix":{"range":[13069,13604],"text":"amount={pixData.amount}\r\n                    copyPaste={pixData.copyPaste}\r\n                    expiresAt={pixData.expiresAt}\r\n                    isOpen={pixModalOpen}\r\n                    orderId={pixData.orderId}\r\n                    qrCode={pixData.qrCode}\r\n                    qrCodeBase64={pixData.qrCodeBase64}\r\n                    onClose={() => setPixModalOpen(false)}\r\n                    onPaymentConfirmed={() => {\r\n                        window.location.href = `/obrigado?order=${pixData.orderId}`\r\n                    }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":398,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":398,"endColumn":28,"fix":{"range":[13793,13864],"text":"enabled={!isSubmitting}\r\n                    productName={product.name}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":408,"column":29,"nodeType":"JSXOpeningElement","endLine":408,"endColumn":112},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":408,"column":63,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":408,"endColumn":66,"fix":{"range":[14304,14379],"text":"alt=\"Logo\" className=\"max-h-12 object-contain\" src={checkoutConfig.logoUrl}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":408,"column":74,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":408,"endColumn":83,"fix":{"range":[14304,14379],"text":"alt=\"Logo\" className=\"max-h-12 object-contain\" src={checkoutConfig.logoUrl}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":444,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":444,"endColumn":34,"fix":{"range":[15889,15978],"text":"title={product.name}\r\n                            videoId={checkoutConfig.youtubeVideoId}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":457,"column":37,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":457,"endColumn":45,"fix":{"range":[16459,16603],"text":"data={customerData}\r\n                                    disabled={isSubmitting}\r\n                                    onChange={setCustomerData}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":469,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":469,"endColumn":49,"fix":{"range":[17063,17263],"text":"required\r\n                                        data={addressData}\r\n                                        disabled={isSubmitting}\r\n                                        onChange={setAddressData}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":488,"column":37,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":488,"endColumn":45,"fix":{"range":[18132,18353],"text":"availableMethods={paymentMethods}\r\n                                    disabled={isSubmitting}\r\n                                    selected={paymentMethod}\r\n                                    onChange={setPaymentMethod}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":501,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":501,"endColumn":49,"fix":{"range":[18791,19106],"text":"amount={total}\r\n                                        data={cardData}\r\n                                        disabled={isSubmitting}\r\n                                        publicKey={checkoutData.gatewayKeys?.mercadopago?.publicKey ?? undefined}\r\n                                        onChange={setCardData}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":520,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":520,"endColumn":53,"fix":{"range":[19655,19950],"text":"disabled={isSubmitting}\r\n                                        mainProduct={product}\r\n                                        orderBumps={orderBumps}\r\n                                        selectedBumps={selectedBumps}\r\n                                        onToggleBump={handleToggleBump}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":528,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":528,"endColumn":40,"fix":{"range":[20204,20588],"text":"className=\"w-full py-6 text-lg font-bold shadow-lg hover:shadow-xl transition-all text-white\"\r\n                                disabled={isSubmitting || !paymentMethod}\r\n                                style={{\r\n                                    backgroundColor: checkoutConfig.primaryColor\r\n                                }}\r\n                                onClick={handleSubmit}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":15,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { useParams } from 'next/navigation'\r\nimport { Loader2, ShieldCheck, Lock, AlertCircle } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport {\r\n    CustomerForm,\r\n    CustomerData,\r\n    AddressForm,\r\n    AddressData,\r\n    PaymentMethodSelector,\r\n    PaymentMethod,\r\n    OrderSummary,\r\n    UrgencyTimer,\r\n    FakeNotifications,\r\n    BannerCarousel,\r\n    YouTubeEmbed,\r\n    BackRedirect,\r\n    PixModal,\r\n    CreditCardForm,\r\n    CardData,\r\n} from '@/components/checkout'\r\nimport { useMercadoPago } from '@/hooks'\r\nimport { formatCurrency, isValidCPF, isValidEmail, cleanDigits } from '@/lib/utils'\r\n\r\n// Tipos para dados da API\r\ninterface Product {\r\n    id: string\r\n    name: string\r\n    description: string | null\r\n    price: number\r\n    previousPrice: number | null\r\n    image: string | null\r\n    deliveryType: string\r\n    gateway: string\r\n}\r\n\r\ninterface OrderBump {\r\n    id: string\r\n    headline: string\r\n    description: string | null\r\n    product: {\r\n        id: string\r\n        name: string\r\n        description: string | null\r\n        price: number\r\n        previousPrice: number | null\r\n        image: string | null\r\n    }\r\n}\r\n\r\ninterface CheckoutConfig {\r\n    primaryColor: string\r\n    backgroundColor: string\r\n    textColor: string\r\n    logoUrl?: string\r\n    timerEnabled: boolean\r\n    timerDuration: number\r\n    askPhone: boolean\r\n    askCpf: boolean\r\n    socialProofEnabled: boolean\r\n\r\n    // Legacy\r\n    showBanner: boolean\r\n    bannerImages: string[]\r\n    youtubeVideoId: string | null\r\n    backRedirect: boolean\r\n    backRedirectMessage: string\r\n}\r\n\r\ninterface CheckoutData {\r\n    product: Product\r\n    seller: { id: string; name: string | null }\r\n    orderBumps: OrderBump[]\r\n    availableGateways: string[]\r\n    gatewayKeys: Record<string, { publicKey?: string | null }>\r\n    paymentMethods: PaymentMethod[]\r\n    checkoutConfig: CheckoutConfig\r\n}\r\n\r\nexport default function CheckoutPage() {\r\n    const params = useParams()\r\n    const hash = params.hash as string\r\n\r\n    // Estados\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n    const [error, setError] = useState<string | null>(null)\r\n    const [checkoutData, setCheckoutData] = useState<CheckoutData | null>(null)\r\n\r\n    // Dados do formul├írio\r\n    const [customerData, setCustomerData] = useState<CustomerData>({\r\n        name: '',\r\n        email: '',\r\n        cpf: '',\r\n        phone: '',\r\n    })\r\n\r\n    const [addressData, setAddressData] = useState<AddressData>({\r\n        cep: '',\r\n        street: '',\r\n        number: '',\r\n        complement: '',\r\n        neighborhood: '',\r\n        city: '',\r\n        state: '',\r\n    })\r\n\r\n    const [paymentMethod, setPaymentMethod] = useState<PaymentMethod | null>(null)\r\n    const [selectedBumps, setSelectedBumps] = useState<string[]>([])\r\n\r\n    // Estado para o modal de Pix\r\n    const [pixModalOpen, setPixModalOpen] = useState(false)\r\n    const [pixData, setPixData] = useState<{\r\n        orderId: string\r\n        amount: number\r\n        qrCode?: string\r\n        qrCodeBase64?: string\r\n        copyPaste?: string\r\n        expiresAt?: string\r\n    } | null>(null)\r\n\r\n    // Estado para dados do cart├úo de cr├®dito\r\n    const [cardData, setCardData] = useState<CardData>({\r\n        number: '',\r\n        name: '',\r\n        expiry: '',\r\n        cvv: '',\r\n        installments: 1,\r\n    })\r\n\r\n    // Carregar dados do produto\r\n    useEffect(() => {\r\n        async function loadCheckout() {\r\n            try {\r\n                setIsLoading(true)\r\n                setError(null)\r\n\r\n                const response = await fetch(`/api/checkout/${hash}`)\r\n                const data = await response.json()\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(data.error || 'Erro ao carregar checkout')\r\n                }\r\n\r\n                setCheckoutData(data)\r\n\r\n                // Selecionar primeiro m├®todo de pagamento dispon├¡vel\r\n                if (data.paymentMethods.length > 0) {\r\n                    setPaymentMethod(data.paymentMethods[0] as PaymentMethod)\r\n                }\r\n            } catch (err: any) {\r\n                setError(err.message || 'Erro ao carregar produto')\r\n            } finally {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n\r\n        if (hash) {\r\n            loadCheckout()\r\n        }\r\n    }, [hash])\r\n\r\n    // Toggle order bump\r\n    const handleToggleBump = useCallback((bumpId: string) => {\r\n        setSelectedBumps((prev) =>\r\n            prev.includes(bumpId)\r\n                ? prev.filter((id) => id !== bumpId)\r\n                : [...prev, bumpId]\r\n        )\r\n    }, [])\r\n\r\n    // Validar formul├írio\r\n    const validateForm = useCallback((): boolean => {\r\n        // Validar dados do cliente\r\n        if (!customerData.name || customerData.name.length < 2) {\r\n            toast.error('Digite seu nome completo')\r\n            return false\r\n        }\r\n\r\n        if (!customerData.email || !isValidEmail(customerData.email)) {\r\n            toast.error('Digite um email v├ílido')\r\n            return false\r\n        }\r\n\r\n        if (!isValidCPF(customerData.cpf)) {\r\n            toast.error('Digite um CPF v├ílido')\r\n            return false\r\n        }\r\n\r\n        const phoneDigits = cleanDigits(customerData.phone)\r\n        if (phoneDigits.length < 10) {\r\n            toast.error('Digite um telefone v├ílido')\r\n            return false\r\n        }\r\n\r\n        // Validar endere├ºo se produto f├¡sico ou boleto (exig├¬ncia do BC)\r\n        if (checkoutData?.product.deliveryType === 'PHYSICAL' || paymentMethod === 'boleto') {\r\n            const cepDigits = cleanDigits(addressData.cep)\r\n            if (cepDigits.length !== 8) {\r\n                toast.error('Digite um CEP v├ílido')\r\n                return false\r\n            }\r\n            if (!addressData.street || !addressData.number || !addressData.neighborhood || !addressData.city || !addressData.state) {\r\n                toast.error('Preencha todo o endere├ºo para emiss├úo da nota/boleto')\r\n                return false\r\n            }\r\n        }\r\n\r\n        // Validar m├®todo de pagamento\r\n        if (!paymentMethod) {\r\n            toast.error('Selecione uma forma de pagamento')\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }, [customerData, addressData, paymentMethod, checkoutData])\r\n\r\n    // Submeter pedido\r\n    const handleSubmit = async () => {\r\n        if (!validateForm() || !checkoutData) return\r\n\r\n        setIsSubmitting(true)\r\n\r\n        try {\r\n            // Calcular total\r\n            const bumpsTotal = checkoutData.orderBumps\r\n                .filter((b) => selectedBumps.includes(b.id))\r\n                .reduce((sum, b) => sum + b.product.price, 0)\r\n            const total = checkoutData.product.price + bumpsTotal\r\n\r\n            // Preparar payload\r\n            const payload: any = {\r\n                productId: hash,\r\n                customer: {\r\n                    name: customerData.name,\r\n                    email: customerData.email,\r\n                    cpf: cleanDigits(customerData.cpf),\r\n                    phone: cleanDigits(customerData.phone),\r\n                },\r\n                address: (checkoutData.product.deliveryType === 'PHYSICAL' || paymentMethod === 'boleto') ? {\r\n                    cep: cleanDigits(addressData.cep),\r\n                    street: addressData.street,\r\n                    number: addressData.number,\r\n                    complement: addressData.complement,\r\n                    neighborhood: addressData.neighborhood,\r\n                    city: addressData.city,\r\n                    state: addressData.state,\r\n                } : undefined,\r\n                paymentMethod,\r\n                orderBumps: selectedBumps,\r\n                amount: total,\r\n            }\r\n\r\n            // Se for cart├úo de cr├®dito, tokenizar antes de enviar\r\n            if (paymentMethod === 'credit_card') {\r\n                if (!cardData.number || !cardData.name || !cardData.expiry || !cardData.cvv) {\r\n                    throw new Error('Preencha todos os dados do cart├úo')\r\n                }\r\n\r\n                const [month, year] = cardData.expiry.split('/')\r\n\r\n                // Enviar dados do cart├úo para o servidor tokenizar\r\n                payload.cardData = {\r\n                    cardNumber: cleanDigits(cardData.number),\r\n                    cardholderName: cardData.name,\r\n                    cardExpirationMonth: month,\r\n                    cardExpirationYear: year,\r\n                    securityCode: cardData.cvv,\r\n                    installments: cardData.installments || 1,\r\n                    identificationType: 'CPF',\r\n                    identificationNumber: cleanDigits(customerData.cpf),\r\n                }\r\n            }\r\n\r\n            const response = await fetch('/api/payments/process', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload),\r\n            })\r\n\r\n            const result = await response.json()\r\n\r\n            if (!response.ok) {\r\n                throw new Error(result.error || 'Erro ao processar pagamento')\r\n            }\r\n\r\n            // Sucesso - redirecionar ou mostrar QR code\r\n            if (paymentMethod === 'pix' && result.pixData) {\r\n                // Mostrar modal com QR Code\r\n                setPixData({\r\n                    orderId: result.orderId,\r\n                    amount: total,\r\n                    qrCode: result.pixData.qrCode,\r\n                    qrCodeBase64: result.pixData.qrCodeBase64,\r\n                    copyPaste: result.pixData.copyPaste,\r\n                    expiresAt: result.pixData.expiresAt,\r\n                })\r\n                setPixModalOpen(true)\r\n            } else if (result.redirectUrl) {\r\n                window.location.href = result.redirectUrl\r\n            } else {\r\n                window.location.href = `/obrigado?order=${result.orderId}`\r\n            }\r\n        } catch (err: any) {\r\n            toast.error(err.message || 'Erro ao processar pagamento')\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    // Loading state\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n                <div className=\"flex flex-col items-center gap-4\">\r\n                    <Loader2 className=\"w-10 h-10 animate-spin text-green-500\" />\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">Carregando checkout...</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // Error state\r\n    if (error || !checkoutData) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4\">\r\n                <Card className=\"max-w-md w-full\">\r\n                    <CardContent className=\"pt-6\">\r\n                        <div className=\"flex flex-col items-center text-center gap-4\">\r\n                            <div className=\"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center\">\r\n                                <AlertCircle className=\"w-8 h-8 text-red-500\" />\r\n                            </div>\r\n                            <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n                                Produto n├úo encontrado\r\n                            </h1>\r\n                            <p className=\"text-gray-600 dark:text-gray-400\">\r\n                                {error || 'O produto que voc├¬ est├í procurando n├úo existe ou foi removido.'}\r\n                            </p>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const { product, orderBumps, paymentMethods, checkoutConfig } = checkoutData\r\n    const isPhysicalProduct = product.deliveryType === 'PHYSICAL'\r\n\r\n    // Calcular total para exibi├º├úo no bot├úo\r\n    const bumpsTotal = orderBumps\r\n        .filter((b) => selectedBumps.includes(b.id))\r\n        .reduce((sum, b) => sum + b.product.price, 0)\r\n    const total = product.price + bumpsTotal\r\n\r\n    return (\r\n        <div\r\n            className=\"min-h-screen\"\r\n            style={{\r\n                '--primary-color': checkoutConfig.primaryColor,\r\n                backgroundColor: checkoutConfig.backgroundColor || '#f9fafb',\r\n                color: checkoutConfig.textColor || '#111827'\r\n            } as React.CSSProperties}\r\n        >\r\n            {/* Back Redirect Modal */}\r\n            {checkoutConfig.backRedirect && (\r\n                <BackRedirect\r\n                    message={checkoutConfig.backRedirectMessage}\r\n                    enabled={!isSubmitting && !pixModalOpen}\r\n                />\r\n            )}\r\n\r\n            {/* Pix Modal */}\r\n            {pixData && (\r\n                <PixModal\r\n                    isOpen={pixModalOpen}\r\n                    onClose={() => setPixModalOpen(false)}\r\n                    orderId={pixData.orderId}\r\n                    amount={pixData.amount}\r\n                    qrCode={pixData.qrCode}\r\n                    qrCodeBase64={pixData.qrCodeBase64}\r\n                    copyPaste={pixData.copyPaste}\r\n                    expiresAt={pixData.expiresAt}\r\n                    onPaymentConfirmed={() => {\r\n                        window.location.href = `/obrigado?order=${pixData.orderId}`\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Fake Notifications */}\r\n            {checkoutConfig.socialProofEnabled && (\r\n                <FakeNotifications\r\n                    productName={product.name}\r\n                    enabled={!isSubmitting}\r\n                />\r\n            )}\r\n\r\n            {/* Header with Timer */}\r\n            <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4\">\r\n                <div className=\"max-w-6xl mx-auto px-4 space-y-3\">\r\n                    {/* Logo */}\r\n                    {checkoutConfig.logoUrl && (\r\n                        <div className=\"flex justify-center py-2\">\r\n                            <img src={checkoutConfig.logoUrl} alt=\"Logo\" className=\"max-h-12 object-contain\" />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Timer de Urg├¬ncia */}\r\n                    {checkoutConfig.timerEnabled && (\r\n                        <UrgencyTimer\r\n                            minutes={checkoutConfig.timerDuration}\r\n                            storageKey={`checkout_timer_${hash}`}\r\n                        />\r\n                    )}\r\n\r\n                    <div className=\"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                        <Lock className=\"w-4 h-4 text-green-500\" />\r\n                        <span>Pagamento 100% seguro</span>\r\n                        <span className=\"mx-2\">ÔÇó</span>\r\n                        <ShieldCheck className=\"w-4 h-4 text-green-500\" />\r\n                        <span>Dados criptografados</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n                {/* Banner Carousel */}\r\n                {checkoutConfig.showBanner && checkoutConfig.bannerImages.length > 0 && (\r\n                    <div className=\"mb-8\">\r\n                        <BannerCarousel images={checkoutConfig.bannerImages} />\r\n                    </div>\r\n                )}\r\n\r\n                {/* YouTube Video */}\r\n                {checkoutConfig.youtubeVideoId && (\r\n                    <div className=\"mb-8\">\r\n                        <YouTubeEmbed\r\n                            videoId={checkoutConfig.youtubeVideoId}\r\n                            title={product.name}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"grid lg:grid-cols-5 gap-8\">\r\n                    {/* Formul├írio - 3 colunas */}\r\n                    <div className=\"lg:col-span-3 space-y-6\">\r\n                        {/* Dados do Cliente */}\r\n                        <Card>\r\n                            <CardContent className=\"pt-6\">\r\n                                <CustomerForm\r\n                                    data={customerData}\r\n                                    onChange={setCustomerData}\r\n                                    disabled={isSubmitting}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Endere├ºo (se produto f├¡sico ou boleto) */}\r\n                        {(isPhysicalProduct || paymentMethod === 'boleto') && (\r\n                            <Card>\r\n                                <CardContent className=\"pt-6\">\r\n                                    <AddressForm\r\n                                        data={addressData}\r\n                                        onChange={setAddressData}\r\n                                        disabled={isSubmitting}\r\n                                        required\r\n                                    />\r\n                                    {paymentMethod === 'boleto' && (\r\n                                        <p className=\"mt-4 text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-1\">\r\n                                            <AlertCircle className=\"w-3 h-3\" />\r\n                                            Endere├ºo obrigat├│rio para registro do boleto (Banco Central).\r\n                                        </p>\r\n                                    )}\r\n                                </CardContent>\r\n                            </Card>\r\n                        )}\r\n\r\n                        {/* M├®todo de Pagamento */}\r\n                        <Card>\r\n                            <CardContent className=\"pt-6\">\r\n                                <PaymentMethodSelector\r\n                                    selected={paymentMethod}\r\n                                    onChange={setPaymentMethod}\r\n                                    availableMethods={paymentMethods}\r\n                                    disabled={isSubmitting}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Formul├írio de Cart├úo de Cr├®dito */}\r\n                        {paymentMethod === 'credit_card' && (\r\n                            <Card>\r\n                                <CardContent className=\"pt-6\">\r\n                                    <CreditCardForm\r\n                                        data={cardData}\r\n                                        onChange={setCardData}\r\n                                        amount={total}\r\n                                        publicKey={checkoutData.gatewayKeys?.mercadopago?.publicKey ?? undefined}\r\n                                        disabled={isSubmitting}\r\n                                    />\r\n                                </CardContent>\r\n                            </Card>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Resumo - 2 colunas */}\r\n                    <div className=\"lg:col-span-2\">\r\n                        <div className=\"lg:sticky lg:top-4 space-y-6\">\r\n                            <Card>\r\n                                <CardContent className=\"pt-6\">\r\n                                    <OrderSummary\r\n                                        mainProduct={product}\r\n                                        orderBumps={orderBumps}\r\n                                        selectedBumps={selectedBumps}\r\n                                        onToggleBump={handleToggleBump}\r\n                                        disabled={isSubmitting}\r\n                                    />\r\n                                </CardContent>\r\n                            </Card>\r\n\r\n                            {/* Bot├úo de Finalizar */}\r\n                            <Button\r\n                                onClick={handleSubmit}\r\n                                disabled={isSubmitting || !paymentMethod}\r\n                                className=\"w-full py-6 text-lg font-bold shadow-lg hover:shadow-xl transition-all text-white\"\r\n                                style={{\r\n                                    backgroundColor: checkoutConfig.primaryColor\r\n                                }}\r\n                            >\r\n                                {isSubmitting ? (\r\n                                    <>\r\n                                        <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\r\n                                        Processando...\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        Finalizar Compra ÔÇó {formatCurrency(total)}\r\n                                    </>\r\n                                )}\r\n                            </Button>\r\n\r\n                            {/* Selos de seguran├ºa */}\r\n                            <div className=\"flex items-center justify-center gap-4 text-xs text-gray-500\">\r\n                                <div className=\"flex items-center gap-1\">\r\n                                    <Lock className=\"w-3 h-3\" />\r\n                                    <span>SSL</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                    <ShieldCheck className=\"w-3 h-3\" />\r\n                                    <span>Compra Segura</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\integrations\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/integrations/webhooks-manager` import should occur before import of `@/components/ui/tabs`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":87,"fix":{"range":[16,185],"text":"import { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/integrations/utmfy-manager` import should occur before import of `@/components/ui/tabs`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":81,"fix":{"range":[16,267],"text":"import { UtmfyManager } from '@/components/dashboard/integrations/utmfy-manager'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/dashboard-header` import should occur before import of `@/components/ui/tabs`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":74,"fix":{"range":[16,342],"text":"import { DashboardHeader } from '@/components/dashboard/dashboard-header'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\nimport { UtmfyManager } from '@/components/dashboard/integrations/utmfy-manager'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":97,"fix":{"range":[438,438],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/components/ui/tabs`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":97,"fix":{"range":[16,440],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\nimport { UtmfyManager } from '@/components/dashboard/integrations/utmfy-manager'\r\nimport { DashboardHeader } from '@/components/dashboard/dashboard-header'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `@/components/ui/tabs`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":36,"fix":{"range":[16,477],"text":"import { Plug } from 'lucide-react'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\nimport { UtmfyManager } from '@/components/dashboard/integrations/utmfy-manager'\r\nimport { DashboardHeader } from '@/components/dashboard/dashboard-header'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":19,"column":43,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":19,"endColumn":52,"fix":{"range":[805,850],"text":"className=\"space-y-4\" defaultValue=\"webhooks\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { WebhooksManager } from '@/components/dashboard/integrations/webhooks-manager'\r\nimport { UtmfyManager } from '@/components/dashboard/integrations/utmfy-manager'\r\nimport { DashboardHeader } from '@/components/dashboard/dashboard-header'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Plug } from 'lucide-react'\r\n\r\nexport default function IntegrationsPage() {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <DashboardHeader\r\n                heading=\"Integra├º├Áes\"\r\n                text=\"Conecte sua conta com ferramentas externas de marketing e automa├º├úo.\"\r\n            >\r\n            </DashboardHeader>\r\n\r\n            <Tabs defaultValue=\"webhooks\" className=\"space-y-4\">\r\n                <TabsList>\r\n                    <TabsTrigger value=\"webhooks\">Webhooks</TabsTrigger>\r\n                    <TabsTrigger value=\"tracking\">Tracking (UTMify)</TabsTrigger>\r\n                    {/* <TabsTrigger value=\"pixels\">Pixels</TabsTrigger> */}\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"webhooks\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <Plug className=\"w-5 h-5 text-primary\" />\r\n                                <CardTitle>Webhooks</CardTitle>\r\n                            </div>\r\n                            <CardDescription>\r\n                                Envie dados de vendas em tempo real para automa├º├Áes como n8n, Zapier ou ActiveCampaign.\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <WebhooksManager />\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"tracking\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <CardTitle>Rastreamento Avan├ºado</CardTitle>\r\n                            </div>\r\n                            <CardDescription>\r\n                                Integra├º├Áes nativas com ferramentas de LTV e atribui├º├úo.\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <UtmfyManager />\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/header` import should occur before import of `@/components/dashboard/sidebar`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":55,"fix":{"range":[0,114],"text":"import { Header } from '@/components/dashboard/header'\r\nimport { Sidebar } from '@/components/dashboard/sidebar'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { Sidebar } from '@/components/dashboard/sidebar'\r\nimport { Header } from '@/components/dashboard/header'\r\n\r\nexport default function DashboardLayout({ children }: { children: React.ReactNode }) {\r\n    return (\r\n        <div className=\"flex min-h-screen bg-muted/10\">\r\n            <Sidebar />\r\n            <div className=\"flex-1 flex flex-col md:ml-64 transition-all duration-300\">\r\n                <Header />\r\n                <main className=\"flex-1 p-6 overflow-y-auto\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/lib/db` import should occur after import of `@/components/pwa/push-manager`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/kpi-card` import should occur after import of `next/navigation`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":58,"fix":{"range":[35,509],"text":"import { SalesChart } from '@/components/dashboard/sales-chart'\r\nimport { RecentSales } from '@/components/dashboard/recent-sales'\r\nimport { DollarSign, CreditCard, Users, Activity } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { KpiCard } from '@/components/dashboard/kpi-card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/sales-chart` import should occur after import of `next/navigation`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":64,"fix":{"range":[94,509],"text":"import { RecentSales } from '@/components/dashboard/recent-sales'\r\nimport { DollarSign, CreditCard, Users, Activity } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { SalesChart } from '@/components/dashboard/sales-chart'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":66,"fix":{"range":[224,224],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/recent-sales` import should occur after import of `next/navigation`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":66,"fix":{"range":[159,509],"text":"import { DollarSign, CreditCard, Users, Activity } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { RecentSales } from '@/components/dashboard/recent-sales'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":71,"fix":{"range":[296,296],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[345,345],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `@/components/pwa/push-manager`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[298,4423],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nasync function getDashboardData(userId: string) {\r\n    const now = new Date()\r\n    const startOfDay = new Date(now.setHours(0, 0, 0, 0))\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1)\r\n\r\n    // 1. Total Receita\r\n    const totalRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const totalRevenue = Number(totalRevenueAgg._sum.valor) || 0\r\n\r\n    // 2. Vendas Hoje\r\n    const todayRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfDay },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const todayRevenue = Number(todayRevenueAgg._sum.valor) || 0\r\n    const todayCount = todayRevenueAgg._count.id\r\n\r\n    // 3. Vendas M├¬s\r\n    const monthRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfMonth },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const monthRevenue = Number(monthRevenueAgg._sum.valor) || 0\r\n    const monthCount = monthRevenueAgg._count.id\r\n\r\n    // 4. Ativos (Alunos)\r\n    const activeStudents = await prisma.alunos_acessos.count({\r\n        where: {\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n\r\n    // 5. Gr├ífico (├Ültimos 7 dias)\r\n    const last7Days = new Date()\r\n    last7Days.setDate(last7Days.getDate() - 7)\r\n\r\n    const chartDataRaw: any[] = await prisma.$queryRaw`\r\n        SELECT DATE(v.data_venda) as date, SUM(v.valor) as amount, COUNT(v.id) as count\r\n        FROM vendas v\r\n        JOIN produtos p ON v.produto_id = p.id\r\n        WHERE v.status_pagamento = 'approved' \r\n        AND v.data_venda >= ${last7Days}\r\n        AND p.usuario_id = ${userId}\r\n        GROUP BY DATE(v.data_venda)\r\n        ORDER BY date ASC\r\n    `\r\n\r\n    const chartData = chartDataRaw.map((d: any) => ({\r\n        date: new Date(d.date).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' }),\r\n        amount: Number(d.amount),\r\n        vendas: Number(d.count)\r\n    }))\r\n\r\n    // 6. ├Ültimas Vendas\r\n    const recentSalesRaw = await prisma.vendas.findMany({\r\n        take: 5,\r\n        orderBy: { data_venda: 'desc' },\r\n        where: { produtos: { usuario_id: userId } },\r\n        include: { produtos: true }\r\n    })\r\n\r\n    const recentSales = recentSalesRaw.map((v: any) => ({\r\n        id: v.id,\r\n        customerName: v.comprador_nome || 'Cliente',\r\n        customerEmail: v.comprador_email,\r\n        amount: Number(v.valor),\r\n        status: v.status_pagamento,\r\n        date: v.data_venda.toISOString()\r\n    }))\r\n\r\n    // 7. SaaS Info (Assinatura e Limites)\r\n    const subscription = await prisma.saas_assinaturas.findFirst({\r\n        where: { usuario_id: userId, status: 'ativo' },\r\n        include: { saas_planos: true },\r\n        orderBy: { data_inicio: 'desc' }\r\n    })\r\n\r\n    const totalProducts = await prisma.produtos.count({\r\n        where: { usuario_id: userId }\r\n    })\r\n\r\n    // 8. PWA Config (VAPID Key)\r\n    const pwaConfig = await prisma.pwa_config.findFirst({\r\n        select: { vapid_public_key: true }\r\n    })\r\n\r\n    return {\r\n        totalRevenue,\r\n        todayRevenue,\r\n        todayCount,\r\n        monthRevenue,\r\n        monthCount,\r\n        activeStudents,\r\n        chartData,\r\n        recentSales,\r\n        subscription,\r\n        totalProducts,\r\n        vapidPublicKey: pwaConfig?.vapid_public_key\r\n    }\r\n}\r\n\r\nimport { PushManager } from '@/components/pwa/push-manager'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":45,"fix":{"range":[421,421],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth` import should occur after import of `next/navigation`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":45,"fix":{"range":[377,509],"text":"import { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":41,"fix":{"range":[463,463],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/auth` import should occur after import of `@/components/pwa/push-manager`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":41,"fix":{"range":[423,4423],"text":"import { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nasync function getDashboardData(userId: string) {\r\n    const now = new Date()\r\n    const startOfDay = new Date(now.setHours(0, 0, 0, 0))\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1)\r\n\r\n    // 1. Total Receita\r\n    const totalRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const totalRevenue = Number(totalRevenueAgg._sum.valor) || 0\r\n\r\n    // 2. Vendas Hoje\r\n    const todayRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfDay },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const todayRevenue = Number(todayRevenueAgg._sum.valor) || 0\r\n    const todayCount = todayRevenueAgg._count.id\r\n\r\n    // 3. Vendas M├¬s\r\n    const monthRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfMonth },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const monthRevenue = Number(monthRevenueAgg._sum.valor) || 0\r\n    const monthCount = monthRevenueAgg._count.id\r\n\r\n    // 4. Ativos (Alunos)\r\n    const activeStudents = await prisma.alunos_acessos.count({\r\n        where: {\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n\r\n    // 5. Gr├ífico (├Ültimos 7 dias)\r\n    const last7Days = new Date()\r\n    last7Days.setDate(last7Days.getDate() - 7)\r\n\r\n    const chartDataRaw: any[] = await prisma.$queryRaw`\r\n        SELECT DATE(v.data_venda) as date, SUM(v.valor) as amount, COUNT(v.id) as count\r\n        FROM vendas v\r\n        JOIN produtos p ON v.produto_id = p.id\r\n        WHERE v.status_pagamento = 'approved' \r\n        AND v.data_venda >= ${last7Days}\r\n        AND p.usuario_id = ${userId}\r\n        GROUP BY DATE(v.data_venda)\r\n        ORDER BY date ASC\r\n    `\r\n\r\n    const chartData = chartDataRaw.map((d: any) => ({\r\n        date: new Date(d.date).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' }),\r\n        amount: Number(d.amount),\r\n        vendas: Number(d.count)\r\n    }))\r\n\r\n    // 6. ├Ültimas Vendas\r\n    const recentSalesRaw = await prisma.vendas.findMany({\r\n        take: 5,\r\n        orderBy: { data_venda: 'desc' },\r\n        where: { produtos: { usuario_id: userId } },\r\n        include: { produtos: true }\r\n    })\r\n\r\n    const recentSales = recentSalesRaw.map((v: any) => ({\r\n        id: v.id,\r\n        customerName: v.comprador_nome || 'Cliente',\r\n        customerEmail: v.comprador_email,\r\n        amount: Number(v.valor),\r\n        status: v.status_pagamento,\r\n        date: v.data_venda.toISOString()\r\n    }))\r\n\r\n    // 7. SaaS Info (Assinatura e Limites)\r\n    const subscription = await prisma.saas_assinaturas.findFirst({\r\n        where: { usuario_id: userId, status: 'ativo' },\r\n        include: { saas_planos: true },\r\n        orderBy: { data_inicio: 'desc' }\r\n    })\r\n\r\n    const totalProducts = await prisma.produtos.count({\r\n        where: { usuario_id: userId }\r\n    })\r\n\r\n    // 8. PWA Config (VAPID Key)\r\n    const pwaConfig = await prisma.pwa_config.findFirst({\r\n        select: { vapid_public_key: true }\r\n    })\r\n\r\n    return {\r\n        totalRevenue,\r\n        todayRevenue,\r\n        todayCount,\r\n        monthRevenue,\r\n        monthCount,\r\n        activeStudents,\r\n        chartData,\r\n        recentSales,\r\n        subscription,\r\n        totalProducts,\r\n        vapidPublicKey: pwaConfig?.vapid_public_key\r\n    }\r\n}\r\n\r\nimport { PushManager } from '@/components/pwa/push-manager'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":43,"fix":{"range":[507,507],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be no empty line within import group","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":97},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur after import of `@/components/pwa/push-manager`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":97},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2371,2374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2371,2374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2808,2811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2808,2811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3291,3294],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3291,3294],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":162,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":162,"endColumn":60,"fix":{"range":[5710,5796],"text":"className=\"text-xs text-[#D4AF37] hover:underline uppercase font-bold\" href=\"/pricing\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":208,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":208,"endColumn":25,"fix":{"range":[8275,8483],"text":"description=\"Total acumulado\"\r\n                    icon={DollarSign}\r\n                    title=\"Receita Total\"\r\n                    trend={0}\r\n                    value={`R$ ${data.totalRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":209,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":209,"endColumn":32,"fix":{"range":[8275,8483],"text":"description=\"Total acumulado\"\r\n                    icon={DollarSign}\r\n                    title=\"Receita Total\"\r\n                    trend={0}\r\n                    value={`R$ ${data.totalRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":210,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":210,"endColumn":26,"fix":{"range":[8275,8483],"text":"description=\"Total acumulado\"\r\n                    icon={DollarSign}\r\n                    title=\"Receita Total\"\r\n                    trend={0}\r\n                    value={`R$ ${data.totalRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":215,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":215,"endColumn":25,"fix":{"range":[8551,8772],"text":"description={`${data.todayCount} vendas hoje`}\r\n                    icon={Activity}\r\n                    title=\"Vendas Hoje\"\r\n                    trend={0}\r\n                    value={`R$ ${data.todayRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":216,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":216,"endColumn":32,"fix":{"range":[8551,8772],"text":"description={`${data.todayCount} vendas hoje`}\r\n                    icon={Activity}\r\n                    title=\"Vendas Hoje\"\r\n                    trend={0}\r\n                    value={`R$ ${data.todayRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":217,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":217,"endColumn":26,"fix":{"range":[8551,8772],"text":"description={`${data.todayCount} vendas hoje`}\r\n                    icon={Activity}\r\n                    title=\"Vendas Hoje\"\r\n                    trend={0}\r\n                    value={`R$ ${data.todayRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":222,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":222,"endColumn":25,"fix":{"range":[8840,9066],"text":"description={`${data.monthCount} vendas este m├¬s`}\r\n                    icon={CreditCard}\r\n                    title=\"Vendas M├¬s\"\r\n                    trend={0}\r\n                    value={`R$ ${data.monthRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":223,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":223,"endColumn":32,"fix":{"range":[8840,9066],"text":"description={`${data.monthCount} vendas este m├¬s`}\r\n                    icon={CreditCard}\r\n                    title=\"Vendas M├¬s\"\r\n                    trend={0}\r\n                    value={`R$ ${data.monthRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":224,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":224,"endColumn":26,"fix":{"range":[8840,9066],"text":"description={`${data.monthCount} vendas este m├¬s`}\r\n                    icon={CreditCard}\r\n                    title=\"Vendas M├¬s\"\r\n                    trend={0}\r\n                    value={`R$ ${data.monthRevenue.toFixed(2)}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":229,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":229,"endColumn":25,"fix":{"range":[9134,9342],"text":"description=\"Total de acessos liberados\"\r\n                    icon={Users}\r\n                    title=\"Alunos Ativos\"\r\n                    trend={0}\r\n                    value={data.activeStudents.toString()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":230,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":230,"endColumn":32,"fix":{"range":[9134,9342],"text":"description=\"Total de acessos liberados\"\r\n                    icon={Users}\r\n                    title=\"Alunos Ativos\"\r\n                    trend={0}\r\n                    value={data.activeStudents.toString()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":231,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":231,"endColumn":26,"fix":{"range":[9134,9342],"text":"description=\"Total de acessos liberados\"\r\n                    icon={Users}\r\n                    title=\"Alunos Ativos\"\r\n                    trend={0}\r\n                    value={data.activeStudents.toString()}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":31,"fixableErrorCount":0,"fixableWarningCount":25,"source":"import { prisma } from '@/lib/db'\r\nimport { KpiCard } from '@/components/dashboard/kpi-card'\r\nimport { SalesChart } from '@/components/dashboard/sales-chart'\r\nimport { RecentSales } from '@/components/dashboard/recent-sales'\r\nimport { DollarSign, CreditCard, Users, Activity } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nasync function getDashboardData(userId: string) {\r\n    const now = new Date()\r\n    const startOfDay = new Date(now.setHours(0, 0, 0, 0))\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1)\r\n\r\n    // 1. Total Receita\r\n    const totalRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const totalRevenue = Number(totalRevenueAgg._sum.valor) || 0\r\n\r\n    // 2. Vendas Hoje\r\n    const todayRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfDay },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const todayRevenue = Number(todayRevenueAgg._sum.valor) || 0\r\n    const todayCount = todayRevenueAgg._count.id\r\n\r\n    // 3. Vendas M├¬s\r\n    const monthRevenueAgg = await prisma.vendas.aggregate({\r\n        _sum: { valor: true },\r\n        _count: { id: true },\r\n        where: {\r\n            status_pagamento: 'approved',\r\n            data_venda: { gte: startOfMonth },\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n    const monthRevenue = Number(monthRevenueAgg._sum.valor) || 0\r\n    const monthCount = monthRevenueAgg._count.id\r\n\r\n    // 4. Ativos (Alunos)\r\n    const activeStudents = await prisma.alunos_acessos.count({\r\n        where: {\r\n            produtos: { usuario_id: userId }\r\n        }\r\n    })\r\n\r\n    // 5. Gr├ífico (├Ültimos 7 dias)\r\n    const last7Days = new Date()\r\n    last7Days.setDate(last7Days.getDate() - 7)\r\n\r\n    const chartDataRaw: any[] = await prisma.$queryRaw`\r\n        SELECT DATE(v.data_venda) as date, SUM(v.valor) as amount, COUNT(v.id) as count\r\n        FROM vendas v\r\n        JOIN produtos p ON v.produto_id = p.id\r\n        WHERE v.status_pagamento = 'approved' \r\n        AND v.data_venda >= ${last7Days}\r\n        AND p.usuario_id = ${userId}\r\n        GROUP BY DATE(v.data_venda)\r\n        ORDER BY date ASC\r\n    `\r\n\r\n    const chartData = chartDataRaw.map((d: any) => ({\r\n        date: new Date(d.date).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' }),\r\n        amount: Number(d.amount),\r\n        vendas: Number(d.count)\r\n    }))\r\n\r\n    // 6. ├Ültimas Vendas\r\n    const recentSalesRaw = await prisma.vendas.findMany({\r\n        take: 5,\r\n        orderBy: { data_venda: 'desc' },\r\n        where: { produtos: { usuario_id: userId } },\r\n        include: { produtos: true }\r\n    })\r\n\r\n    const recentSales = recentSalesRaw.map((v: any) => ({\r\n        id: v.id,\r\n        customerName: v.comprador_nome || 'Cliente',\r\n        customerEmail: v.comprador_email,\r\n        amount: Number(v.valor),\r\n        status: v.status_pagamento,\r\n        date: v.data_venda.toISOString()\r\n    }))\r\n\r\n    // 7. SaaS Info (Assinatura e Limites)\r\n    const subscription = await prisma.saas_assinaturas.findFirst({\r\n        where: { usuario_id: userId, status: 'ativo' },\r\n        include: { saas_planos: true },\r\n        orderBy: { data_inicio: 'desc' }\r\n    })\r\n\r\n    const totalProducts = await prisma.produtos.count({\r\n        where: { usuario_id: userId }\r\n    })\r\n\r\n    // 8. PWA Config (VAPID Key)\r\n    const pwaConfig = await prisma.pwa_config.findFirst({\r\n        select: { vapid_public_key: true }\r\n    })\r\n\r\n    return {\r\n        totalRevenue,\r\n        todayRevenue,\r\n        todayCount,\r\n        monthRevenue,\r\n        monthCount,\r\n        activeStudents,\r\n        chartData,\r\n        recentSales,\r\n        subscription,\r\n        totalProducts,\r\n        vapidPublicKey: pwaConfig?.vapid_public_key\r\n    }\r\n}\r\n\r\nimport { PushManager } from '@/components/pwa/push-manager'\r\n\r\nexport default async function DashboardPage() {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    const data = await getDashboardData(session.user.id)\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-3xl font-bold tracking-tight\">Dashboard</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <PushManager vapidPublicKey={data.vapidPublicKey || undefined} />\r\n                    <Button asChild>\r\n                        <Link href=\"/dashboard/products/new\">\r\n                            + Novo Produto\r\n                        </Link>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* SaaS Plan Status */}\r\n            {data.subscription && (\r\n                <Card className=\"bg-zinc-900 border-zinc-800 border-l-4 border-l-[#D4AF37]\">\r\n                    <CardHeader className=\"pb-2\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <CardTitle className=\"text-white text-lg\">Meu Plano: {data.subscription.saas_planos.nome}</CardTitle>\r\n                            <Link href=\"/pricing\" className=\"text-xs text-[#D4AF37] hover:underline uppercase font-bold\">\r\n                                Fazer Upgrade\r\n                            </Link>\r\n                        </div>\r\n                        <CardDescription>\r\n                            Acompanhe o consumo dos seus limites.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"grid md:grid-cols-2 gap-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between text-sm text-zinc-400\">\r\n                                <span>Produtos</span>\r\n                                <span>{data.totalProducts} / {data.subscription.saas_planos.max_produtos || 'Ôê×'}</span>\r\n                            </div>\r\n                            <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-[#D4AF37]\"\r\n                                    style={{\r\n                                        width: `${data.subscription.saas_planos.max_produtos ? Math.min((data.totalProducts / data.subscription.saas_planos.max_produtos) * 100, 100) : 0}%`\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between text-sm text-zinc-400\">\r\n                                <span>Vendas (M├¬s)</span>\r\n                                <span>{data.monthCount} / {data.subscription.saas_planos.max_pedidos_mes || 'Ôê×'}</span>\r\n                            </div>\r\n                            <div className=\"h-2 bg-zinc-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-green-500\"\r\n                                    style={{\r\n                                        width: `${data.subscription.saas_planos.max_pedidos_mes ? Math.min((data.monthCount / data.subscription.saas_planos.max_pedidos_mes) * 100, 100) : 0}%`\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            {/* KPIs */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                <KpiCard\r\n                    title=\"Receita Total\"\r\n                    value={`R$ ${data.totalRevenue.toFixed(2)}`}\r\n                    icon={DollarSign}\r\n                    description=\"Total acumulado\"\r\n                    trend={0}\r\n                />\r\n                <KpiCard\r\n                    title=\"Vendas Hoje\"\r\n                    value={`R$ ${data.todayRevenue.toFixed(2)}`}\r\n                    icon={Activity}\r\n                    description={`${data.todayCount} vendas hoje`}\r\n                    trend={0}\r\n                />\r\n                <KpiCard\r\n                    title=\"Vendas M├¬s\"\r\n                    value={`R$ ${data.monthRevenue.toFixed(2)}`}\r\n                    icon={CreditCard}\r\n                    description={`${data.monthCount} vendas este m├¬s`}\r\n                    trend={0}\r\n                />\r\n                <KpiCard\r\n                    title=\"Alunos Ativos\"\r\n                    value={data.activeStudents.toString()}\r\n                    icon={Users}\r\n                    description=\"Total de acessos liberados\"\r\n                    trend={0}\r\n                />\r\n            </div>\r\n\r\n            {/* Gr├íficos e Tabelas */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-7\">\r\n                <SalesChart data={data.chartData} />\r\n                <RecentSales sales={data.recentSales} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\products\\[id]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":55,"fix":{"range":[115,115],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":55,"fix":{"range":[16,117],"text":"import { useRouter, useParams } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[117,264],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/select` import should occur before import of `@/components/ui/textarea`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":103,"fix":{"range":[358,515],"text":"import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Textarea } from '@/components/ui/textarea'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/tabs` import should occur before import of `@/components/ui/textarea`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":80,"fix":{"range":[358,596],"text":"import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":54,"fix":{"range":[649,649],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/separator` import should occur before import of `@/components/ui/textarea`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":54,"fix":{"range":[358,651],"text":"import { Separator } from '@/components/ui/separator'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":17,"endColumn":22,"fix":{"range":[16,855],"text":"import {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useParams } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":14,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":15,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":40},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronDown' is defined but never used.","line":15,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":53},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":15,"column":55,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":67},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":18,"column":1,"nodeType":"ImportDeclaration","endLine":18,"endColumn":29,"fix":{"range":[883,883],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":18,"column":1,"nodeType":"ImportDeclaration","endLine":18,"endColumn":29,"fix":{"range":[16,885],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useParams } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/image-upload` import should occur before import of `@/components/ui/input`","line":19,"column":1,"nodeType":"ImportDeclaration","endLine":19,"endColumn":59,"fix":{"range":[264,945],"text":"import { ImageUpload } from '@/components/ui/image-upload'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/accordion` import should occur before import of `@/components/ui/card`","line":20,"column":1,"nodeType":"ImportDeclaration","endLine":25,"endColumn":35,"fix":{"range":[117,1073],"text":"import {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/alert-dialog` import should occur before import of `@/components/ui/card`","line":26,"column":1,"nodeType":"ImportDeclaration","endLine":36,"endColumn":38,"fix":{"range":[117,1338],"text":"import {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/edit-lesson-dialog` import should occur before import of `@/components/ui/card`","line":37,"column":1,"nodeType":"ImportDeclaration","endLine":37,"endColumn":77,"fix":{"range":[117,1416],"text":"import { EditLessonDialog } from '@/components/dashboard/edit-lesson-dialog'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/edit-module-dialog` import should occur before import of `@/components/ui/card`","line":38,"column":1,"nodeType":"ImportDeclaration","endLine":38,"endColumn":77,"fix":{"range":[117,1494],"text":"import { EditModuleDialog } from '@/components/dashboard/edit-module-dialog'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\nimport { EditLessonDialog } from '@/components/dashboard/edit-lesson-dialog'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/checkout-editor` import should occur before import of `@/components/ui/card`","line":39,"column":1,"nodeType":"ImportDeclaration","endLine":39,"endColumn":111,"fix":{"range":[117,1606],"text":"import { CheckoutEditor, CheckoutConfig, defaultCheckoutConfig } from '@/components/dashboard/checkout-editor'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\nimport { EditLessonDialog } from '@/components/dashboard/edit-lesson-dialog'\r\nimport { EditModuleDialog } from '@/components/dashboard/edit-module-dialog'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/bumps/order-bump-manager` import should occur before import of `@/components/ui/card`","line":40,"column":1,"nodeType":"ImportDeclaration","endLine":40,"endColumn":83,"fix":{"range":[117,1690],"text":"import { OrderBumpManager } from '@/components/dashboard/bumps/order-bump-manager'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\nimport { EditLessonDialog } from '@/components/dashboard/edit-lesson-dialog'\r\nimport { EditModuleDialog } from '@/components/dashboard/edit-module-dialog'\r\nimport { CheckoutEditor, CheckoutConfig, defaultCheckoutConfig } from '@/components/dashboard/checkout-editor'\r\n"}},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProduct'. Either include it or remove the dependency array.","line":119,"column":8,"nodeType":"ArrayExpression","endLine":119,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProduct, productId]","fix":{"range":[4036,4047],"text":"[fetchProduct, productId]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":143,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4911,4914],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4911,4914],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":177,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5948,5951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5948,5951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":338,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":338,"endColumn":49,"fix":{"range":[10947,10982],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":338,"column":57,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":338,"endColumn":64,"fix":{"range":[10947,10982],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":349,"column":47,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":349,"endColumn":51,"fix":{"range":[11505,11540],"text":"asChild size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":349,"column":57,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":349,"endColumn":64,"fix":{"range":[11505,11540],"text":"asChild size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":357,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":357,"endColumn":29,"fix":{"range":[11866,12002],"text":"size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => navigator.clipboard.writeText(checkoutUrl)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":366,"column":42,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":366,"endColumn":51,"fix":{"range":[12218,12262],"text":"className=\"space-y-6\" defaultValue=\"general\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":410,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":410,"endColumn":53,"fix":{"range":[14516,14739],"text":"id=\"descricao\"\r\n                                            rows={4}\r\n                                            value={descricao}\r\n                                            onChange={(e) => setDescricao(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":427,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":427,"endColumn":53,"fix":{"range":[15488,15717],"text":"step=\"0.01\"\r\n                                                type=\"number\"\r\n                                                value={preco}\r\n                                                onChange={(e) => setPreco(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":436,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":436,"endColumn":53,"fix":{"range":[16064,16309],"text":"step=\"0.01\"\r\n                                                type=\"number\"\r\n                                                value={precoAnterior}\r\n                                                onChange={(e) => setPrecoAnterior(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":454,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":454,"endColumn":49,"fix":{"range":[16967,17095],"text":"type=\"product\"\r\n                                        value={foto}\r\n                                        onChange={setFoto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":482,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":482,"endColumn":48,"fix":{"range":[18454,18595],"text":"className=\"w-full\"\r\n                                        disabled={isSaving}\r\n                                        onClick={handleSave}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":526,"column":64,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":526,"endColumn":73,"fix":{"range":[20780,20817],"text":"className=\"space-y-2\" type=\"multiple\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":531,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":531,"endColumn":58,"fix":{"range":[21011,21177],"text":"className=\"border rounded-lg px-4\"\r\n                                                key={modulo.id}\r\n                                                value={modulo.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":546,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":546,"endColumn":69,"fix":{"range":[22378,22940],"text":"className=\"h-8 w-8 text-muted-foreground hover:text-primary z-10\"\r\n                                                                size=\"icon\"\r\n                                                                variant=\"ghost\"\r\n                                                                onClick={() => {\r\n                                                                    setEditingModule(modulo)\r\n                                                                    setIsEditModuleOpen(true)\r\n                                                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":547,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":547,"endColumn":74,"fix":{"range":[22378,22940],"text":"className=\"h-8 w-8 text-muted-foreground hover:text-primary z-10\"\r\n                                                                size=\"icon\"\r\n                                                                variant=\"ghost\"\r\n                                                                onClick={() => {\r\n                                                                    setEditingModule(modulo)\r\n                                                                    setIsEditModuleOpen(true)\r\n                                                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":564,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":564,"endColumn":74,"fix":{"range":[23826,24010],"text":"className=\"flex items-center justify-between p-3 bg-muted/50 rounded-md hover:bg-muted transition-colors\"\r\n                                                                key={aula.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":589,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":589,"endColumn":77,"fix":{"range":[26406,26750],"text":"className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\r\n                                                                        size=\"icon\"\r\n                                                                        variant=\"ghost\"\r\n                                                                        onClick={() => openEditLesson(aula)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":590,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":590,"endColumn":82,"fix":{"range":[26406,26750],"text":"className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\r\n                                                                        size=\"icon\"\r\n                                                                        variant=\"ghost\"\r\n                                                                        onClick={() => openEditLesson(aula)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":597,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":597,"endColumn":77,"fix":{"range":[27155,27497],"text":"className=\"h-8 w-8 text-red-500 hover:text-red-600\"\r\n                                                                        size=\"icon\"\r\n                                                                        variant=\"ghost\"\r\n                                                                        onClick={() => handleDeleteLesson(aula.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":598,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":598,"endColumn":82,"fix":{"range":[27155,27497],"text":"className=\"h-8 w-8 text-red-500 hover:text-red-600\"\r\n                                                                        size=\"icon\"\r\n                                                                        variant=\"ghost\"\r\n                                                                        onClick={() => handleDeleteLesson(aula.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":621,"column":65,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":621,"endColumn":73,"fix":{"range":[29082,29452],"text":"className=\"hidden sm:block\"\r\n                                                                placeholder=\"URL do v├¡deo (opcional)\"\r\n                                                                value={newLessonModuleId === modulo.id ? newLessonUrl : ''}\r\n                                                                onChange={(e) => setNewLessonUrl(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":626,"column":65,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":626,"endColumn":72,"fix":{"range":[29651,29878],"text":"disabled={newLessonModuleId !== modulo.id || !newLessonTitle}\r\n                                                                size=\"sm\"\r\n                                                                onClick={handleAddLesson}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":638,"column":61,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":638,"endColumn":65,"fix":{"range":[30451,30749],"text":"className=\"text-red-500 hover:text-red-600\"\r\n                                                            size=\"sm\"\r\n                                                            variant=\"ghost\"\r\n                                                            onClick={() => handleDeleteModule(modulo.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":639,"column":61,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":639,"endColumn":70,"fix":{"range":[30451,30749],"text":"className=\"text-red-500 hover:text-red-600\"\r\n                                                            size=\"sm\"\r\n                                                            variant=\"ghost\"\r\n                                                            onClick={() => handleDeleteModule(modulo.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":698,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":698,"endColumn":52,"fix":{"range":[33949,34063],"text":"className=\"bg-red-600 hover:bg-red-700\"\r\n                                            onClick={handleDeleteProduct}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":49,"fixableErrorCount":0,"fixableWarningCount":42,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useParams } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n    ArrowLeft, Loader2, Package, Save, ExternalLink, Copy, Trash2,\r\n    Plus, GripVertical, Video, FileText, ChevronDown, ChevronRight,\r\n    BookOpen, Pencil, Clock, Tag\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog'\r\nimport { EditLessonDialog } from '@/components/dashboard/edit-lesson-dialog'\r\nimport { EditModuleDialog } from '@/components/dashboard/edit-module-dialog'\r\nimport { CheckoutEditor, CheckoutConfig, defaultCheckoutConfig } from '@/components/dashboard/checkout-editor'\r\nimport { OrderBumpManager } from '@/components/dashboard/bumps/order-bump-manager'\r\n\r\ninterface Aula {\r\n    id: string\r\n    titulo: string\r\n    url_video: string | null\r\n    descricao: string | null\r\n    ordem: number\r\n    release_days: number\r\n}\r\n\r\ninterface Modulo {\r\n    id: string\r\n    titulo: string\r\n    ordem: number\r\n    release_days: number\r\n    aulas: Aula[]\r\n}\r\n\r\ninterface Curso {\r\n    id: string\r\n    titulo: string\r\n    descricao: string | null\r\n    modulos: Modulo[]\r\n}\r\n\r\ninterface Produto {\r\n    id: string\r\n    nome: string\r\n    descricao: string | null\r\n    preco: number\r\n    preco_anterior: number | null\r\n    foto: string | null\r\n    checkout_hash: string\r\n    tipo_entrega: string\r\n    conteudo_entrega: string | null\r\n    gateway: string\r\n    cursos: Curso | null\r\n}\r\n\r\nexport default function EditProductPage() {\r\n    const router = useRouter()\r\n    const params = useParams()\r\n    const productId = params.id as string\r\n\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n    const [error, setError] = useState('')\r\n    const [produto, setProduto] = useState<Produto | null>(null)\r\n\r\n    // Form state\r\n    const [nome, setNome] = useState('')\r\n    const [descricao, setDescricao] = useState('')\r\n    const [preco, setPreco] = useState('')\r\n    const [precoAnterior, setPrecoAnterior] = useState('')\r\n    const [tipoEntrega, setTipoEntrega] = useState('link')\r\n    const [gateway, setGateway] = useState('mercadopago')\r\n    const [conteudoEntrega, setConteudoEntrega] = useState('')\r\n    const [foto, setFoto] = useState<string | null>(null)\r\n\r\n    // Module/Lesson form\r\n    const [newModuleTitle, setNewModuleTitle] = useState('')\r\n    const [newLessonTitle, setNewLessonTitle] = useState('')\r\n    const [newLessonModuleId, setNewLessonModuleId] = useState('')\r\n\r\n    // Edit lesson state\r\n    const [editingLesson, setEditingLesson] = useState<Aula | null>(null)\r\n    const [isEditLessonOpen, setIsEditLessonOpen] = useState(false)\r\n    const [newLessonUrl, setNewLessonUrl] = useState('')\r\n\r\n    // Edit module state\r\n    const [editingModule, setEditingModule] = useState<Modulo | null>(null)\r\n    const [isEditModuleOpen, setIsEditModuleOpen] = useState(false)\r\n\r\n    // Checkout Config\r\n    const [checkoutConfig, setCheckoutConfig] = useState<CheckoutConfig>(defaultCheckoutConfig)\r\n\r\n    useEffect(() => {\r\n        fetchProduct()\r\n    }, [productId])\r\n\r\n    async function fetchProduct() {\r\n        try {\r\n            const res = await fetch(`/api/products/${productId}`)\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Produto n├úo encontrado')\r\n            }\r\n\r\n            const p = data.produto\r\n            setProduto(p)\r\n            setNome(p.nome)\r\n            setDescricao(p.descricao || '')\r\n            setPreco(p.preco.toString())\r\n            setPrecoAnterior(p.preco_anterior?.toString() || '')\r\n            setTipoEntrega(p.tipo_entrega)\r\n            setGateway(p.gateway)\r\n            setConteudoEntrega(p.conteudo_entrega || '')\r\n            setFoto(p.foto || null)\r\n            if (p.checkout_config) {\r\n                setCheckoutConfig(p.checkout_config as unknown as CheckoutConfig)\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    async function handleSave() {\r\n        setIsSaving(true)\r\n        setError('')\r\n\r\n        try {\r\n            const res = await fetch(`/api/products/${productId}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    nome,\r\n                    descricao,\r\n                    preco,\r\n                    preco_anterior: precoAnterior || null,\r\n                    tipo_entrega: tipoEntrega,\r\n                    gateway,\r\n                    conteudo_entrega: conteudoEntrega,\r\n                    foto,\r\n                    checkout_config: checkoutConfig\r\n                })\r\n            })\r\n\r\n            if (!res.ok) {\r\n                const data = await res.json()\r\n                throw new Error(data.error || 'Erro ao salvar')\r\n            }\r\n\r\n            await fetchProduct()\r\n        } catch (err: any) {\r\n            setError(err.message)\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    async function handleAddModule() {\r\n        if (!newModuleTitle || !produto?.cursos) return\r\n\r\n        try {\r\n            const res = await fetch('/api/courses/modules', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    cursoId: produto.cursos.id,\r\n                    titulo: newModuleTitle\r\n                })\r\n            })\r\n\r\n            if (res.ok) {\r\n                setNewModuleTitle('')\r\n                await fetchProduct()\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    async function handleAddLesson() {\r\n        if (!newLessonTitle || !newLessonModuleId) return\r\n\r\n        try {\r\n            const res = await fetch('/api/courses/lessons', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    moduloId: newLessonModuleId,\r\n                    titulo: newLessonTitle,\r\n                    url_video: newLessonUrl || null\r\n                })\r\n            })\r\n\r\n            if (res.ok) {\r\n                setNewLessonTitle('')\r\n                setNewLessonUrl('')\r\n                setNewLessonModuleId('')\r\n                await fetchProduct()\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    async function handleDeleteModule(moduloId: string) {\r\n        try {\r\n            await fetch(`/api/courses/modules?moduloId=${moduloId}`, { method: 'DELETE' })\r\n            await fetchProduct()\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    async function handleDeleteLesson(aulaId: string) {\r\n        try {\r\n            await fetch(`/api/courses/lessons?aulaId=${aulaId}`, { method: 'DELETE' })\r\n            await fetchProduct()\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    async function handleEditLesson(aula: Aula) {\r\n        try {\r\n            const res = await fetch('/api/courses/lessons', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    aulaId: aula.id,\r\n                    titulo: aula.titulo,\r\n                    url_video: aula.url_video,\r\n                    descricao: aula.descricao,\r\n                    release_days: aula.release_days\r\n                })\r\n            })\r\n\r\n            if (res.ok) {\r\n                await fetchProduct()\r\n            } else {\r\n                const data = await res.json()\r\n                throw new Error(data.error || 'Erro ao atualizar aula')\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n            throw err\r\n        }\r\n    }\r\n\r\n    async function handleEditModuleUpdate(modulo: Modulo) {\r\n        try {\r\n            const res = await fetch('/api/courses/modules', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    moduloId: modulo.id,\r\n                    titulo: modulo.titulo,\r\n                    release_days: modulo.release_days\r\n                })\r\n            })\r\n\r\n            if (res.ok) {\r\n                await fetchProduct()\r\n            } else {\r\n                throw new Error('Erro ao atualizar m├│dulo')\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    function openEditLesson(aula: Aula) {\r\n        setEditingLesson(aula)\r\n        setIsEditLessonOpen(true)\r\n    }\r\n\r\n    async function handleDeleteProduct() {\r\n        try {\r\n            await fetch(`/api/products/${productId}`, { method: 'DELETE' })\r\n            router.push('/dashboard/products')\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error && !produto) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\r\n                <p className=\"text-red-500\">{error}</p>\r\n                <Button asChild>\r\n                    <Link href=\"/dashboard/products\">Voltar</Link>\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const checkoutUrl = typeof window !== 'undefined'\r\n        ? `${window.location.origin}/checkout/${produto?.checkout_hash}`\r\n        : `/checkout/${produto?.checkout_hash}`\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                        <Link href=\"/dashboard/products\">\r\n                            <ArrowLeft className=\"w-5 h-5\" />\r\n                        </Link>\r\n                    </Button>\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold tracking-tight\">{nome}</h1>\r\n                        <p className=\"text-muted-foreground\">Editar produto</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" asChild>\r\n                        <Link href={`/checkout/${produto?.checkout_hash}`} target=\"_blank\">\r\n                            <ExternalLink className=\"w-4 h-4 mr-2\" />\r\n                            Ver Checkout\r\n                        </Link>\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => navigator.clipboard.writeText(checkoutUrl)}\r\n                    >\r\n                        <Copy className=\"w-4 h-4 mr-2\" />\r\n                        Copiar Link\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <Tabs defaultValue=\"general\" className=\"space-y-6\">\r\n                <TabsList>\r\n                    <TabsTrigger value=\"general\">Geral</TabsTrigger>\r\n                    {tipoEntrega === 'area_membros' && (\r\n                        <TabsTrigger value=\"course\">\r\n                            <BookOpen className=\"w-4 h-4 mr-2\" />\r\n                            Curso\r\n                        </TabsTrigger>\r\n                    )}\r\n                    <TabsTrigger value=\"checkout\">Checkout</TabsTrigger>\r\n                    <TabsTrigger value=\"bumps\">\r\n                        <Tag className=\"w-4 h-4 mr-2\" />\r\n                        Order Bumps\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"danger\">Zona de Perigo</TabsTrigger>\r\n                </TabsList>\r\n\r\n                {/* General Tab */}\r\n                <TabsContent value=\"general\">\r\n                    <div className=\"grid gap-6 lg:grid-cols-3\">\r\n                        <div className=\"lg:col-span-2 space-y-6\">\r\n                            <Card>\r\n                                <CardHeader>\r\n                                    <CardTitle>Informa├º├Áes B├ísicas</CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent className=\"space-y-4\">\r\n                                    {error && (\r\n                                        <div className=\"p-3 text-sm text-red-500 bg-red-50 rounded-md\">\r\n                                            {error}\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"nome\">Nome</Label>\r\n                                        <Input\r\n                                            id=\"nome\"\r\n                                            value={nome}\r\n                                            onChange={(e) => setNome(e.target.value)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"descricao\">Descri├º├úo</Label>\r\n                                        <Textarea\r\n                                            id=\"descricao\"\r\n                                            value={descricao}\r\n                                            onChange={(e) => setDescricao(e.target.value)}\r\n                                            rows={4}\r\n                                        />\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n\r\n                            <Card>\r\n                                <CardHeader>\r\n                                    <CardTitle>Pre├ºo</CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label>Pre├ºo de Venda (R$)</Label>\r\n                                            <Input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={preco}\r\n                                                onChange={(e) => setPreco(e.target.value)}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label>Pre├ºo Anterior (R$)</Label>\r\n                                            <Input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={precoAnterior}\r\n                                                onChange={(e) => setPrecoAnterior(e.target.value)}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-6\">\r\n                            <Card>\r\n                                <CardHeader>\r\n                                    <CardTitle>Imagem do Produto</CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <ImageUpload\r\n                                        value={foto}\r\n                                        onChange={setFoto}\r\n                                        type=\"product\"\r\n                                    />\r\n                                </CardContent>\r\n                            </Card>\r\n\r\n                            <Card>\r\n                                <CardHeader>\r\n                                    <CardTitle>Gateway</CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <Select value={gateway} onValueChange={setGateway}>\r\n                                        <SelectTrigger>\r\n                                            <SelectValue />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"mercadopago\">Mercado Pago</SelectItem>\r\n                                            <SelectItem value=\"pushinpay\">PushinPay</SelectItem>\r\n                                            <SelectItem value=\"efi\">Ef├¡</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </CardContent>\r\n                            </Card>\r\n\r\n                            <Card>\r\n                                <CardContent className=\"pt-6\">\r\n                                    <Button\r\n                                        className=\"w-full\"\r\n                                        onClick={handleSave}\r\n                                        disabled={isSaving}\r\n                                    >\r\n                                        {isSaving ? (\r\n                                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                        ) : (\r\n                                            <Save className=\"w-4 h-4 mr-2\" />\r\n                                        )}\r\n                                        Salvar Altera├º├Áes\r\n                                    </Button>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </div>\r\n                    </div>\r\n                </TabsContent>\r\n\r\n                {/* Course Tab */}\r\n                {tipoEntrega === 'area_membros' && (\r\n                    <TabsContent value=\"course\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Gerenciar Curso</CardTitle>\r\n                                <CardDescription>\r\n                                    Organize os m├│dulos e aulas do seu curso\r\n                                </CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-6\">\r\n                                {/* Add Module */}\r\n                                <div className=\"flex gap-2\">\r\n                                    <Input\r\n                                        placeholder=\"Nome do novo m├│dulo\"\r\n                                        value={newModuleTitle}\r\n                                        onChange={(e) => setNewModuleTitle(e.target.value)}\r\n                                    />\r\n                                    <Button onClick={handleAddModule}>\r\n                                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                                        M├│dulo\r\n                                    </Button>\r\n                                </div>\r\n\r\n                                <Separator />\r\n\r\n                                {/* Modules List */}\r\n                                {produto?.cursos?.modulos && produto.cursos.modulos.length > 0 ? (\r\n                                    <Accordion type=\"multiple\" className=\"space-y-2\">\r\n                                        {produto.cursos.modulos.map((modulo) => (\r\n                                            <AccordionItem\r\n                                                key={modulo.id}\r\n                                                value={modulo.id}\r\n                                                className=\"border rounded-lg px-4\"\r\n                                            >\r\n                                                <AccordionTrigger className=\"hover:no-underline pr-2\">\r\n                                                    <div className=\"flex items-center gap-3 w-full\">\r\n                                                        <GripVertical className=\"w-4 h-4 text-muted-foreground\" />\r\n                                                        <span className=\"font-medium flex-1 text-left\">{modulo.titulo}</span>\r\n                                                        <span className=\"text-xs text-muted-foreground mr-2\">\r\n                                                            ({modulo.aulas.length} aulas)\r\n                                                        </span>\r\n                                                        <div\r\n                                                            className=\"flex gap-1\"\r\n                                                            onClick={(e) => e.stopPropagation()}\r\n                                                        >\r\n                                                            <Button\r\n                                                                variant=\"ghost\"\r\n                                                                size=\"icon\"\r\n                                                                className=\"h-8 w-8 text-muted-foreground hover:text-primary z-10\"\r\n                                                                onClick={() => {\r\n                                                                    setEditingModule(modulo)\r\n                                                                    setIsEditModuleOpen(true)\r\n                                                                }}\r\n                                                            >\r\n                                                                <Pencil className=\"w-4 h-4\" />\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </AccordionTrigger>\r\n                                                <AccordionContent className=\"pb-4\">\r\n                                                    <div className=\"space-y-3 pl-7\">\r\n                                                        {/* Lessons */}\r\n                                                        {modulo.aulas.map((aula) => (\r\n                                                            <div\r\n                                                                key={aula.id}\r\n                                                                className=\"flex items-center justify-between p-3 bg-muted/50 rounded-md hover:bg-muted transition-colors\"\r\n                                                            >\r\n                                                                <div className=\"flex items-center gap-3 flex-1\">\r\n                                                                    <Video className=\"w-4 h-4 text-muted-foreground flex-shrink-0\" />\r\n                                                                    <div className=\"min-w-0\">\r\n                                                                        <span className=\"text-sm font-medium block\">{aula.titulo}</span>\r\n                                                                        <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                                                                            {aula.url_video && (\r\n                                                                                <span className=\"flex items-center gap-1\">\r\n                                                                                    <Video className=\"w-3 h-3\" />\r\n                                                                                    Com v├¡deo\r\n                                                                                </span>\r\n                                                                            )}\r\n                                                                            {aula.release_days > 0 && (\r\n                                                                                <span className=\"flex items-center gap-1\">\r\n                                                                                    <Clock className=\"w-3 h-3\" />\r\n                                                                                    {aula.release_days}d\r\n                                                                                </span>\r\n                                                                            )}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"flex items-center gap-1\">\r\n                                                                    <Button\r\n                                                                        variant=\"ghost\"\r\n                                                                        size=\"icon\"\r\n                                                                        className=\"h-8 w-8 text-muted-foreground hover:text-primary\"\r\n                                                                        onClick={() => openEditLesson(aula)}\r\n                                                                    >\r\n                                                                        <Pencil className=\"w-4 h-4\" />\r\n                                                                    </Button>\r\n                                                                    <Button\r\n                                                                        variant=\"ghost\"\r\n                                                                        size=\"icon\"\r\n                                                                        className=\"h-8 w-8 text-red-500 hover:text-red-600\"\r\n                                                                        onClick={() => handleDeleteLesson(aula.id)}\r\n                                                                    >\r\n                                                                        <Trash2 className=\"w-4 h-4\" />\r\n                                                                    </Button>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n\r\n                                                        {/* Add Lesson Form */}\r\n                                                        <div className=\"flex gap-2 pt-2\">\r\n                                                            <Input\r\n                                                                placeholder=\"T├¡tulo da aula\"\r\n                                                                value={newLessonModuleId === modulo.id ? newLessonTitle : ''}\r\n                                                                onChange={(e) => {\r\n                                                                    setNewLessonModuleId(modulo.id)\r\n                                                                    setNewLessonTitle(e.target.value)\r\n                                                                }}\r\n                                                                onFocus={() => setNewLessonModuleId(modulo.id)}\r\n                                                            />\r\n                                                            <Input\r\n                                                                placeholder=\"URL do v├¡deo (opcional)\"\r\n                                                                value={newLessonModuleId === modulo.id ? newLessonUrl : ''}\r\n                                                                onChange={(e) => setNewLessonUrl(e.target.value)}\r\n                                                                className=\"hidden sm:block\"\r\n                                                            />\r\n                                                            <Button\r\n                                                                size=\"sm\"\r\n                                                                onClick={handleAddLesson}\r\n                                                                disabled={newLessonModuleId !== modulo.id || !newLessonTitle}\r\n                                                            >\r\n                                                                <Plus className=\"w-4 h-4\" />\r\n                                                            </Button>\r\n                                                        </div>\r\n\r\n                                                        <Separator />\r\n\r\n                                                        {/* Delete Module */}\r\n                                                        <Button\r\n                                                            variant=\"ghost\"\r\n                                                            size=\"sm\"\r\n                                                            className=\"text-red-500 hover:text-red-600\"\r\n                                                            onClick={() => handleDeleteModule(modulo.id)}\r\n                                                        >\r\n                                                            <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                                            Excluir M├│dulo\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                </AccordionContent>\r\n                                            </AccordionItem>\r\n                                        ))}\r\n                                    </Accordion>\r\n                                ) : (\r\n                                    <div className=\"text-center py-8 text-muted-foreground\">\r\n                                        Nenhum m├│dulo criado ainda. Adicione seu primeiro m├│dulo acima.\r\n                                    </div>\r\n                                )}\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n                )}\r\n\r\n                {/* Checkout Tab */}\r\n                <TabsContent value=\"checkout\">\r\n                    <CheckoutEditor value={checkoutConfig} onChange={setCheckoutConfig} />\r\n                </TabsContent>\r\n\r\n                {/* Order Bumps Tab */}\r\n                <TabsContent value=\"bumps\">\r\n                    <OrderBumpManager productId={productId} />\r\n                </TabsContent>\r\n\r\n                {/* Danger Zone */}\r\n                <TabsContent value=\"danger\">\r\n                    <Card className=\"border-red-200\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-red-600\">Zona de Perigo</CardTitle>\r\n                            <CardDescription>\r\n                                A├º├Áes irrevers├¡veis\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <AlertDialog>\r\n                                <AlertDialogTrigger asChild>\r\n                                    <Button variant=\"destructive\">\r\n                                        <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                        Excluir Produto\r\n                                    </Button>\r\n                                </AlertDialogTrigger>\r\n                                <AlertDialogContent>\r\n                                    <AlertDialogHeader>\r\n                                        <AlertDialogTitle>Tem certeza?</AlertDialogTitle>\r\n                                        <AlertDialogDescription>\r\n                                            Esta a├º├úo n├úo pode ser desfeita. O produto, curso, m├│dulos,\r\n                                            aulas e todas as vendas associadas ser├úo exclu├¡dos permanentemente.\r\n                                        </AlertDialogDescription>\r\n                                    </AlertDialogHeader>\r\n                                    <AlertDialogFooter>\r\n                                        <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n                                        <AlertDialogAction\r\n                                            onClick={handleDeleteProduct}\r\n                                            className=\"bg-red-600 hover:bg-red-700\"\r\n                                        >\r\n                                            Sim, excluir\r\n                                        </AlertDialogAction>\r\n                                    </AlertDialogFooter>\r\n                                </AlertDialogContent>\r\n                            </AlertDialog>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n\r\n            {/* Edit Lesson Dialog */}\r\n            <EditLessonDialog\r\n                aula={editingLesson}\r\n                open={isEditLessonOpen}\r\n                onOpenChange={setIsEditLessonOpen}\r\n                onSave={handleEditLesson}\r\n            />\r\n\r\n            <EditModuleDialog\r\n                modulo={editingModule}\r\n                open={isEditModuleOpen}\r\n                onOpenChange={setIsEditModuleOpen}\r\n                onSave={handleEditModuleUpdate}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\products\\new\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[93,93],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[16,95],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[95,242],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/select` import should occur before import of `@/components/ui/textarea`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":103,"fix":{"range":[336,493],"text":"import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Textarea } from '@/components/ui/textarea'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":54,"fix":{"range":[546,546],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/separator` import should occur before import of `@/components/ui/textarea`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":54,"fix":{"range":[336,548],"text":"import { Separator } from '@/components/ui/separator'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Separator' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":19},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":72,"fix":{"range":[16,621],"text":"import { ArrowLeft, Loader2, Package, CheckCircle } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Separator } from '@/components/ui/separator'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":29,"fix":{"range":[16,651],"text":"import Link from 'next/link'\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { ArrowLeft, Loader2, Package, CheckCircle } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2527,2530],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2527,2530],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":90,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":90,"endColumn":45,"fix":{"range":[3410,3445],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":90,"column":53,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":90,"endColumn":60,"fix":{"range":[3410,3445],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":125,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":125,"endColumn":49,"fix":{"range":[5086,5368],"text":"required\r\n                                        id=\"nome\"\r\n                                        placeholder=\"Ex: Curso de Marketing Digital\"\r\n                                        value={nome}\r\n                                        onChange={(e) => setNome(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":135,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":135,"endColumn":49,"fix":{"range":[5680,5970],"text":"id=\"descricao\"\r\n                                        placeholder=\"Descreva seu produto...\"\r\n                                        rows={4}\r\n                                        value={descricao}\r\n                                        onChange={(e) => setDescricao(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":154,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":154,"endColumn":49,"fix":{"range":[6703,7149],"text":"required\r\n                                            id=\"preco\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"297.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={preco}\r\n                                            onChange={(e) => setPreco(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":155,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":155,"endColumn":48,"fix":{"range":[6703,7149],"text":"required\r\n                                            id=\"preco\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"297.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={preco}\r\n                                            onChange={(e) => setPreco(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":157,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":157,"endColumn":53,"fix":{"range":[6703,7149],"text":"required\r\n                                            id=\"preco\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"297.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={preco}\r\n                                            onChange={(e) => setPreco(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":167,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":167,"endColumn":49,"fix":{"range":[7496,7912],"text":"id=\"precoAnterior\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"497.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={precoAnterior}\r\n                                            onChange={(e) => setPrecoAnterior(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":168,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":168,"endColumn":48,"fix":{"range":[7496,7912],"text":"id=\"precoAnterior\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"497.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={precoAnterior}\r\n                                            onChange={(e) => setPrecoAnterior(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":170,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":170,"endColumn":53,"fix":{"range":[7496,7912],"text":"id=\"precoAnterior\"\r\n                                            min=\"0\"\r\n                                            placeholder=\"497.00\"\r\n                                            step=\"0.01\"\r\n                                            type=\"number\"\r\n                                            value={precoAnterior}\r\n                                            onChange={(e) => setPrecoAnterior(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":207,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":207,"endColumn":53,"fix":{"range":[9937,10188],"text":"id=\"conteudo\"\r\n                                            placeholder=\"https://...\"\r\n                                            value={conteudoEntrega}\r\n                                            onChange={(e) => setConteudoEntrega(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":251,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":251,"endColumn":46,"fix":{"range":[12440,12617],"text":"className=\"w-full\"\r\n                                    disabled={isSubmitting}\r\n                                    size=\"lg\"\r\n                                    type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":252,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":252,"endColumn":41,"fix":{"range":[12440,12617],"text":"className=\"w-full\"\r\n                                    disabled={isSubmitting}\r\n                                    size=\"lg\"\r\n                                    type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":253,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":253,"endColumn":45,"fix":{"range":[12440,12617],"text":"className=\"w-full\"\r\n                                    disabled={isSubmitting}\r\n                                    size=\"lg\"\r\n                                    type=\"submit\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":22,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { ArrowLeft, Loader2, Package, CheckCircle } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default function NewProductPage() {\r\n    const router = useRouter()\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n    const [error, setError] = useState('')\r\n\r\n    // Form state\r\n    const [nome, setNome] = useState('')\r\n    const [descricao, setDescricao] = useState('')\r\n    const [preco, setPreco] = useState('')\r\n    const [precoAnterior, setPrecoAnterior] = useState('')\r\n    const [tipoEntrega, setTipoEntrega] = useState('link')\r\n    const [gateway, setGateway] = useState('mercadopago')\r\n    const [conteudoEntrega, setConteudoEntrega] = useState('')\r\n\r\n    async function handleSubmit(e: React.FormEvent) {\r\n        e.preventDefault()\r\n        setIsSubmitting(true)\r\n        setError('')\r\n\r\n        if (!nome || !preco) {\r\n            setError('Nome e pre├ºo s├úo obrigat├│rios')\r\n            setIsSubmitting(false)\r\n            return\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/products', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    nome,\r\n                    descricao,\r\n                    preco: parseFloat(preco),\r\n                    preco_anterior: precoAnterior ? parseFloat(precoAnterior) : null,\r\n                    tipo_entrega: tipoEntrega,\r\n                    gateway,\r\n                    conteudo_entrega: tipoEntrega === 'link' ? conteudoEntrega : null\r\n                })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Erro ao criar produto')\r\n            }\r\n\r\n            setSuccess(true)\r\n            setTimeout(() => {\r\n                router.push(`/dashboard/products/${data.produtoId}`)\r\n            }, 1500)\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erro ao criar produto')\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n                <Card className=\"max-w-md w-full text-center\">\r\n                    <CardContent className=\"py-12\">\r\n                        <CheckCircle className=\"w-16 h-16 mx-auto text-green-500 mb-4\" />\r\n                        <h2 className=\"text-2xl font-bold mb-2\">Produto Criado!</h2>\r\n                        <p className=\"text-muted-foreground\">Redirecionando para edi├º├úo...</p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                    <Link href=\"/dashboard/products\">\r\n                        <ArrowLeft className=\"w-5 h-5\" />\r\n                    </Link>\r\n                </Button>\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Novo Produto</h1>\r\n                    <p className=\"text-muted-foreground\">\r\n                        Crie um novo produto para vender\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"grid gap-6 lg:grid-cols-3\">\r\n                    {/* Main Content */}\r\n                    <div className=\"lg:col-span-2 space-y-6\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Informa├º├Áes B├ísicas</CardTitle>\r\n                                <CardDescription>\r\n                                    Dados principais do seu produto\r\n                                </CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                {error && (\r\n                                    <div className=\"p-3 text-sm text-red-500 bg-red-50 rounded-md border border-red-200\">\r\n                                        {error}\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"nome\">Nome do Produto *</Label>\r\n                                    <Input\r\n                                        id=\"nome\"\r\n                                        value={nome}\r\n                                        onChange={(e) => setNome(e.target.value)}\r\n                                        placeholder=\"Ex: Curso de Marketing Digital\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"descricao\">Descri├º├úo</Label>\r\n                                    <Textarea\r\n                                        id=\"descricao\"\r\n                                        value={descricao}\r\n                                        onChange={(e) => setDescricao(e.target.value)}\r\n                                        placeholder=\"Descreva seu produto...\"\r\n                                        rows={4}\r\n                                    />\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Pre├ºo</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"preco\">Pre├ºo de Venda (R$) *</Label>\r\n                                        <Input\r\n                                            id=\"preco\"\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                            value={preco}\r\n                                            onChange={(e) => setPreco(e.target.value)}\r\n                                            placeholder=\"297.00\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"precoAnterior\">Pre├ºo Anterior (R$)</Label>\r\n                                        <Input\r\n                                            id=\"precoAnterior\"\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                            value={precoAnterior}\r\n                                            onChange={(e) => setPrecoAnterior(e.target.value)}\r\n                                            placeholder=\"497.00\"\r\n                                        />\r\n                                        <p className=\"text-xs text-muted-foreground\">\r\n                                            Aparece riscado no checkout para mostrar desconto\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Entrega do Produto</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label>Tipo de Entrega</Label>\r\n                                    <Select value={tipoEntrega} onValueChange={setTipoEntrega}>\r\n                                        <SelectTrigger>\r\n                                            <SelectValue />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"link\">Link de Acesso</SelectItem>\r\n                                            <SelectItem value=\"email_pdf\">Email com PDF</SelectItem>\r\n                                            <SelectItem value=\"area_membros\">├ürea de Membros</SelectItem>\r\n                                            <SelectItem value=\"produto_fisico\">Produto F├¡sico</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </div>\r\n\r\n                                {tipoEntrega === 'link' && (\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"conteudo\">Link de Entrega</Label>\r\n                                        <Input\r\n                                            id=\"conteudo\"\r\n                                            value={conteudoEntrega}\r\n                                            onChange={(e) => setConteudoEntrega(e.target.value)}\r\n                                            placeholder=\"https://...\"\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n\r\n                                {tipoEntrega === 'area_membros' && (\r\n                                    <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n                                        <p className=\"text-sm text-blue-800\">\r\n                                            ­ƒôÜ Um curso ser├í criado automaticamente para este produto.\r\n                                            Voc├¬ poder├í adicionar m├│dulos e aulas depois.\r\n                                        </p>\r\n                                    </div>\r\n                                )}\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n\r\n                    {/* Sidebar */}\r\n                    <div className=\"space-y-6\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Gateway de Pagamento</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <Select value={gateway} onValueChange={setGateway}>\r\n                                    <SelectTrigger>\r\n                                        <SelectValue />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                        <SelectItem value=\"mercadopago\">Mercado Pago</SelectItem>\r\n                                        <SelectItem value=\"pushinpay\">PushinPay</SelectItem>\r\n                                        <SelectItem value=\"efi\">Ef├¡ (Gerencianet)</SelectItem>\r\n                                        <SelectItem value=\"beehive\">Beehive</SelectItem>\r\n                                        <SelectItem value=\"hypercash\">Hypercash</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card>\r\n                            <CardContent className=\"pt-6\">\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    className=\"w-full\"\r\n                                    size=\"lg\"\r\n                                    disabled={isSubmitting}\r\n                                >\r\n                                    {isSubmitting ? (\r\n                                        <>\r\n                                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                            Criando...\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Package className=\"w-4 h-4 mr-2\" />\r\n                                            Criar Produto\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\products\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":48,"fix":{"range":[46,216],"text":"import { Button } from '@/components/ui/button'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":80,"fix":{"range":[46,297],"text":"import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":46,"fix":{"range":[342,342],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":46,"fix":{"range":[46,344],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":65,"fix":{"range":[0,410],"text":"import { Plus, Package, Edit, ExternalLink } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":29,"fix":{"range":[438,438],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `next-auth`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":29,"fix":{"range":[0,440],"text":"import Link from 'next/link'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Plus, Package, Edit, ExternalLink } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/dashboard/product-actions` import should occur before import of `@/lib/auth`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":72,"fix":{"range":[46,513],"text":"import { ProductActions } from '@/components/dashboard/product-actions'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Plus, Package, Edit, ExternalLink } from 'lucide-react'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":84,"column":48,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":84,"endColumn":57,"fix":{"range":[3487,3571],"text":"className=\"overflow-hidden hover:shadow-lg transition-shadow group\" key={produto.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":86,"column":78,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":86,"endColumn":87,"fix":{"range":[3686,3746],"text":"className=\"block\" href={`/dashboard/products/${produto.id}`}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":89,"column":41,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":43},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":91,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":91,"endColumn":48,"fix":{"range":[4063,4229],"text":"alt={produto.nome}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                            src={produto.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":92,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":92,"endColumn":54,"fix":{"range":[4063,4229],"text":"alt={produto.nome}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                            src={produto.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":108,"column":86,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":108,"endColumn":95,"fix":{"range":[5302,5363],"text":"className=\"flex-1\" href={`/dashboard/products/${produto.id}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":115,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":115,"endColumn":53,"fix":{"range":[5741,5841],"text":"checkoutHash={produto.checkout_hash}\r\n                                        productId={produto.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":63,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":67,"fix":{"range":[7302,7356],"text":"asChild className=\"flex-1\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":82,"fix":{"range":[7302,7356],"text":"asChild className=\"flex-1\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":138,"column":92,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":138,"endColumn":99,"fix":{"range":[7302,7356],"text":"asChild className=\"flex-1\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":144,"column":61,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":144,"endColumn":65,"fix":{"range":[7721,7754],"text":"asChild size=\"sm\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":144,"column":71,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":144,"endColumn":78,"fix":{"range":[7721,7754],"text":"asChild size=\"sm\" variant=\"ghost\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":23,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Plus, Package, Edit, ExternalLink } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { ProductActions } from '@/components/dashboard/product-actions'\r\n\r\nexport default async function ProductsPage() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Buscar produtos do infoprodutor\r\n    const produtos = await prisma.produtos.findMany({\r\n        where: { usuario_id: session.user.id },\r\n        orderBy: { data_criacao: 'desc' },\r\n        include: {\r\n            _count: {\r\n                select: { vendas: true }\r\n            }\r\n        }\r\n    })\r\n\r\n    const formatCurrency = (value: number) => {\r\n        return new Intl.NumberFormat('pt-BR', {\r\n            style: 'currency',\r\n            currency: 'BRL'\r\n        }).format(value)\r\n    }\r\n\r\n    const getDeliveryBadge = (tipo: string) => {\r\n        const types: Record<string, { label: string; variant: 'default' | 'secondary' | 'outline' }> = {\r\n            link: { label: 'Link', variant: 'outline' },\r\n            email_pdf: { label: 'Email/PDF', variant: 'secondary' },\r\n            area_membros: { label: '├ürea de Membros', variant: 'default' },\r\n            produto_fisico: { label: 'F├¡sico', variant: 'outline' }\r\n        }\r\n        const config = types[tipo] || { label: tipo, variant: 'outline' as const }\r\n        return <Badge variant={config.variant}>{config.label}</Badge>\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Produtos</h1>\r\n                    <p className=\"text-muted-foreground\">\r\n                        Gerencie seus produtos e p├íginas de checkout\r\n                    </p>\r\n                </div>\r\n                <Button asChild>\r\n                    <Link href=\"/dashboard/products/new\">\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Novo Produto\r\n                    </Link>\r\n                </Button>\r\n            </div>\r\n\r\n            {produtos.length === 0 ? (\r\n                <Card>\r\n                    <CardContent className=\"py-16 text-center\">\r\n                        <Package className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\r\n                        <h3 className=\"text-lg font-semibold mb-2\">Nenhum produto cadastrado</h3>\r\n                        <p className=\"text-muted-foreground mb-4\">\r\n                            Crie seu primeiro produto para come├ºar a vender\r\n                        </p>\r\n                        <Button asChild>\r\n                            <Link href=\"/dashboard/products/new\">\r\n                                <Plus className=\"w-4 h-4 mr-2\" />\r\n                                Criar Produto\r\n                            </Link>\r\n                        </Button>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n                    {produtos.map((produto) => (\r\n                        <Card key={produto.id} className=\"overflow-hidden hover:shadow-lg transition-shadow group\">\r\n                            {/* Imagem do produto - clic├ível para editar */}\r\n                            <Link href={`/dashboard/products/${produto.id}`} className=\"block\">\r\n                                <div className=\"aspect-video bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center relative overflow-hidden\">\r\n                                    {produto.foto ? (\r\n                                        <img\r\n                                            src={produto.foto}\r\n                                            alt={produto.nome}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                        />\r\n                                    ) : (\r\n                                        <Package className=\"w-12 h-12 text-primary/30\" />\r\n                                    )}\r\n                                    {/* Overlay de edi├º├úo no hover */}\r\n                                    <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\r\n                                        <div className=\"text-white flex items-center gap-2\">\r\n                                            <Edit className=\"w-5 h-5\" />\r\n                                            <span className=\"font-medium\">Editar</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                            <CardHeader className=\"pb-2\">\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <Link href={`/dashboard/products/${produto.id}`} className=\"flex-1\">\r\n                                        <CardTitle className=\"text-lg line-clamp-1 hover:text-primary transition-colors\">\r\n                                            {produto.nome}\r\n                                        </CardTitle>\r\n                                    </Link>\r\n                                    <ProductActions\r\n                                        productId={produto.id}\r\n                                        checkoutHash={produto.checkout_hash}\r\n                                    />\r\n                                </div>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-3\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <span className=\"text-2xl font-bold text-primary\">\r\n                                        {formatCurrency(Number(produto.preco))}\r\n                                    </span>\r\n                                    {produto.preco_anterior && (\r\n                                        <span className=\"text-sm text-muted-foreground line-through\">\r\n                                            {formatCurrency(Number(produto.preco_anterior))}\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex items-center justify-between text-sm\">\r\n                                    <span className=\"text-muted-foreground\">\r\n                                        {produto._count.vendas} vendas\r\n                                    </span>\r\n                                    {getDeliveryBadge(produto.tipo_entrega)}\r\n                                </div>\r\n                                {/* Bot├Áes de a├º├úo r├ípida */}\r\n                                <div className=\"flex gap-2 pt-2\">\r\n                                    <Button variant=\"outline\" size=\"sm\" className=\"flex-1\" asChild>\r\n                                        <Link href={`/dashboard/products/${produto.id}`}>\r\n                                            <Edit className=\"w-4 h-4 mr-2\" />\r\n                                            Editar\r\n                                        </Link>\r\n                                    </Button>\r\n                                    <Button variant=\"ghost\" size=\"sm\" asChild>\r\n                                        <Link href={`/checkout/${produto.checkout_hash}`} target=\"_blank\">\r\n                                            <ExternalLink className=\"w-4 h-4\" />\r\n                                        </Link>\r\n                                    </Button>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\sales\\[id]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/lib/db` import should occur after import of `date-fns/locale`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[0,438],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur after import of `date-fns/locale`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":46,"fix":{"range":[35,438],"text":"import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur after import of `date-fns/locale`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":97,"fix":{"range":[82,438],"text":"import { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":3,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":67},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[227,227],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `date-fns/locale`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[180,438],"text":"import { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur after import of `date-fns/locale`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":103,"fix":{"range":[229,438],"text":"import Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur after import of `date-fns/locale`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":29,"fix":{"range":[333,438],"text":"import { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":15,"column":77,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":15,"endColumn":86,"fix":{"range":[719,782],"text":"className=\"text-yellow-600 border-yellow-600\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":34,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":34,"endColumn":45,"fix":{"range":[1517,1552],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":34,"column":53,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":34,"endColumn":60,"fix":{"range":[1517,1552],"text":"asChild size=\"icon\" variant=\"ghost\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":10,"source":"import { prisma } from '@/lib/db'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, Mail, RefreshCcw, ShieldCheck, CreditCard, User, MapPin, Tag } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nfunction getStatusBadge(status: string) {\r\n    const s = status?.toLowerCase()\r\n    if (['paid', 'approved'].includes(s)) return <Badge className=\"bg-green-500\">Aprovado</Badge>\r\n    if (['pending', 'waiting'].includes(s)) return <Badge variant=\"outline\" className=\"text-yellow-600 border-yellow-600\">Pendente</Badge>\r\n    if (['rejected', 'cancelled', 'refused'].includes(s)) return <Badge variant=\"destructive\">Cancelado</Badge>\r\n    if (s === 'refunded') return <Badge variant=\"secondary\">Reembolsado</Badge>\r\n    return <Badge variant=\"secondary\">{status}</Badge>\r\n}\r\n\r\nexport default async function SaleDetailsPage({ params }: { params: { id: string } }) {\r\n    const sale = await prisma.vendas.findUnique({\r\n        where: { id: params.id },\r\n        include: { produtos: true }\r\n    })\r\n\r\n    if (!sale) {\r\n        return <div className=\"p-8\">Venda n├úo encontrada</div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6 max-w-5xl mx-auto\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                    <Link href=\"/dashboard/sales\">\r\n                        <ArrowLeft className=\"w-5 h-5\" />\r\n                    </Link>\r\n                </Button>\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold tracking-tight\">Detalhes da Venda</h2>\r\n                    <p className=\"text-muted-foreground flex items-center gap-2\">\r\n                        #{sale.id} ÔÇó {format(sale.data_venda, \"dd 'de' MMMM 'de' yyyy '├ás' HH:mm\", { locale: ptBR })}\r\n                    </p>\r\n                </div>\r\n                <div className=\"ml-auto flex items-center gap-2\">\r\n                    {getStatusBadge(sale.status_pagamento)}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-3\">\r\n\r\n                {/* Coluna Principal */}\r\n                <div className=\"md:col-span-2 space-y-6\">\r\n                    {/* Produtos */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <Tag className=\"w-5 h-5\" />\r\n                                Itens do Pedido\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"flex justify-between items-center py-4 border-b last:border-0\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"w-16 h-16 bg-muted rounded-md flex items-center justify-center text-2xl\">\r\n                                        ­ƒôª\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-medium\">{sale.produtos.nome}</p>\r\n                                        <p className=\"text-sm text-muted-foreground\">Gateway: {sale.produtos.gateway || 'Padr├úo'}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <p className=\"font-bold\">R$ {Number(sale.valor).toFixed(2)}</p>\r\n                                    <p className=\"text-xs text-muted-foreground\">Pagamento ├Ünico</p>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Dados do Cliente */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <User className=\"w-5 h-5\" />\r\n                                Dados do Cliente\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-muted-foreground\">Nome</p>\r\n                                    <p>{sale.comprador_nome}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-muted-foreground\">Email</p>\r\n                                    <p>{sale.comprador_email}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-muted-foreground\">CPF</p>\r\n                                    <p>{sale.comprador_cpf || 'N├úo informado'}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-muted-foreground\">Telefone</p>\r\n                                    <p>{sale.comprador_telefone || 'N├úo informado'}</p>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Rastreamento & Marketing */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <MapPin className=\"w-5 h-5\" />\r\n                                Origem (UTMs)\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"grid grid-cols-3 gap-4\">\r\n                                <div className=\"bg-muted/30 p-3 rounded-md\">\r\n                                    <p className=\"text-xs text-muted-foreground\">Source</p>\r\n                                    <p className=\"font-mono text-sm\">{sale.utm_source || '-'}</p>\r\n                                </div>\r\n                                <div className=\"bg-muted/30 p-3 rounded-md\">\r\n                                    <p className=\"text-xs text-muted-foreground\">Medium</p>\r\n                                    <p className=\"font-mono text-sm\">{sale.utm_medium || '-'}</p>\r\n                                </div>\r\n                                <div className=\"bg-muted/30 p-3 rounded-md\">\r\n                                    <p className=\"text-xs text-muted-foreground\">Campaign</p>\r\n                                    <p className=\"font-mono text-sm\">{sale.utm_campaign || '-'}</p>\r\n                                </div>\r\n                                <div className=\"bg-muted/30 p-3 rounded-md\">\r\n                                    <p className=\"text-xs text-muted-foreground\">SRC</p>\r\n                                    <p className=\"font-mono text-sm\">{sale.src || '-'}</p>\r\n                                </div>\r\n                                <div className=\"bg-muted/30 p-3 rounded-md\">\r\n                                    <p className=\"text-xs text-muted-foreground\">SCK</p>\r\n                                    <p className=\"font-mono text-sm\">{sale.sck || '-'}</p>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Coluna Lateral - A├º├Áes e Info da Transa├º├úo */}\r\n                <div className=\"space-y-6\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <CreditCard className=\"w-5 h-5\" />\r\n                                Transa├º├úo\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div>\r\n                                <p className=\"text-sm font-medium text-muted-foreground\">ID da Transa├º├úo</p>\r\n                                <p className=\"font-mono text-sm break-all\">{sale.transacao_id || 'Pendente'}</p>\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-sm font-medium text-muted-foreground\">Checkout Session UUID</p>\r\n                                <p className=\"font-mono text-xs break-all text-muted-foreground\">{sale.checkout_session_uuid || 'N/A'}</p>\r\n                                {/* nota: checkout_hash aqui pode estar errado no contexto se n├úo for o id da venda. ajustando */}\r\n                            </div>\r\n                            <div className=\"pt-4 border-t\">\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"text-sm\">Valor Bruto</span>\r\n                                    <span>R$ {Number(sale.valor).toFixed(2)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center text-muted-foreground mb-2\">\r\n                                    <span className=\"text-sm\">Taxas (Est.)</span>\r\n                                    <span className=\"text-red-400\">- R$ 0,00</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center font-bold text-lg pt-2 border-t\">\r\n                                    <span>L├¡quido</span>\r\n                                    <span className=\"text-green-600\">R$ {Number(sale.valor).toFixed(2)}</span>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <ShieldCheck className=\"w-5 h-5\" />\r\n                                A├º├Áes\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-3\">\r\n                            <Button className=\"w-full\" variant=\"outline\">\r\n                                <Mail className=\"w-4 h-4 mr-2\" />\r\n                                Reenviar Email de Acesso\r\n                            </Button>\r\n\r\n                            <Button className=\"w-full\" variant=\"secondary\">\r\n                                <RefreshCcw className=\"w-4 h-4 mr-2\" />\r\n                                Liberar Acesso Manualmente\r\n                            </Button>\r\n\r\n                            <Button className=\"w-full text-red-600 hover:text-red-700 hover:bg-red-50\" variant=\"ghost\">\r\n                                Reembolsar Venda\r\n                            </Button>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\sales\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/lib/db` import should occur after import of `date-fns/locale`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[0,519],"text":"import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/table` import should occur after import of `date-fns/locale`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":102,"fix":{"range":[35,519],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur after import of `date-fns/locale`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":46,"fix":{"range":[138,519],"text":"import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur after import of `date-fns/locale`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":80,"fix":{"range":[185,519],"text":"import { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":4,"column":41,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":50},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur after import of `date-fns/locale`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":46,"fix":{"range":[266,519],"text":"import { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[360,360],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `date-fns/locale`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[313,519],"text":"import { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur after import of `date-fns/locale`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":51,"fix":{"range":[362,519],"text":"import Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur after import of `date-fns/locale`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":29,"fix":{"range":[414,519],"text":"import { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":17,"column":77,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":17,"endColumn":86,"fix":{"range":[800,863],"text":"className=\"text-yellow-600 border-yellow-600\" variant=\"outline\""}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1350,1353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1350,1353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":69,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":69,"endColumn":42,"fix":{"range":[2784,2929],"text":"className=\"pl-9\"\r\n                                defaultValue={q}\r\n                                placeholder=\"Buscar por nome, email ou ID...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":70,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":70,"endColumn":45,"fix":{"range":[2784,2929],"text":"className=\"pl-9\"\r\n                                defaultValue={q}\r\n                                placeholder=\"Buscar por nome, email ou ID...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":71,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":71,"endColumn":37,"fix":{"range":[2784,2929],"text":"className=\"pl-9\"\r\n                                defaultValue={q}\r\n                                placeholder=\"Buscar por nome, email ou ID...\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":93,"column":60,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":93,"endColumn":69,"fix":{"range":[4117,4179],"text":"className=\"text-center py-8 text-muted-foreground\" colSpan={6}"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4422,4425],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4422,4425],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":113,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":113,"endColumn":69,"fix":{"range":[5538,5573],"text":"asChild size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":113,"column":77,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":113,"endColumn":84,"fix":{"range":[5538,5573],"text":"asChild size=\"icon\" variant=\"ghost\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":16,"source":"import { prisma } from '@/lib/db'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Eye } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nfunction getStatusBadge(status: string) {\r\n    const s = status?.toLowerCase()\r\n    if (['paid', 'approved'].includes(s)) return <Badge className=\"bg-green-500\">Aprovado</Badge>\r\n    if (['pending', 'waiting'].includes(s)) return <Badge variant=\"outline\" className=\"text-yellow-600 border-yellow-600\">Pendente</Badge>\r\n    if (['rejected', 'cancelled', 'refused'].includes(s)) return <Badge variant=\"destructive\">Cancelado</Badge>\r\n    if (s === 'refunded') return <Badge variant=\"secondary\">Reembolsado</Badge>\r\n    return <Badge variant=\"secondary\">{status}</Badge>\r\n}\r\n\r\nexport default async function SalesPage({ searchParams }: { searchParams: { q?: string, status?: string } }) {\r\n    const q = searchParams.q || ''\r\n    const status = searchParams.status || ''\r\n\r\n    const where: any = {}\r\n\r\n    if (status && status !== 'all') {\r\n        where.status_pagamento = status\r\n    }\r\n\r\n    if (q) {\r\n        where.OR = [\r\n            { comprador_email: { contains: q, mode: 'insensitive' } },\r\n            { comprador_nome: { contains: q, mode: 'insensitive' } },\r\n            { transacao_id: { contains: q } }\r\n        ]\r\n    }\r\n\r\n    const sales = await prisma.vendas.findMany({\r\n        where,\r\n        orderBy: { data_venda: 'desc' },\r\n        take: 50,\r\n        include: { produtos: true }\r\n    })\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <h2 className=\"text-3xl font-bold tracking-tight\">Vendas</h2>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Button variant=\"outline\">\r\n                        <Filter className=\"w-4 h-4 mr-2\" />\r\n                        Filtros\r\n                    </Button>\r\n                    <Button>Exportar CSV</Button>\r\n                </div>\r\n            </div>\r\n\r\n            <Card>\r\n                <CardHeader>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"relative flex-1 max-w-sm\">\r\n                            <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                            <Input\r\n                                placeholder=\"Buscar por nome, email ou ID...\"\r\n                                className=\"pl-9\"\r\n                                defaultValue={q}\r\n                                name=\"q\"\r\n                            // Nota: Para funcionar como filtro real, precisaria de um Client Component wrapper ou form GET\r\n                            // Estamos simplificando aqui. O ideal seria um form method=\"get\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <TableRow>\r\n                                <TableHead>Data</TableHead>\r\n                                <TableHead>Cliente</TableHead>\r\n                                <TableHead>Produto</TableHead>\r\n                                <TableHead>Valor</TableHead>\r\n                                <TableHead>Status</TableHead>\r\n                                <TableHead className=\"text-right\">A├º├Áes</TableHead>\r\n                            </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                            {sales.length === 0 && (\r\n                                <TableRow>\r\n                                    <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\r\n                                        Nenhuma venda encontrada.\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            )}\r\n                            {sales.map((sale: any) => (\r\n                                <TableRow key={sale.id}>\r\n                                    <TableCell>\r\n                                        {format(sale.data_venda, 'dd/MM/yyyy HH:mm', { locale: ptBR })}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex flex-col\">\r\n                                            <span className=\"font-medium\">{sale.comprador_nome}</span>\r\n                                            <span className=\"text-xs text-muted-foreground\">{sale.comprador_email}</span>\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell>{sale.produtos.nome}</TableCell>\r\n                                    <TableCell>R$ {Number(sale.valor).toFixed(2)}</TableCell>\r\n                                    <TableCell>{getStatusBadge(sale.status_pagamento)}</TableCell>\r\n                                    <TableCell className=\"text-right\">\r\n                                        <Button variant=\"ghost\" size=\"icon\" asChild>\r\n                                            <Link href={`/dashboard/sales/${sale.id}`}>\r\n                                                <Eye className=\"w-4 h-4\" />\r\n                                            </Link>\r\n                                        </Button>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\settings\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":45,"fix":{"range":[105,105],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":45,"fix":{"range":[16,107],"text":"import { useSession } from 'next-auth/react'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[107,254],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":54,"fix":{"range":[482,482],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/separator` import should occur before import of `@/components/ui/tabs`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":54,"fix":{"range":[348,484],"text":"import { Separator } from '@/components/ui/separator'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":97,"fix":{"range":[580,580],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":97,"fix":{"range":[16,582],"text":"import { User, CreditCard, Shield, Loader2, Save, CheckCircle, AlertCircle } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useSession } from 'next-auth/react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/alert` import should occur before import of `@/components/ui/card`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":64,"fix":{"range":[107,647],"text":"import { Alert, AlertDescription } from '@/components/ui/alert'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { User, CreditCard, Shield, Loader2, Save, CheckCircle, AlertCircle } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2915,2918],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2915,2918],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4015,4018],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4015,4018],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":145,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5147,5150],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5147,5150],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":161,"column":42,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":161,"endColumn":51,"fix":{"range":[5625,5669],"text":"className=\"space-y-6\" defaultValue=\"profile\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":163,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":163,"endColumn":59,"fix":{"range":[5733,5766],"text":"className=\"gap-2\" value=\"profile\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":167,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":167,"endColumn":60,"fix":{"range":[5924,5958],"text":"className=\"gap-2\" value=\"gateways\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":171,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":171,"endColumn":60,"fix":{"range":[6124,6158],"text":"className=\"gap-2\" value=\"security\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":206,"column":41,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":206,"endColumn":49,"fix":{"range":[7827,8079],"text":"disabled\r\n                                        className=\"bg-muted\"\r\n                                        id=\"email\"\r\n                                        type=\"email\"\r\n                                        value={session?.user?.email || ''}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":207,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":207,"endColumn":50,"fix":{"range":[7827,8079],"text":"disabled\r\n                                        className=\"bg-muted\"\r\n                                        id=\"email\"\r\n                                        type=\"email\"\r\n                                        value={session?.user?.email || ''}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":215,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":215,"endColumn":49,"fix":{"range":[8378,8597],"text":"id=\"nome\"\r\n                                        placeholder=\"Seu nome completo\"\r\n                                        value={nome}\r\n                                        onChange={(e) => setNome(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":224,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":224,"endColumn":49,"fix":{"range":[8904,9133],"text":"id=\"telefone\"\r\n                                        placeholder=\"(00) 00000-0000\"\r\n                                        value={telefone}\r\n                                        onChange={(e) => setTelefone(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":231,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":231,"endColumn":48,"fix":{"range":[9398,9452],"text":"disabled={isSavingProfile} onClick={handleSaveProfile}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":283,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":283,"endColumn":53,"fix":{"range":[12150,12398],"text":"id=\"mp_public_key\"\r\n                                            placeholder=\"APP_USR-...\"\r\n                                            value={mpPublicKey}\r\n                                            onChange={(e) => setMpPublicKey(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":293,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":293,"endColumn":53,"fix":{"range":[12740,13055],"text":"id=\"mp_access_token\"\r\n                                            placeholder=\"APP_USR-...\"\r\n                                            type=\"password\"\r\n                                            value={mpAccessToken}\r\n                                            onChange={(e) => setMpAccessToken(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":306,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":306,"endColumn":48,"fix":{"range":[13576,13630],"text":"disabled={isSavingGateway} onClick={handleSaveGateway}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":376,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":376,"endColumn":40,"fix":{"range":[17455,17582],"text":"disabled={isSavingPassword || !currentPassword || !newPassword}\r\n                                onClick={handleChangePassword}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":21,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useSession } from 'next-auth/react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { User, CreditCard, Shield, Loader2, Save, CheckCircle, AlertCircle } from 'lucide-react'\r\nimport { Alert, AlertDescription } from '@/components/ui/alert'\r\n\r\nexport default function SettingsPage() {\r\n    const { data: session } = useSession()\r\n\r\n    // Profile state\r\n    const [nome, setNome] = useState('')\r\n    const [telefone, setTelefone] = useState('')\r\n    const [isSavingProfile, setIsSavingProfile] = useState(false)\r\n    const [profileSuccess, setProfileSuccess] = useState(false)\r\n    const [profileError, setProfileError] = useState('')\r\n\r\n    // Gateway state\r\n    const [mpPublicKey, setMpPublicKey] = useState('')\r\n    const [mpAccessToken, setMpAccessToken] = useState('')\r\n    const [isSavingGateway, setIsSavingGateway] = useState(false)\r\n    const [gatewaySuccess, setGatewaySuccess] = useState(false)\r\n    const [gatewayError, setGatewayError] = useState('')\r\n\r\n    // Password state\r\n    const [currentPassword, setCurrentPassword] = useState('')\r\n    const [newPassword, setNewPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [isSavingPassword, setIsSavingPassword] = useState(false)\r\n    const [passwordSuccess, setPasswordSuccess] = useState(false)\r\n    const [passwordError, setPasswordError] = useState('')\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    async function fetchProfile() {\r\n        try {\r\n            const res = await fetch('/api/user/profile')\r\n            const data = await res.json()\r\n            if (res.ok) {\r\n                setNome(data.profile.nome || '')\r\n                setTelefone(data.profile.telefone || '')\r\n            }\r\n        } catch (err) {\r\n            console.error('Erro ao carregar perfil:', err)\r\n        }\r\n    }\r\n\r\n    async function handleSaveProfile() {\r\n        setIsSavingProfile(true)\r\n        setProfileError('')\r\n        setProfileSuccess(false)\r\n\r\n        try {\r\n            const res = await fetch('/api/user/profile', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ nome, telefone })\r\n            })\r\n\r\n            if (!res.ok) {\r\n                const data = await res.json()\r\n                throw new Error(data.error || 'Erro ao salvar')\r\n            }\r\n\r\n            setProfileSuccess(true)\r\n            setTimeout(() => setProfileSuccess(false), 3000)\r\n        } catch (err: any) {\r\n            setProfileError(err.message)\r\n        } finally {\r\n            setIsSavingProfile(false)\r\n        }\r\n    }\r\n\r\n    async function handleSaveGateway() {\r\n        setIsSavingGateway(true)\r\n        setGatewayError('')\r\n        setGatewaySuccess(false)\r\n\r\n        try {\r\n            const res = await fetch('/api/user/gateways', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    gateway: 'mercadopago',\r\n                    credentials: {\r\n                        public_key: mpPublicKey || undefined,\r\n                        access_token: mpAccessToken || undefined\r\n                    }\r\n                })\r\n            })\r\n\r\n            if (!res.ok) {\r\n                const data = await res.json()\r\n                throw new Error(data.error || 'Erro ao salvar')\r\n            }\r\n\r\n            setGatewaySuccess(true)\r\n            setMpPublicKey('')\r\n            setMpAccessToken('')\r\n            setTimeout(() => setGatewaySuccess(false), 3000)\r\n        } catch (err: any) {\r\n            setGatewayError(err.message)\r\n        } finally {\r\n            setIsSavingGateway(false)\r\n        }\r\n    }\r\n\r\n    async function handleChangePassword() {\r\n        setIsSavingPassword(true)\r\n        setPasswordError('')\r\n        setPasswordSuccess(false)\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            setPasswordError('As senhas n├úo coincidem')\r\n            setIsSavingPassword(false)\r\n            return\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/user/change-password', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ currentPassword, newPassword, confirmPassword })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Erro ao alterar senha')\r\n            }\r\n\r\n            setPasswordSuccess(true)\r\n            setCurrentPassword('')\r\n            setNewPassword('')\r\n            setConfirmPassword('')\r\n            setTimeout(() => setPasswordSuccess(false), 3000)\r\n        } catch (err: any) {\r\n            setPasswordError(err.message)\r\n        } finally {\r\n            setIsSavingPassword(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <h1 className=\"text-3xl font-bold tracking-tight\">Configura├º├Áes</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Gerencie suas prefer├¬ncias e configura├º├Áes da conta\r\n                </p>\r\n            </div>\r\n\r\n            <Tabs defaultValue=\"profile\" className=\"space-y-6\">\r\n                <TabsList>\r\n                    <TabsTrigger value=\"profile\" className=\"gap-2\">\r\n                        <User className=\"w-4 h-4\" />\r\n                        Perfil\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"gateways\" className=\"gap-2\">\r\n                        <CreditCard className=\"w-4 h-4\" />\r\n                        Gateways\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"security\" className=\"gap-2\">\r\n                        <Shield className=\"w-4 h-4\" />\r\n                        Seguran├ºa\r\n                    </TabsTrigger>\r\n                </TabsList>\r\n\r\n                {/* Perfil */}\r\n                <TabsContent value=\"profile\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Informa├º├Áes do Perfil</CardTitle>\r\n                            <CardDescription>\r\n                                Atualize suas informa├º├Áes pessoais\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-6\">\r\n                            {profileError && (\r\n                                <Alert variant=\"destructive\">\r\n                                    <AlertCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>{profileError}</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n                            {profileSuccess && (\r\n                                <Alert className=\"border-green-500 text-green-600\">\r\n                                    <CheckCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>Perfil atualizado com sucesso!</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n                            <div className=\"grid gap-4 md:grid-cols-2\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"email\">Email</Label>\r\n                                    <Input\r\n                                        id=\"email\"\r\n                                        type=\"email\"\r\n                                        value={session?.user?.email || ''}\r\n                                        disabled\r\n                                        className=\"bg-muted\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"nome\">Nome</Label>\r\n                                    <Input\r\n                                        id=\"nome\"\r\n                                        value={nome}\r\n                                        onChange={(e) => setNome(e.target.value)}\r\n                                        placeholder=\"Seu nome completo\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"telefone\">Telefone</Label>\r\n                                    <Input\r\n                                        id=\"telefone\"\r\n                                        value={telefone}\r\n                                        onChange={(e) => setTelefone(e.target.value)}\r\n                                        placeholder=\"(00) 00000-0000\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <Separator />\r\n                            <div className=\"flex justify-end\">\r\n                                <Button onClick={handleSaveProfile} disabled={isSavingProfile}>\r\n                                    {isSavingProfile ? (\r\n                                        <>\r\n                                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                            Salvando...\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Save className=\"w-4 h-4 mr-2\" />\r\n                                            Salvar Altera├º├Áes\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                {/* Gateways de Pagamento */}\r\n                <TabsContent value=\"gateways\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Gateways de Pagamento</CardTitle>\r\n                            <CardDescription>\r\n                                Configure suas credenciais dos gateways de pagamento\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-6\">\r\n                            {gatewayError && (\r\n                                <Alert variant=\"destructive\">\r\n                                    <AlertCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>{gatewayError}</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n                            {gatewaySuccess && (\r\n                                <Alert className=\"border-green-500 text-green-600\">\r\n                                    <CheckCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>Credenciais atualizadas!</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n\r\n                            {/* Mercado Pago */}\r\n                            <div className=\"space-y-4\">\r\n                                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                                    <span className=\"text-2xl\">­ƒÆ│</span> Mercado Pago\r\n                                </h3>\r\n                                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"mp_public_key\">Public Key</Label>\r\n                                        <Input\r\n                                            id=\"mp_public_key\"\r\n                                            value={mpPublicKey}\r\n                                            onChange={(e) => setMpPublicKey(e.target.value)}\r\n                                            placeholder=\"APP_USR-...\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"mp_access_token\">Access Token</Label>\r\n                                        <Input\r\n                                            id=\"mp_access_token\"\r\n                                            type=\"password\"\r\n                                            value={mpAccessToken}\r\n                                            onChange={(e) => setMpAccessToken(e.target.value)}\r\n                                            placeholder=\"APP_USR-...\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <p className=\"text-xs text-muted-foreground\">\r\n                                    Deixe em branco para manter as credenciais atuais\r\n                                </p>\r\n                            </div>\r\n\r\n                            <Separator />\r\n\r\n                            <div className=\"flex justify-end\">\r\n                                <Button onClick={handleSaveGateway} disabled={isSavingGateway}>\r\n                                    {isSavingGateway ? (\r\n                                        <>\r\n                                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                            Salvando...\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Save className=\"w-4 h-4 mr-2\" />\r\n                                            Salvar Gateways\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                {/* Seguran├ºa */}\r\n                <TabsContent value=\"security\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Alterar Senha</CardTitle>\r\n                            <CardDescription>\r\n                                Atualize sua senha de acesso\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-6\">\r\n                            {passwordError && (\r\n                                <Alert variant=\"destructive\">\r\n                                    <AlertCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>{passwordError}</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n                            {passwordSuccess && (\r\n                                <Alert className=\"border-green-500 text-green-600\">\r\n                                    <CheckCircle className=\"h-4 w-4\" />\r\n                                    <AlertDescription>Senha alterada com sucesso!</AlertDescription>\r\n                                </Alert>\r\n                            )}\r\n                            <div className=\"grid gap-4 max-w-md\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"currentPassword\">Senha Atual</Label>\r\n                                    <Input\r\n                                        id=\"currentPassword\"\r\n                                        type=\"password\"\r\n                                        value={currentPassword}\r\n                                        onChange={(e) => setCurrentPassword(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"newPassword\">Nova Senha</Label>\r\n                                    <Input\r\n                                        id=\"newPassword\"\r\n                                        type=\"password\"\r\n                                        value={newPassword}\r\n                                        onChange={(e) => setNewPassword(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"confirmPassword\">Confirmar Nova Senha</Label>\r\n                                    <Input\r\n                                        id=\"confirmPassword\"\r\n                                        type=\"password\"\r\n                                        value={confirmPassword}\r\n                                        onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <Button\r\n                                onClick={handleChangePassword}\r\n                                disabled={isSavingPassword || !currentPassword || !newPassword}\r\n                            >\r\n                                {isSavingPassword ? (\r\n                                    <>\r\n                                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                        Alterando...\r\n                                    </>\r\n                                ) : (\r\n                                    'Alterar Senha'\r\n                                )}\r\n                            </Button>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\sites\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\students\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":80,"fix":{"range":[46,248],"text":"import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[293,293],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[46,295],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":62,"fix":{"range":[0,358],"text":"import { Users, Mail, Calendar, Package } from 'lucide-react'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`date-fns` import should occur before import of `next-auth`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":34,"fix":{"range":[0,393],"text":"import { format } from 'date-fns'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Users, Mail, Calendar, Package } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`date-fns/locale` import should occur before import of `next-auth`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":39,"fix":{"range":[0,433],"text":"import { ptBR } from 'date-fns/locale'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Users, Mail, Calendar, Package } from 'lucide-react'\r\nimport { format } from 'date-fns'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'index' is defined but never used. Allowed unused args must match /^_/u.","line":112,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":112,"endColumn":54},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":115,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":115,"endColumn":46,"fix":{"range":[4838,4996],"text":"className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                    key={aluno.email}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":80,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":89,"fix":{"range":[6741,6788],"text":"className=\"text-xs\" key={i} variant=\"secondary\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":12,"source":"import { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\nimport { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Users, Mail, Calendar, Package } from 'lucide-react'\r\nimport { format } from 'date-fns'\r\nimport { ptBR } from 'date-fns/locale'\r\n\r\nexport default async function StudentsPage() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    // Buscar produtos do infoprodutor\r\n    const produtos = await prisma.produtos.findMany({\r\n        where: { usuario_id: session.user.id },\r\n        select: { id: true, nome: true }\r\n    })\r\n\r\n    const produtoIds = produtos.map(p => p.id)\r\n\r\n    // Buscar alunos com acesso aos produtos deste infoprodutor\r\n    const acessos = await prisma.alunos_acessos.findMany({\r\n        where: { produto_id: { in: produtoIds } },\r\n        include: {\r\n            produtos: { select: { id: true, nome: true } }\r\n        },\r\n        orderBy: { data_acesso: 'desc' }\r\n    })\r\n\r\n    // Agrupar por email para mostrar alunos ├║nicos com seus produtos\r\n    const alunosMap = new Map<string, { email: string; produtos: string[]; dataAcesso: Date }>()\r\n\r\n    acessos.forEach(acesso => {\r\n        const existing = alunosMap.get(acesso.email_aluno)\r\n        if (existing) {\r\n            existing.produtos.push(acesso.produtos.nome)\r\n        } else {\r\n            alunosMap.set(acesso.email_aluno, {\r\n                email: acesso.email_aluno,\r\n                produtos: [acesso.produtos.nome],\r\n                dataAcesso: acesso.data_acesso\r\n            })\r\n        }\r\n    })\r\n\r\n    const alunos = Array.from(alunosMap.values())\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <h1 className=\"text-3xl font-bold tracking-tight\">Alunos</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Gerencie os alunos com acesso aos seus produtos\r\n                </p>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total de Alunos</CardTitle>\r\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{alunos.length}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Acessos Totais</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{acessos.length}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Produtos com Alunos</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">\r\n                            {new Set(acessos.map(a => a.produto_id)).size}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {alunos.length === 0 ? (\r\n                <Card>\r\n                    <CardContent className=\"py-16 text-center\">\r\n                        <Users className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\r\n                        <h3 className=\"text-lg font-semibold mb-2\">Nenhum aluno ainda</h3>\r\n                        <p className=\"text-muted-foreground\">\r\n                            Quando suas vendas forem aprovadas, os alunos aparecer├úo aqui\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle>Lista de Alunos</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"space-y-4\">\r\n                            {alunos.map((aluno, index) => (\r\n                                <div\r\n                                    key={aluno.email}\r\n                                    className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                                >\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                                            <span className=\"text-sm font-semibold text-primary\">\r\n                                                {aluno.email.charAt(0).toUpperCase()}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <Mail className=\"w-4 h-4 text-muted-foreground\" />\r\n                                                <span className=\"font-medium\">{aluno.email}</span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                                                <Calendar className=\"w-3 h-3\" />\r\n                                                <span>\r\n                                                    Acesso em {format(aluno.dataAcesso, \"dd 'de' MMMM 'de' yyyy\", { locale: ptBR })}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-wrap gap-2 max-w-[300px] justify-end\">\r\n                                        {aluno.produtos.map((produto, i) => (\r\n                                            <Badge key={i} variant=\"secondary\" className=\"text-xs\">\r\n                                                {produto}\r\n                                            </Badge>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\dashboard\\subscribe\\[planId]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":45,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":41,"fix":{"range":[86,86],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[130,130],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,132],"text":"import { redirect } from \"next/navigation\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/saas/subscribe-form` import should occur before import of `@/lib/auth`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":65,"fix":{"range":[46,233],"text":"import { SubscribeForm } from \"@/components/saas/subscribe-form\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":97,"fix":{"range":[329,329],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":97,"fix":{"range":[46,331],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\nimport { SubscribeForm } from \"@/components/saas/subscribe-form\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next-auth`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":37,"fix":{"range":[0,369],"text":"import { Check } from \"lucide-react\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\nimport { SubscribeForm } from \"@/components/saas/subscribe-form\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":24,"column":36,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":24,"endColumn":45,"fix":{"range":[956,1025],"text":"className=\"text-[#D4AF37] hover:underline mt-4 block\" href=\"/pricing\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":73,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":73,"endColumn":39,"fix":{"range":[3493,3682],"text":"isFree={plano.is_free}\r\n                                planId={plano.id}\r\n                                planName={plano.nome}\r\n                                price={Number(plano.preco)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":10,"source":"import { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { redirect } from \"next/navigation\"\r\nimport { prisma } from \"@/lib/db\"\r\nimport { SubscribeForm } from \"@/components/saas/subscribe-form\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nexport default async function SubscribePage({ params }: { params: { planId: string } }) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        redirect(`/login?callbackUrl=/dashboard/subscribe/${params.planId}`)\r\n    }\r\n\r\n    const plano = await prisma.saas_planos.findUnique({\r\n        where: { id: params.planId }\r\n    })\r\n\r\n    if (!plano || !plano.ativo) {\r\n        return (\r\n            <div className=\"p-8 text-center\">\r\n                <h1 className=\"text-2xl font-bold text-red-500\">Plano n├úo encontrado ou inativo.</h1>\r\n                <a href=\"/pricing\" className=\"text-[#D4AF37] hover:underline mt-4 block\">Voltar para Planos</a>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto max-w-4xl py-12 px-4\">\r\n            <h1 className=\"text-3xl font-bold mb-8 text-gradient-gold\">Finalizar Assinatura</h1>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-8\">\r\n                {/* Resumo do Plano */}\r\n                <Card className=\"bg-zinc-900 border-zinc-800 h-fit\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-xl text-white\">{plano.nome}</CardTitle>\r\n                        <CardDescription>{plano.descricao}</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-4\">\r\n                        <div className=\"text-3xl font-bold text-[#D4AF37]\">\r\n                            {plano.is_free ? 'Gr├ítis' : `R$ ${Number(plano.preco).toFixed(2)}`}\r\n                            <span className=\"text-sm font-normal text-muted-foreground ml-1\">\r\n                                /{plano.periodo === 'mensal' ? 'm├¬s' : 'ano'}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2 pt-4 border-t border-zinc-800\">\r\n                            <div className=\"flex items-center gap-2 text-sm text-zinc-300\">\r\n                                <Check className=\"w-4 h-4 text-green-500\" />\r\n                                {plano.max_produtos ? `${plano.max_produtos} produtos` : 'Produtos Ilimitados'}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 text-sm text-zinc-300\">\r\n                                <Check className=\"w-4 h-4 text-green-500\" />\r\n                                {plano.max_pedidos_mes ? `${plano.max_pedidos_mes} vendas/m├¬s` : 'Vendas Ilimitadas'}\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Formul├írio de Pagamento */}\r\n                <div>\r\n                    <Card className=\"bg-zinc-900 border-zinc-800\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-xl text-white\">Pagamento</CardTitle>\r\n                            <CardDescription>Escolha como deseja pagar.</CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <SubscribeForm\r\n                                planId={plano.id}\r\n                                planName={plano.nome}\r\n                                price={Number(plano.preco)}\r\n                                isFree={plano.is_free}\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":54,"fix":{"range":[101,101],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/sonner` import should occur after import of `@/components/system-banner`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":49,"fix":{"range":[127,288],"text":"import { Providers } from '@/components/providers'\r\nimport { SystemBanner } from '@/components/system-banner'\r\nimport { Toaster } from '@/components/ui/sonner'\r\n"}},{"ruleId":"prefer-const","severity":1,"message":"'bannerSettings' is never reassigned. Use 'const' instead.","line":62,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":62,"endColumn":23,"fix":{"range":[1761,1875],"text":"const bannerSettings = {\r\n        banner_active: 'false',\r\n        banner_text: '',\r\n        banner_color: ''\r\n    }"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":69,"column":28,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":69,"endColumn":52,"fix":{"range":[1907,1944],"text":"suppressHydrationWarning lang=\"pt-BR\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":71,"column":34,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":71,"endColumn":38,"fix":{"range":[1989,2031],"text":"href=\"/favicon.ico\" rel=\"icon\" sizes=\"any\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":72,"column":46,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":72,"endColumn":50,"fix":{"range":[2058,2109],"text":"href=\"/apple-touch-icon.png\" rel=\"apple-touch-icon\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":73,"column":38,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":73,"endColumn":42,"fix":{"range":[2136,2172],"text":"href=\"/manifest.json\" rel=\"manifest\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":30,"fix":{"range":[2383,2551],"text":"active={bannerSettings.banner_active === 'true'}\r\n                        color={bannerSettings.banner_color}\r\n                        text={bannerSettings.banner_text}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":83,"column":51,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":83,"endColumn":61,"fix":{"range":[2638,2681],"text":"closeButton richColors position=\"top-right\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":83,"column":62,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":83,"endColumn":73,"fix":{"range":[2638,2681],"text":"closeButton richColors position=\"top-right\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":10,"source":"import type { Metadata, Viewport } from 'next'\r\nimport { Inter, Roboto_Mono } from 'next/font/google'\r\nimport './globals.css'\r\nimport { Toaster } from '@/components/ui/sonner'\r\nimport { Providers } from '@/components/providers'\r\nimport { SystemBanner } from '@/components/system-banner'\r\n\r\nconst inter = Inter({\r\n    subsets: ['latin'],\r\n    variable: '--font-inter',\r\n    display: 'swap',\r\n})\r\n\r\nconst robotoMono = Roboto_Mono({\r\n    subsets: ['latin'],\r\n    variable: '--font-roboto-mono',\r\n    display: 'swap',\r\n})\r\n\r\nexport const metadata: Metadata = {\r\n    title: {\r\n        default: 'AgentiVerso',\r\n        template: '%s | AgentiVerso',\r\n    },\r\n    description: 'O Universo dos Agentes de IA e Infoprodutos',\r\n    keywords: ['IA', 'agentes', 'automa├º├úo', 'checkout', 'vendas', 'infoprodutos', '├írea de membros'],\r\n    authors: [{ name: 'AgentiVerso' }],\r\n    creator: 'AgentiVerso',\r\n    metadataBase: new URL(process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'),\r\n    openGraph: {\r\n        type: 'website',\r\n        locale: 'pt_BR',\r\n        siteName: 'AgentiVerso',\r\n    },\r\n    robots: {\r\n        index: true,\r\n        follow: true,\r\n    },\r\n    icons: {\r\n        icon: '/favicon.ico',\r\n        apple: '/apple-touch-icon.png',\r\n    },\r\n    manifest: '/manifest.json',\r\n}\r\n\r\nexport const viewport: Viewport = {\r\n    width: 'device-width',\r\n    initialScale: 1,\r\n    maximumScale: 1,\r\n    themeColor: [\r\n        { media: '(prefers-color-scheme: light)', color: '#D4AF37' },\r\n        { media: '(prefers-color-scheme: dark)', color: '#050505' },\r\n    ],\r\n}\r\n\r\nexport default async function RootLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode\r\n}) {\r\n    // Buscar configura├º├Áes de banner (Comentado para evitar erro 500 no Prisma)\r\n    let bannerSettings = {\r\n        banner_active: 'false',\r\n        banner_text: '',\r\n        banner_color: ''\r\n    }\r\n\r\n    return (\r\n        <html lang=\"pt-BR\" suppressHydrationWarning>\r\n            <head>\r\n                <link rel=\"icon\" href=\"/favicon.ico\" sizes=\"any\" />\r\n                <link rel=\"apple-touch-icon\" href=\"/apple-touch-icon.png\" />\r\n                <link rel=\"manifest\" href=\"/manifest.json\" />\r\n            </head>\r\n            <body className={`${inter.variable} ${robotoMono.variable} font-sans antialiased`}>\r\n                <Providers>\r\n                    <SystemBanner\r\n                        active={bannerSettings.banner_active === 'true'}\r\n                        text={bannerSettings.banner_text}\r\n                        color={bannerSettings.banner_color}\r\n                    />\r\n                    {children}\r\n                    <Toaster position=\"top-right\" richColors closeButton />\r\n                </Providers>\r\n            </body>\r\n        </html>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\login\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[121,121],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[16,123],"text":"import { useRouter, useSearchParams } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[217,217],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":53,"fix":{"range":[271,271],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `react`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":53,"fix":{"range":[16,273],"text":"import { signIn, useSession } from 'next-auth/react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/components/ui/input`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":109,"fix":{"range":[172,383],"text":"import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signIn, useSession } from 'next-auth/react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":46,"fix":{"range":[428,428],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":54,"fix":{"range":[16,485],"text":"import { Loader2, Bot, Sparkles } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signIn, useSession } from 'next-auth/react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":29,"fix":{"range":[16,515],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signIn, useSession } from 'next-auth/react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Loader2, Bot, Sparkles } from 'lucide-react'\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":27,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":27,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1110,1182],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'redirectByUserType' is defined but never used.","line":38,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":32},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":87,"column":17,"nodeType":"MemberExpression","messageId":"unexpected","endLine":87,"endColumn":28,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3071,3112],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4067,4070],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4067,4070],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":151,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":151,"endColumn":44,"fix":{"range":[5903,6185],"text":"required\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":153,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":153,"endColumn":41,"fix":{"range":[5903,6185],"text":"required\r\n                                id=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":160,"column":68,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":160,"endColumn":77,"fix":{"range":[6496,6573],"text":"className=\"text-sm text-primary hover:underline\" href=\"/auth/forgot-password\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":168,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":168,"endColumn":41,"fix":{"range":[6776,7009],"text":"required\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":174,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":174,"endColumn":74,"fix":{"range":[7177,7230],"text":"className=\"w-full\" disabled={isLoading} type=\"submit\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":14,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signIn, useSession } from 'next-auth/react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Loader2, Bot, Sparkles } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n    const { data: session, status } = useSession()\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const callbackUrl = searchParams.get('callbackUrl')\r\n\r\n    // Se j├í est├í logado ao carregar a p├ígina, redirecionar baseado no tipo\r\n    useEffect(() => {\r\n        if (status === 'authenticated' && session?.user) {\r\n            console.log('useEffect detected authenticated user:', session.user.type)\r\n            if (callbackUrl) {\r\n                window.location.href = callbackUrl\r\n            } else if (session.user.type === 'admin') {\r\n                window.location.href = '/admin'\r\n            } else {\r\n                window.location.href = '/dashboard'\r\n            }\r\n        }\r\n    }, [status, session, callbackUrl])\r\n\r\n    function redirectByUserType(userType: string) {\r\n        if (callbackUrl) {\r\n            router.push(callbackUrl)\r\n            return\r\n        }\r\n\r\n        switch (userType) {\r\n            case 'admin':\r\n                router.push('/admin')\r\n                break\r\n            case 'infoprodutor':\r\n                router.push('/dashboard')\r\n                break\r\n            default:\r\n                router.push('/dashboard')\r\n        }\r\n    }\r\n\r\n    async function handleSubmit(e: React.FormEvent) {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        setError('')\r\n\r\n        try {\r\n            // 1. Tentar login como Admin/Infoprodutor (NextAuth)\r\n            const resNextAuth = await signIn('credentials', {\r\n                redirect: false,\r\n                email,\r\n                password,\r\n            })\r\n\r\n            if (resNextAuth?.ok) {\r\n                if (callbackUrl) {\r\n                    window.location.href = callbackUrl\r\n                    return\r\n                }\r\n\r\n                // Pequeno delay para garantir que o JWT foi processado\r\n                await new Promise(resolve => setTimeout(resolve, 500))\r\n\r\n                // Buscar dados da sess├úo para verificar tipo do usu├írio\r\n                const sessionRes = await fetch('/api/auth/session', {\r\n                    cache: 'no-store',\r\n                    headers: {\r\n                        'Cache-Control': 'no-cache'\r\n                    }\r\n                })\r\n                const sessionData = await sessionRes.json()\r\n\r\n                console.log('Session data:', sessionData) // Debug\r\n\r\n                // Redirecionar baseado no tipo\r\n                if (sessionData?.user?.type === 'admin') {\r\n                    window.location.href = '/admin'\r\n                } else {\r\n                    window.location.href = '/dashboard'\r\n                }\r\n                return\r\n            }\r\n\r\n            // 2. Se falhar, tentar login como Membro (Custom API)\r\n            const res = await fetch('/api/auth/member/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email, password })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                // Se ambos falharem, assume erro de credenciais\r\n                throw new Error('Credenciais inv├ílidas')\r\n            }\r\n\r\n            // Redirecionar Membro\r\n            router.push(data.redirect || '/members')\r\n\r\n        } catch (err: any) {\r\n            console.error(err)\r\n            setError(err.message || 'Erro ao fazer login')\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n            <Card className=\"w-full max-w-md glass-card border-gold-glow\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"flex justify-center mb-6\">\r\n                        <div className=\"relative h-16 w-16 rounded-2xl bg-gradient-to-br from-[#D4AF37] to-[#F6D764] flex items-center justify-center shadow-lg shadow-[#D4AF37]/20\">\r\n                            <Bot className=\"h-8 w-8 text-black\" />\r\n                            <Sparkles className=\"absolute -top-2 -right-2 h-5 w-5 text-[#F6D764] animate-pulse\" />\r\n                        </div>\r\n                    </div>\r\n                    <CardTitle className=\"text-3xl font-bold tracking-tight\">\r\n                        <span className=\"text-gradient-gold\">AgentiVerso</span>\r\n                    </CardTitle>\r\n                    <CardDescription className=\"text-muted-foreground/80\">\r\n                        Acesse o universo da intelig├¬ncia\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <form onSubmit={handleSubmit}>\r\n                    <CardContent className=\"space-y-4\">\r\n                        {error && (\r\n                            <div className=\"p-3 text-sm text-red-500 bg-red-50 rounded-md border border-red-200 text-center\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"email\">Email</Label>\r\n                            <Input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"seu@email.com\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <Label htmlFor=\"password\">Senha</Label>\r\n                                <Link href=\"/auth/forgot-password\" className=\"text-sm text-primary hover:underline\">\r\n                                    Esqueceu a senha?\r\n                                </Link>\r\n                            </div>\r\n                            <Input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardFooter>\r\n                        <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\r\n                            {isLoading ? (\r\n                                <>\r\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                    Entrando...\r\n                                </>\r\n                            ) : (\r\n                                'Entrar'\r\n                            )}\r\n                        </Button>\r\n                    </CardFooter>\r\n                </form>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\manifest.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":37,"fix":{"range":[36,36],"text":"\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[844,847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[844,847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { MetadataRoute } from 'next'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport default async function manifest(): Promise<MetadataRoute.Manifest> {\r\n    let config = null\r\n\r\n    try {\r\n        // Buscar primeira configura├º├úo ou default\r\n        config = await prisma.pwa_config.findFirst()\r\n    } catch (error) {\r\n        console.warn('Failed to fetch PWA config for manifest generation', error)\r\n    }\r\n\r\n    const name = config?.app_name || 'AgentiVerso SaaS'\r\n    const short_name = config?.short_name || 'AgentiVerso'\r\n    const description = config?.description || 'Plataforma completa para infoprodutores'\r\n    const theme_color = config?.theme_color || '#D4AF37'\r\n    const background_color = config?.background_color || '#000000'\r\n    const start_url = config?.start_url || '/dashboard'\r\n    const display = (config?.display_mode as any) || 'standalone'\r\n\r\n    return {\r\n        name,\r\n        short_name,\r\n        description,\r\n        start_url,\r\n        display,\r\n        background_color,\r\n        theme_color,\r\n        orientation: 'portrait',\r\n        scope: '/',\r\n        icons: [\r\n            {\r\n                src: '/icons/icon-192.png',\r\n                sizes: '192x192',\r\n                type: 'image/png',\r\n                purpose: 'maskable'\r\n            },\r\n            {\r\n                src: '/icons/icon-512.png',\r\n                sizes: '512x512',\r\n                type: 'image/png',\r\n                purpose: 'any'\r\n            }\r\n        ],\r\n        // Screenshots para install prompt\r\n        screenshots: [\r\n            {\r\n                src: '/screenshots/mobile-1.png',\r\n                sizes: '390x844',\r\n                type: 'image/png'\r\n            }\r\n        ]\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\[produtoId]\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":34,"fix":{"range":[88,88],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `@/lib/auth-member`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[0,134],"text":"import { redirect } from 'next/navigation'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":39,"fix":{"range":[172,172],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/headers` import should occur before import of `@/lib/auth-member`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":39,"fix":{"range":[0,174],"text":"import { cookies } from 'next/headers'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/members/course-sidebar` import should occur before import of `@/lib/auth-member`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":68,"fix":{"range":[0,243],"text":"import { CourseSidebar } from '@/components/members/course-sidebar'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { cookies } from 'next/headers'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[510,513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[510,513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":32,"fix":{"range":[1915,2018],"text":"curso={curso}\r\n                diasDesdeAcesso={diasDesdeAcesso}\r\n                produtoId={produtoId}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { cookies } from 'next/headers'\r\nimport { CourseSidebar } from '@/components/members/course-sidebar'\r\n\r\nexport default async function CourseLayout({\r\n    children,\r\n    params\r\n}: {\r\n    children: React.ReactNode\r\n    params: { produtoId: string }\r\n}) {\r\n    const cookieStore = cookies()\r\n    const token = cookieStore.get('member_session')?.value\r\n    const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    const produtoId = params.produtoId\r\n\r\n    // Validar acesso e obter data_acesso\r\n    const accesses: any[] = await prisma.$queryRaw`\r\n        SELECT id, data_acesso FROM alunos_acessos \r\n        WHERE email_aluno = ${session.email} \r\n        AND produto_id = ${produtoId}\r\n    `\r\n\r\n    if (accesses.length === 0) {\r\n        return redirect('/members')\r\n    }\r\n\r\n    // Calcular dias desde o acesso\r\n    const dataAcesso = new Date(accesses[0].data_acesso)\r\n    const agora = new Date()\r\n    const diasDesdeAcesso = Math.floor((agora.getTime() - dataAcesso.getTime()) / (1000 * 60 * 60 * 24))\r\n\r\n    const curso = await prisma.cursos.findFirst({\r\n        where: { produto_id: produtoId },\r\n        include: {\r\n            modulos: {\r\n                include: { aulas: { orderBy: { ordem: 'asc' } } },\r\n                orderBy: { ordem: 'asc' }\r\n            }\r\n        }\r\n    })\r\n\r\n    if (!curso) {\r\n        return (\r\n            <div className=\"p-8 text-center\">\r\n                <h2 className=\"text-xl font-bold\">Conte├║do n├úo encontrado</h2>\r\n                <p className=\"text-muted-foreground\">O curso para este produto ainda n├úo foi criado.</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen\">\r\n            <CourseSidebar\r\n                curso={curso}\r\n                produtoId={produtoId}\r\n                diasDesdeAcesso={diasDesdeAcesso}\r\n            />\r\n            <main className=\"md:pl-80 h-full transition-all\">\r\n                {children}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\[produtoId]\\lesson\\[aulaId]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[33,33],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/db` import should occur after import of `@/components/ui/alert`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[0,697],"text":"import { cookies } from 'next/headers'\r\nimport { redirect } from 'next/navigation'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { VideoPlayer } from '@/components/members/video-player'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/headers` import should occur after import of `lucide-react`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":39,"fix":{"range":[35,535],"text":"import { redirect } from 'next/navigation'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { VideoPlayer } from '@/components/members/video-player'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport { cookies } from 'next/headers'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[117,117],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur after import of `next/link`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":43,"fix":{"range":[75,565],"text":"import { verifyMemberToken } from '@/lib/auth-member'\r\nimport { VideoPlayer } from '@/components/members/video-player'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { redirect } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/auth-member` import should occur after import of `@/components/ui/alert`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":54,"fix":{"range":[119,697],"text":"import { VideoPlayer } from '@/components/members/video-player'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/members/video-player` import should occur after import of `next/link`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":64,"fix":{"range":[174,565],"text":"import { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { VideoPlayer } from '@/components/members/video-player'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/members/lesson-complete-button` import should occur after import of `next/link`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":83,"fix":{"range":[239,565],"text":"import { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/members/lesson-files-list` import should occur after import of `next/link`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":73,"fix":{"range":[323,565],"text":"import { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":48,"fix":{"range":[444,444],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `@/components/ui/alert`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":48,"fix":{"range":[397,697],"text":"import { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTriangle' is defined but never used.","line":9,"column":53,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":66},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":29,"fix":{"range":[563,563],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/separator` import should occur after import of `@/components/ui/alert`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":54,"fix":{"range":[565,697],"text":"import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\r\nimport { Separator } from '@/components/ui/separator'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1001,1004],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1001,1004],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1576,1579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1576,1579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2440,2443],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2440,2443],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3229,3232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3229,3232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":93,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3295,3298],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3295,3298],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3340,3343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3340,3343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3679,3682],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3679,3682],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":113,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":113,"endColumn":59,"fix":{"range":[4146,4223],"text":"className=\"bg-amber-50 border-amber-200 text-amber-800\" variant=\"destructive\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":123,"column":55,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":123,"endColumn":62,"fix":{"range":[4868,4893],"text":"asChild variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":148,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":148,"endColumn":30,"fix":{"range":[5800,5871],"text":"title={aula.titulo}\r\n                        url={aula.url_video || ''}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":167,"column":55,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":167,"endColumn":59,"fix":{"range":[6720,6838],"text":"asChild={prevLesson && !prevLesson.isLocked} disabled={!prevLesson || prevLesson.isLocked} size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":167,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":167,"endColumn":73,"fix":{"range":[6720,6838],"text":"asChild={prevLesson && !prevLesson.isLocked} disabled={!prevLesson || prevLesson.isLocked} size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":167,"column":111,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":167,"endColumn":118,"fix":{"range":[6720,6838],"text":"asChild={prevLesson && !prevLesson.isLocked} disabled={!prevLesson || prevLesson.isLocked} size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":177,"column":47,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":177,"endColumn":55,"fix":{"range":[7440,7540],"text":"asChild={nextLesson && !nextLesson.isLocked} disabled={!nextLesson || nextLesson.isLocked} size=\"sm\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":177,"column":93,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":177,"endColumn":100,"fix":{"range":[7440,7540],"text":"asChild={nextLesson && !nextLesson.isLocked} disabled={!nextLesson || nextLesson.isLocked} size=\"sm\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":29,"fixableErrorCount":0,"fixableWarningCount":21,"source":"import { prisma } from '@/lib/db'\r\nimport { cookies } from 'next/headers'\r\nimport { redirect } from 'next/navigation'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { VideoPlayer } from '@/components/members/video-player'\r\nimport { LessonCompleteButton } from '@/components/members/lesson-complete-button'\r\nimport { LessonFilesList } from '@/components/members/lesson-files-list'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ChevronRight, ChevronLeft, Download, Lock, AlertTriangle } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\r\n\r\nexport default async function LessonPage({\r\n    params\r\n}: {\r\n    params: { produtoId: string, aulaId: string }\r\n}) {\r\n    const { produtoId, aulaId } = params\r\n\r\n    // Verificar sess├úo\r\n    const cookieStore = cookies()\r\n    const token = cookieStore.get('member_session')?.value\r\n    const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n    if (!session) {\r\n        redirect('/login')\r\n    }\r\n\r\n    // 1. Buscar a aula atual com arquivos\r\n    const aula = await prisma.aulas.findUnique({\r\n        where: { id: aulaId },\r\n        include: {\r\n            modulos: { include: { cursos: true } },\r\n            aula_arquivos: { orderBy: { ordem: 'asc' } }\r\n        }\r\n    })\r\n\r\n    if (!aula) {\r\n        return <div className=\"p-8 text-center\">Aula n├úo encontrada</div>\r\n    }\r\n\r\n    // 2. Verificar acesso e data_acesso para release_days\r\n    const accessData: any[] = await prisma.$queryRaw`\r\n        SELECT data_acesso FROM alunos_acessos\r\n        WHERE email_aluno = ${session.email}\r\n        AND produto_id = ${produtoId}\r\n        LIMIT 1\r\n    `\r\n\r\n    if (accessData.length === 0) {\r\n        redirect('/members')\r\n    }\r\n\r\n    const dataAcesso = new Date(accessData[0].data_acesso)\r\n    const agora = new Date()\r\n    const diasDesdeAcesso = Math.floor((agora.getTime() - dataAcesso.getTime()) / (1000 * 60 * 60 * 24))\r\n\r\n    // Verificar libera├º├úo por tempo\r\n    const moduloReleaseDays = aula.modulos.release_days || 0\r\n    const aulaReleaseDays = aula.release_days || 0\r\n    const maxReleaseDays = Math.max(moduloReleaseDays, aulaReleaseDays)\r\n    const isLocked = diasDesdeAcesso < maxReleaseDays\r\n    const diasRestantes = maxReleaseDays - diasDesdeAcesso\r\n\r\n    // 3. Verificar progresso atual\r\n    const progress: any[] = await prisma.$queryRaw`\r\n        SELECT id FROM aluno_progresso\r\n        WHERE aluno_email = ${session.email}\r\n        AND aula_id = ${aulaId}\r\n    `\r\n    const isCompleted = progress.length > 0\r\n\r\n    // 4. Buscar navega├º├úo (proxima/anterior)\r\n    const curso = await prisma.cursos.findFirst({\r\n        where: { produto_id: produtoId },\r\n        include: {\r\n            modulos: {\r\n                orderBy: { ordem: 'asc' },\r\n                include: {\r\n                    aulas: {\r\n                        orderBy: { ordem: 'asc' },\r\n                        select: { id: true, titulo: true, release_days: true }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    // Planificar a lista de aulas com verifica├º├úo de release\r\n    const flatLessons: any[] = []\r\n    if (curso) {\r\n        curso.modulos.forEach((mod: any) => {\r\n            mod.aulas.forEach((a: any) => {\r\n                const aulaMaxRelease = Math.max(mod.release_days || 0, a.release_days || 0)\r\n                flatLessons.push({\r\n                    ...a,\r\n                    isLocked: diasDesdeAcesso < aulaMaxRelease\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    const currentIndex = flatLessons.findIndex((l: any) => l.id === aulaId)\r\n    const prevLesson = currentIndex > 0 ? flatLessons[currentIndex - 1] : null\r\n    const nextLesson = currentIndex < flatLessons.length - 1 ? flatLessons[currentIndex + 1] : null\r\n\r\n    // Se a aula est├í bloqueada, mostrar mensagem\r\n    if (isLocked) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-8\">\r\n                <div className=\"max-w-md w-full\">\r\n                    <Alert variant=\"destructive\" className=\"bg-amber-50 border-amber-200 text-amber-800\">\r\n                        <Lock className=\"h-5 w-5\" />\r\n                        <AlertTitle className=\"text-lg\">Conte├║do Bloqueado</AlertTitle>\r\n                        <AlertDescription className=\"mt-2\">\r\n                            Esta aula ser├í liberada em <strong>{diasRestantes} dia(s)</strong>.<br />\r\n                            Continue assistindo as aulas j├í dispon├¡veis enquanto isso.\r\n                        </AlertDescription>\r\n                    </Alert>\r\n                    <div className=\"mt-6 flex gap-2 justify-center\">\r\n                        {prevLesson && !prevLesson.isLocked && (\r\n                            <Button variant=\"outline\" asChild>\r\n                                <Link href={`/members/${produtoId}/lesson/${prevLesson.id}`}>\r\n                                    <ChevronLeft className=\"w-4 h-4 mr-2\" />\r\n                                    Aula Anterior\r\n                                </Link>\r\n                            </Button>\r\n                        )}\r\n                        <Button asChild>\r\n                            <Link href=\"/members\">\r\n                                Voltar aos Cursos\r\n                            </Link>\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full\">\r\n            {/* Player Area */}\r\n            <div className=\"bg-black w-full shadow-lg\">\r\n                <div className=\"max-w-5xl mx-auto\">\r\n                    <VideoPlayer\r\n                        url={aula.url_video || ''}\r\n                        title={aula.titulo}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"max-w-5xl mx-auto w-full p-6 space-y-6\">\r\n\r\n                {/* Header, Progress e Navigation */}\r\n                <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-4\">\r\n                    <div className=\"flex-1\">\r\n                        <h1 className=\"text-2xl font-bold\">{aula.titulo}</h1>\r\n                        <p className=\"text-muted-foreground\">{aula.modulos.titulo}</p>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-wrap items-center gap-2\">\r\n                        <LessonCompleteButton aulaId={aulaId} isCompleted={isCompleted} />\r\n\r\n                        <div className=\"flex items-center gap-2 ml-2\">\r\n                            <Button variant=\"outline\" size=\"sm\" disabled={!prevLesson || prevLesson.isLocked} asChild={prevLesson && !prevLesson.isLocked}>\r\n                                {prevLesson && !prevLesson.isLocked ? (\r\n                                    <Link href={`/members/${produtoId}/lesson/${prevLesson.id}`}>\r\n                                        <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n                                        Anterior\r\n                                    </Link>\r\n                                ) : (\r\n                                    <span><ChevronLeft className=\"w-4 h-4 mr-1\" /> Anterior</span>\r\n                                )}\r\n                            </Button>\r\n                            <Button size=\"sm\" disabled={!nextLesson || nextLesson.isLocked} asChild={nextLesson && !nextLesson.isLocked}>\r\n                                {nextLesson && !nextLesson.isLocked ? (\r\n                                    <Link href={`/members/${produtoId}/lesson/${nextLesson.id}`}>\r\n                                        Pr├│xima\r\n                                        <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                                    </Link>\r\n                                ) : (\r\n                                    <span>Pr├│xima <ChevronRight className=\"w-4 h-4 ml-1\" /></span>\r\n                                )}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                {/* Descri├º├úo */}\r\n                <div className=\"prose dark:prose-invert max-w-none\">\r\n                    <h3 className=\"text-lg font-semibold mb-2\">Sobre esta aula</h3>\r\n                    <p className=\"text-gray-600 dark:text-gray-300 leading-relaxed\">\r\n                        {aula.descricao || 'Nenhuma descri├º├úo dispon├¡vel para esta aula.'}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Materiais/Arquivos */}\r\n                <div className=\"bg-slate-50 dark:bg-slate-900 rounded-lg p-4 border\">\r\n                    <h3 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                        <Download className=\"w-4 h-4\" /> Materiais Complementares\r\n                    </h3>\r\n                    <LessonFilesList files={aula.aula_arquivos} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\[produtoId]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[33,33],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `@/lib/db`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":43,"fix":{"range":[0,79],"text":"import { redirect } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport default async function CourseHomePage({ params }: { params: { produtoId: string } }) {\r\n    const curso = await prisma.cursos.findFirst({\r\n        where: { produto_id: params.produtoId },\r\n        include: {\r\n            modulos: {\r\n                orderBy: { ordem: 'asc' },\r\n                take: 1,\r\n                include: { aulas: { orderBy: { ordem: 'asc' }, take: 1 } }\r\n            }\r\n        }\r\n    })\r\n\r\n    // Redireciona para a primeira aula do primeiro m├│dulo\r\n    if (curso && curso.modulos.length > 0 && curso.modulos[0].aulas.length > 0) {\r\n        const primeiraAula = curso.modulos[0].aulas[0]\r\n        redirect(`/members/${params.produtoId}/lesson/${primeiraAula.id}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-8\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">{curso?.titulo}</h1>\r\n            <p className=\"text-muted-foreground\">Este curso ainda n├úo possui aulas cadastradas.</p>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\layout.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":29,"fix":{"range":[44,44],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":29,"fix":{"range":[16,163],"text":"import { Button } from '@/components/ui/button'\r\nimport { LogOut, GraduationCap, Menu, X, Bot } from 'lucide-react'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[93,93],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[46,242],"text":"import { LogOut, GraduationCap, Menu, X, Bot } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'GraduationCap' is defined but never used.","line":5,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":31},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":28,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":28,"endColumn":38,"fix":{"range":[1244,1378],"text":"className=\"font-bold text-xl flex items-center gap-3 hover:opacity-90 transition-opacity\"\r\n                            href=\"/members\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":43,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":43,"endColumn":42,"fix":{"range":[2220,2352],"text":"className=\"text-sm font-medium text-slate-600 hover:text-primary transition-colors\"\r\n                                href=\"/members\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":37,"fix":{"range":[2683,2923],"text":"className=\"text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 gap-2\"\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={handleLogout}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":54,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":54,"endColumn":40,"fix":{"range":[2683,2923],"text":"className=\"text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 gap-2\"\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={handleLogout}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":37,"fix":{"range":[3266,3465],"text":"className=\"md:hidden\"\r\n                                size=\"icon\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":65,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":65,"endColumn":42,"fix":{"range":[3266,3465],"text":"className=\"md:hidden\"\r\n                                size=\"icon\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":84,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":84,"endColumn":42,"fix":{"range":[4225,4471],"text":"className=\"px-4 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-primary hover:bg-primary/5 transition-colors\"\r\n                                href=\"/members\"\r\n                                onClick={() => setMobileMenuOpen(false)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":11,"source":"'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\nimport { LogOut, GraduationCap, Menu, X, Bot } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\n\r\nexport default function MemberLayout({ children }: { children: React.ReactNode }) {\r\n    const router = useRouter()\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\r\n\r\n    async function handleLogout() {\r\n        document.cookie = 'member_session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'\r\n        router.push('/members/login')\r\n        router.refresh()\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-slate-50 to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950\">\r\n            {/* Header */}\r\n            <header className=\"sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-b border-slate-200/50 dark:border-slate-800/50 shadow-sm\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                    <div className=\"h-16 flex items-center justify-between\">\r\n                        {/* Logo */}\r\n                        <Link\r\n                            href=\"/members\"\r\n                            className=\"font-bold text-xl flex items-center gap-3 hover:opacity-90 transition-opacity\"\r\n                        >\r\n                            <div className=\"p-2 rounded-xl bg-gradient-to-br from-[#D4AF37] to-[#F6D764] text-black shadow-lg shadow-[#D4AF37]/25\">\r\n                                <Bot className=\"w-5 h-5\" />\r\n                            </div>\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"text-gradient-gold leading-none\">AgentiVerso</span>\r\n                                <span className=\"text-[10px] text-muted-foreground uppercase tracking-widest font-normal\">├ürea do Aluno</span>\r\n                            </div>\r\n                        </Link>\r\n\r\n                        {/* Desktop Nav */}\r\n                        <nav className=\"hidden md:flex items-center gap-6\">\r\n                            <Link\r\n                                href=\"/members\"\r\n                                className=\"text-sm font-medium text-slate-600 hover:text-primary transition-colors\"\r\n                            >\r\n                                Meus Cursos\r\n                            </Link>\r\n                        </nav>\r\n\r\n                        {/* User Actions */}\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                onClick={handleLogout}\r\n                                className=\"text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 gap-2\"\r\n                            >\r\n                                <LogOut className=\"w-4 h-4\" />\r\n                                <span className=\"hidden sm:inline\">Sair</span>\r\n                            </Button>\r\n\r\n                            {/* Mobile menu button */}\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"md:hidden\"\r\n                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n                            >\r\n                                {mobileMenuOpen ? (\r\n                                    <X className=\"w-5 h-5\" />\r\n                                ) : (\r\n                                    <Menu className=\"w-5 h-5\" />\r\n                                )}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Mobile menu */}\r\n                {mobileMenuOpen && (\r\n                    <div className=\"md:hidden border-t border-slate-200/50 dark:border-slate-800/50 bg-white dark:bg-slate-900 py-4 px-4\">\r\n                        <nav className=\"flex flex-col gap-2\">\r\n                            <Link\r\n                                href=\"/members\"\r\n                                className=\"px-4 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-primary hover:bg-primary/5 transition-colors\"\r\n                                onClick={() => setMobileMenuOpen(false)}\r\n                            >\r\n                                Meus Cursos\r\n                            </Link>\r\n                        </nav>\r\n                    </div>\r\n                )}\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\r\n                {children}\r\n            </main>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"border-t border-slate-200/50 dark:border-slate-800/50 bg-white/50 dark:bg-slate-900/50 mt-auto\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n                    <p className=\"text-center text-sm text-slate-500\">\r\n                        ┬® {new Date().getFullYear()} ├ürea do Aluno. Todos os direitos reservados.\r\n                    </p>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":39,"fix":{"range":[38,38],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":34,"fix":{"range":[128,128],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":43,"fix":{"range":[172,172],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `@/lib/auth-member`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":43,"fix":{"range":[40,174],"text":"import { redirect } from 'next/navigation'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/lib/auth-member`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":92,"fix":{"range":[40,267],"text":"import { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[314,314],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/auth-member`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[40,316],"text":"import { Button } from '@/components/ui/button'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `@/lib/auth-member`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":29,"fix":{"range":[40,346],"text":"import Link from 'next/link'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":74,"fix":{"range":[419,419],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next/headers`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":74,"fix":{"range":[0,421],"text":"import { PlayCircle, BookOpen, GraduationCap, Clock } from 'lucide-react'\r\nimport { cookies } from 'next/headers'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":8,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":52},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/lib/auth-member`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":46,"fix":{"range":[40,468],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { PlayCircle, BookOpen, GraduationCap, Clock } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[678,681],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[678,681],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1511,1514],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1511,1514],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1705,1708],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1705,1708],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2046,2049],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2046,2049],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2162,2165],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2162,2165],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":111,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4958,4961],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4958,4961],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":118,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":118,"endColumn":42,"fix":{"range":[5183,5439],"text":"className=\"group flex flex-col overflow-hidden bg-white dark:bg-slate-900 border-slate-200/50 dark:border-slate-800/50 hover:shadow-xl hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1\"\r\n                                key={access.id}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":123,"column":41,"nodeType":"JSXOpeningElement","endLine":127,"endColumn":43},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":125,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":125,"endColumn":48,"fix":{"range":[5837,6059],"text":"alt={produto.nome}\r\n                                            className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-500\"\r\n                                            src={produto.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":126,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":126,"endColumn":54,"fix":{"range":[5837,6059],"text":"alt={produto.nome}\r\n                                            className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-500\"\r\n                                            src={produto.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":153,"column":72,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":153,"endColumn":81,"fix":{"range":[7806,7845],"text":"className=\"text-xs\" variant=\"secondary\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":158,"column":70,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":158,"endColumn":79,"fix":{"range":[8147,8184],"text":"className=\"text-xs\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":184,"column":140,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":184,"endColumn":147,"fix":{"range":[9724,9826],"text":"asChild className=\"w-full gap-2 group-hover:shadow-lg group-hover:shadow-primary/20 transition-shadow\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":17,"source":"import { cookies } from 'next/headers'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\nimport { prisma } from '@/lib/db'\r\nimport { redirect } from 'next/navigation'\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport Link from 'next/link'\r\nimport { PlayCircle, BookOpen, GraduationCap, Clock } from 'lucide-react'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport default async function MembersDashboard() {\r\n    const cookieStore = cookies()\r\n    const token = cookieStore.get('member_session')?.value\r\n    const session: any = token ? await verifyMemberToken(token) : null\r\n\r\n    if (!session) {\r\n        redirect('/members/login')\r\n    }\r\n\r\n    // Buscando os cursos do aluno\r\n    const accesses = await prisma.alunos_acessos.findMany({\r\n        where: { email_aluno: session.email },\r\n        include: {\r\n            produtos: {\r\n                include: {\r\n                    cursos: {\r\n                        include: {\r\n                            modulos: {\r\n                                include: {\r\n                                    aulas: { select: { id: true } }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    // Filtrar produtos que tenham ├írea de membros\r\n    const validAccesses = accesses.filter((access: any) => access.produtos.tipo_entrega === 'area_membros')\r\n\r\n    // Calcular progresso de cada curso\r\n    const coursesWithProgress = await Promise.all(\r\n        validAccesses.map(async (access: any) => {\r\n            const produto = access.produtos\r\n            const curso = produto.cursos\r\n\r\n            if (!curso) {\r\n                return { access, totalLessons: 0, completedLessons: 0, progress: 0 }\r\n            }\r\n\r\n            // Contar total de aulas\r\n            const totalLessons = curso.modulos.reduce((acc: number, mod: any) => acc + mod.aulas.length, 0)\r\n\r\n            // Buscar progresso do aluno\r\n            const completedResults: any[] = await prisma.$queryRaw`\r\n                SELECT COUNT(*) as count FROM aluno_progresso\r\n                WHERE aluno_email = ${session.email}\r\n                AND aula_id IN (\r\n                    SELECT a.id FROM aulas a\r\n                    JOIN modulos m ON a.modulo_id = m.id\r\n                    WHERE m.curso_id = ${curso.id}\r\n                )\r\n            `\r\n            const completedLessons = parseInt(completedResults[0]?.count || '0')\r\n            const progress = totalLessons > 0 ? Math.round((completedLessons / totalLessons) * 100) : 0\r\n\r\n            return { access, totalLessons, completedLessons, progress }\r\n        })\r\n    )\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* Welcome Section */}\r\n            <div className=\"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-2xl p-8 border border-primary/10\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                    <div className=\"p-3 rounded-xl bg-primary/10\">\r\n                        <GraduationCap className=\"w-8 h-8 text-primary\" />\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold tracking-tight\">Meus Cursos</h1>\r\n                        <p className=\"text-muted-foreground mt-1\">\r\n                            Bem-vindo de volta! Continue de onde parou.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"flex gap-6 mt-6\">\r\n                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                        <BookOpen className=\"w-4 h-4\" />\r\n                        <span><strong>{coursesWithProgress.length}</strong> curso(s) dispon├¡vel(is)</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Courses Grid */}\r\n            {coursesWithProgress.length === 0 ? (\r\n                <div className=\"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-dashed border-slate-200 dark:border-slate-800\">\r\n                    <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center\">\r\n                        <BookOpen className=\"w-8 h-8 text-slate-400\" />\r\n                    </div>\r\n                    <p className=\"text-slate-600 dark:text-slate-400 font-medium\">Voc├¬ ainda n├úo possui cursos</p>\r\n                    <p className=\"text-sm text-slate-500 mt-1\">Seus cursos aparecer├úo aqui ap├│s a compra</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                    {coursesWithProgress.map(({ access, totalLessons, completedLessons, progress }: any) => {\r\n                        const produto = access.produtos\r\n                        const curso = produto.cursos\r\n\r\n                        return (\r\n                            <Card\r\n                                key={access.id}\r\n                                className=\"group flex flex-col overflow-hidden bg-white dark:bg-slate-900 border-slate-200/50 dark:border-slate-800/50 hover:shadow-xl hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1\"\r\n                            >\r\n                                {/* Image */}\r\n                                <div className=\"aspect-video bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700 relative overflow-hidden\">\r\n                                    {produto.foto ? (\r\n                                        <img\r\n                                            src={produto.foto}\r\n                                            alt={produto.nome}\r\n                                            className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-500\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-full h-full flex items-center justify-center\">\r\n                                            <div className=\"w-20 h-20 rounded-2xl bg-primary/10 flex items-center justify-center\">\r\n                                                <BookOpen className=\"w-10 h-10 text-primary/50\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Progress overlay */}\r\n                                    {progress > 0 && (\r\n                                        <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-slate-200 dark:bg-slate-700\">\r\n                                            <div\r\n                                                className=\"h-full bg-gradient-to-r from-primary to-primary/80 transition-all duration-500\"\r\n                                                style={{ width: `${progress}%` }}\r\n                                            />\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <CardHeader className=\"pb-3\">\r\n                                    <CardTitle className=\"line-clamp-2 text-lg group-hover:text-primary transition-colors\">\r\n                                        {produto.nome}\r\n                                    </CardTitle>\r\n                                    <div className=\"flex items-center gap-2 mt-2\">\r\n                                        {curso && (\r\n                                            <Badge variant=\"secondary\" className=\"text-xs\">\r\n                                                {curso.modulos?.length || 0} M├│dulos\r\n                                            </Badge>\r\n                                        )}\r\n                                        {totalLessons > 0 && (\r\n                                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                                                {totalLessons} Aulas\r\n                                            </Badge>\r\n                                        )}\r\n                                    </div>\r\n                                </CardHeader>\r\n\r\n                                <CardContent className=\"flex-1 pb-4\">\r\n                                    <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                                        {produto.descricao || 'Acesse o conte├║do completo do curso.'}\r\n                                    </p>\r\n\r\n                                    {/* Progress info */}\r\n                                    {totalLessons > 0 && (\r\n                                        <div className=\"mt-4 flex items-center justify-between text-xs\">\r\n                                            <span className=\"text-muted-foreground\">\r\n                                                {completedLessons} de {totalLessons} aulas conclu├¡das\r\n                                            </span>\r\n                                            <span className={`font-semibold ${progress === 100 ? 'text-green-600' : 'text-primary'}`}>\r\n                                                {progress}%\r\n                                            </span>\r\n                                        </div>\r\n                                    )}\r\n                                </CardContent>\r\n\r\n                                <CardFooter className=\"pt-0\">\r\n                                    <Button className=\"w-full gap-2 group-hover:shadow-lg group-hover:shadow-primary/20 transition-shadow\" asChild>\r\n                                        <Link href={`/members/${produto.id}`}>\r\n                                            <PlayCircle className=\"w-4 h-4\" />\r\n                                            {progress > 0 ? 'Continuar' : 'Come├ºar'}\r\n                                        </Link>\r\n                                    </Button>\r\n                                </CardFooter>\r\n                            </Card>\r\n                        )\r\n                    })}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\members\\setup-password\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[121,121],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[16,123],"text":"import { useSearchParams, useRouter } from 'next/navigation'\r\nimport { useEffect, useState } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[123,282],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[374,374],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":67,"fix":{"range":[16,444],"text":"import { Loader2, Lock, CheckCircle, XCircle } from 'lucide-react'\r\nimport { useEffect, useState } from 'react'\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":29,"fix":{"range":[16,474],"text":"import Link from 'next/link'\r\nimport { useEffect, useState } from 'react'\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Loader2, Lock, CheckCircle, XCircle } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":14,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3090,3093],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3090,3093],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":126,"column":52,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":126,"endColumn":59,"fix":{"range":[4778,4804],"text":"asChild className=\"w-full\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":153,"column":70,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":153,"endColumn":77,"fix":{"range":[6023,6067],"text":"asChild className=\"w-full\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":189,"column":33,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":189,"endColumn":41,"fix":{"range":[7733,7890],"text":"disabled\r\n                                className=\"bg-gray-50\"\r\n                                type=\"email\"\r\n                                value={email}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":190,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":190,"endColumn":42,"fix":{"range":[7733,7890],"text":"disabled\r\n                                className=\"bg-gray-50\"\r\n                                type=\"email\"\r\n                                value={email}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":198,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":198,"endColumn":44,"fix":{"range":[8151,8498],"text":"required\r\n                                id=\"password\"\r\n                                minLength={6}\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":200,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":200,"endColumn":41,"fix":{"range":[8151,8498],"text":"required\r\n                                id=\"password\"\r\n                                minLength={6}\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":210,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":210,"endColumn":44,"fix":{"range":[8771,9087],"text":"required\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita a senha\"\r\n                                type=\"password\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":212,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":212,"endColumn":41,"fix":{"range":[8771,9087],"text":"required\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repita a senha\"\r\n                                type=\"password\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":218,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":218,"endColumn":74,"fix":{"range":[9255,9311],"text":"className=\"w-full\" disabled={isSubmitting} type=\"submit\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":15,"source":"'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Loader2, Lock, CheckCircle, XCircle } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport default function SetupPasswordPage() {\r\n    const searchParams = useSearchParams()\r\n    const router = useRouter()\r\n    const token = searchParams.get('token')\r\n\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n    const [isValid, setIsValid] = useState(false)\r\n    const [email, setEmail] = useState('')\r\n    const [produtoNome, setProdutoNome] = useState('')\r\n    const [error, setError] = useState('')\r\n    const [success, setSuccess] = useState(false)\r\n    const [alreadySetup, setAlreadySetup] = useState(false)\r\n\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n            setError('Token n├úo fornecido')\r\n            setIsLoading(false)\r\n            return\r\n        }\r\n\r\n        // Validar o token\r\n        fetch(`/api/members/setup-password?token=${encodeURIComponent(token)}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.valid) {\r\n                    setIsValid(true)\r\n                    setEmail(data.email)\r\n                    setProdutoNome(data.produtoNome)\r\n                } else {\r\n                    setError(data.error || 'Token inv├ílido')\r\n                    if (data.alreadySetup) {\r\n                        setAlreadySetup(true)\r\n                    }\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setError('Erro ao validar token')\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false)\r\n            })\r\n    }, [token])\r\n\r\n    async function handleSubmit(e: React.FormEvent) {\r\n        e.preventDefault()\r\n        setIsSubmitting(true)\r\n        setError('')\r\n\r\n        if (password !== confirmPassword) {\r\n            setError('As senhas n├úo coincidem')\r\n            setIsSubmitting(false)\r\n            return\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            setError('A senha deve ter no m├¡nimo 6 caracteres')\r\n            setIsSubmitting(false)\r\n            return\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/members/setup-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ token, password, confirmPassword })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Erro ao configurar senha')\r\n            }\r\n\r\n            setSuccess(true)\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erro ao configurar senha')\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 px-4\">\r\n                <Card className=\"w-full max-w-md\">\r\n                    <CardContent className=\"py-12 text-center\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin mx-auto text-primary\" />\r\n                        <p className=\"mt-4 text-muted-foreground\">Validando seu acesso...</p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 px-4\">\r\n                <Card className=\"w-full max-w-md\">\r\n                    <CardHeader className=\"text-center\">\r\n                        <div className=\"flex justify-center mb-4\">\r\n                            <div className=\"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center\">\r\n                                <CheckCircle className=\"h-8 w-8 text-green-600\" />\r\n                            </div>\r\n                        </div>\r\n                        <CardTitle className=\"text-2xl text-green-600\">Senha Configurada!</CardTitle>\r\n                        <CardDescription>\r\n                            Sua senha foi configurada com sucesso. Agora voc├¬ pode fazer login.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardFooter>\r\n                        <Button className=\"w-full\" asChild>\r\n                            <Link href=\"/login\">Ir para o Login</Link>\r\n                        </Button>\r\n                    </CardFooter>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!isValid) {\r\n        return (\r\n            <div className=\"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 px-4\">\r\n                <Card className=\"w-full max-w-md\">\r\n                    <CardHeader className=\"text-center\">\r\n                        <div className=\"flex justify-center mb-4\">\r\n                            <div className=\"h-16 w-16 rounded-full bg-red-100 flex items-center justify-center\">\r\n                                <XCircle className=\"h-8 w-8 text-red-600\" />\r\n                            </div>\r\n                        </div>\r\n                        <CardTitle className=\"text-2xl text-red-600\">\r\n                            {alreadySetup ? 'Senha j├í Configurada' : 'Link Inv├ílido'}\r\n                        </CardTitle>\r\n                        <CardDescription>\r\n                            {error}\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardFooter>\r\n                        <Button className=\"w-full\" variant=\"outline\" asChild>\r\n                            <Link href=\"/login\">Ir para o Login</Link>\r\n                        </Button>\r\n                    </CardFooter>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 px-4\">\r\n            <Card className=\"w-full max-w-md\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"flex justify-center mb-4\">\r\n                        <div className=\"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                            <Lock className=\"h-6 w-6 text-primary\" />\r\n                        </div>\r\n                    </div>\r\n                    <CardTitle className=\"text-2xl font-bold\">Configure sua Senha</CardTitle>\r\n                    <CardDescription>\r\n                        Bem-vindo ao <span className=\"font-semibold\">{produtoNome}</span>!<br />\r\n                        Crie uma senha para acessar seu conte├║do.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <form onSubmit={handleSubmit}>\r\n                    <CardContent className=\"space-y-4\">\r\n                        {error && (\r\n                            <div className=\"p-3 text-sm text-red-500 bg-red-50 rounded-md border border-red-200 text-center\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Email</Label>\r\n                            <Input\r\n                                type=\"email\"\r\n                                value={email}\r\n                                disabled\r\n                                className=\"bg-gray-50\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"password\">Nova Senha</Label>\r\n                            <Input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                placeholder=\"M├¡nimo 6 caracteres\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                                minLength={6}\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"confirmPassword\">Confirmar Senha</Label>\r\n                            <Input\r\n                                id=\"confirmPassword\"\r\n                                type=\"password\"\r\n                                placeholder=\"Repita a senha\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardFooter>\r\n                        <Button className=\"w-full\" type=\"submit\" disabled={isSubmitting}>\r\n                            {isSubmitting ? (\r\n                                <>\r\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                    Configurando...\r\n                                </>\r\n                            ) : (\r\n                                'Criar Senha e Acessar'\r\n                            )}\r\n                        </Button>\r\n                    </CardFooter>\r\n                </form>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\obrigado\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":50,"fix":{"range":[16,122],"text":"import { useSearchParams } from 'next/navigation'\r\nimport { useState, useEffect, Suspense } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":29,"fix":{"range":[16,152],"text":"import Link from 'next/link'\r\nimport { useState, useEffect, Suspense } from 'react'\r\nimport { useSearchParams } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":93,"fix":{"range":[244,244],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":93,"fix":{"range":[16,246],"text":"import { CheckCircle, Download, Mail, ArrowRight, Loader2, AlertCircle } from 'lucide-react'\r\nimport { useState, useEffect, Suspense } from 'react'\r\nimport { useSearchParams } from 'next/navigation'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isPending' is assigned a value but never used.","line":89,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":89,"endColumn":20},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":207,"column":33,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":207,"endColumn":40,"fix":{"range":[10022,10175],"text":"asChild\r\n                                className=\"flex-1 py-6 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":5,"source":"'use client'\r\n\r\nimport { useState, useEffect, Suspense } from 'react'\r\nimport { useSearchParams } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { CheckCircle, Download, Mail, ArrowRight, Loader2, AlertCircle } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { formatCurrency } from '@/lib/utils'\r\n\r\ninterface OrderData {\r\n    orderId: string\r\n    status: string\r\n    productName: string\r\n    amount: number\r\n}\r\n\r\nfunction ThankYouContent() {\r\n    const searchParams = useSearchParams()\r\n    const orderId = searchParams.get('order')\r\n\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [orderData, setOrderData] = useState<OrderData | null>(null)\r\n    const [error, setError] = useState<string | null>(null)\r\n\r\n    useEffect(() => {\r\n        async function fetchOrder() {\r\n            if (!orderId) {\r\n                setError('Pedido n├úo encontrado')\r\n                setIsLoading(false)\r\n                return\r\n            }\r\n\r\n            try {\r\n                const response = await fetch(`/api/payments/status/${orderId}`)\r\n                const data = await response.json()\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(data.error || 'Erro ao carregar pedido')\r\n                }\r\n\r\n                setOrderData(data)\r\n            } catch (err: any) {\r\n                setError(err.message)\r\n            } finally {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n\r\n        fetchOrder()\r\n    }, [orderId])\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n                <div className=\"flex flex-col items-center gap-4\">\r\n                    <Loader2 className=\"w-10 h-10 animate-spin text-green-500\" />\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">Carregando pedido...</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error || !orderData) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4\">\r\n                <Card className=\"max-w-md w-full\">\r\n                    <CardContent className=\"pt-6\">\r\n                        <div className=\"flex flex-col items-center text-center gap-4\">\r\n                            <div className=\"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center\">\r\n                                <AlertCircle className=\"w-8 h-8 text-red-500\" />\r\n                            </div>\r\n                            <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n                                Pedido n├úo encontrado\r\n                            </h1>\r\n                            <p className=\"text-gray-600 dark:text-gray-400\">\r\n                                {error || 'N├úo foi poss├¡vel carregar os detalhes do seu pedido.'}\r\n                            </p>\r\n                            <Link href=\"/\">\r\n                                <Button>Voltar ao In├¡cio</Button>\r\n                            </Link>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const isPending = orderData.status === 'PENDING'\r\n    const isApproved = orderData.status === 'APPROVED'\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4\">\r\n            <div className=\"max-w-2xl mx-auto\">\r\n                {/* Header com confetti background */}\r\n                <div className=\"text-center mb-8\">\r\n                    <div className={`w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-6 ${isApproved\r\n                            ? 'bg-green-100 dark:bg-green-900/30'\r\n                            : 'bg-yellow-100 dark:bg-yellow-900/30'\r\n                        }`}>\r\n                        {isApproved ? (\r\n                            <CheckCircle className=\"w-14 h-14 text-green-500\" />\r\n                        ) : (\r\n                            <Loader2 className=\"w-14 h-14 text-yellow-500 animate-spin\" />\r\n                        )}\r\n                    </div>\r\n\r\n                    <h1 className={`text-3xl font-bold mb-2 ${isApproved\r\n                            ? 'text-green-600 dark:text-green-400'\r\n                            : 'text-yellow-600 dark:text-yellow-400'\r\n                        }`}>\r\n                        {isApproved ? 'Compra Confirmada!' : 'Aguardando Pagamento'}\r\n                    </h1>\r\n\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">\r\n                        {isApproved\r\n                            ? 'Parab├®ns! Seu pagamento foi aprovado com sucesso.'\r\n                            : 'Seu pedido foi registrado e estamos aguardando a confirma├º├úo do pagamento.'\r\n                        }\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Detalhes do Pedido */}\r\n                <Card className=\"mb-6\">\r\n                    <CardContent className=\"pt-6\">\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex justify-between items-center pb-4 border-b border-gray-200 dark:border-gray-700\">\r\n                                <span className=\"text-gray-500\">N├║mero do Pedido</span>\r\n                                <span className=\"font-mono font-medium text-gray-900 dark:text-white\">\r\n                                    #{orderData.orderId.slice(-8).toUpperCase()}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between items-center pb-4 border-b border-gray-200 dark:border-gray-700\">\r\n                                <span className=\"text-gray-500\">Produto</span>\r\n                                <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                                    {orderData.productName}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between items-center pb-4 border-b border-gray-200 dark:border-gray-700\">\r\n                                <span className=\"text-gray-500\">Valor</span>\r\n                                <span className=\"font-bold text-lg text-green-600\">\r\n                                    {formatCurrency(orderData.amount)}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"text-gray-500\">Status</span>\r\n                                <span className={`px-3 py-1 rounded-full text-sm font-medium ${isApproved\r\n                                        ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\r\n                                        : 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400'\r\n                                    }`}>\r\n                                    {isApproved ? 'Aprovado' : 'Pendente'}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Pr├│ximos Passos */}\r\n                {isApproved && (\r\n                    <Card className=\"mb-6 border-green-200 dark:border-green-800\">\r\n                        <CardContent className=\"pt-6\">\r\n                            <h3 className=\"font-semibold text-lg mb-4 text-gray-900 dark:text-white\">\r\n                                Pr├│ximos Passos\r\n                            </h3>\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <div className=\"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                                        <Mail className=\"w-4 h-4 text-green-600\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-medium text-gray-900 dark:text-white\">\r\n                                            Verifique seu email\r\n                                        </p>\r\n                                        <p className=\"text-sm text-gray-500\">\r\n                                            Enviamos os dados de acesso para seu email cadastrado.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <div className=\"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                                        <Download className=\"w-4 h-4 text-green-600\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-medium text-gray-900 dark:text-white\">\r\n                                            Acesse o conte├║do\r\n                                        </p>\r\n                                        <p className=\"text-sm text-gray-500\">\r\n                                            Seu acesso ├á ├írea de membros j├í est├í liberado!\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Bot├Áes de A├º├úo */}\r\n                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                    {isApproved ? (\r\n                        <>\r\n                            <Button\r\n                                className=\"flex-1 py-6 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\"\r\n                                asChild\r\n                            >\r\n                                <Link href=\"/dashboard\">\r\n                                    Acessar ├ürea de Membros\r\n                                    <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n                                </Link>\r\n                            </Button>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"flex-1 text-center\">\r\n                            <p className=\"text-sm text-gray-500 mb-4\">\r\n                                Esta p├ígina ser├í atualizada automaticamente quando o pagamento for confirmado.\r\n                            </p>\r\n                            <Loader2 className=\"w-6 h-6 animate-spin mx-auto text-yellow-500\" />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <p className=\"text-center text-sm text-gray-500 mt-8\">\r\n                    D├║vidas? Entre em contato com nosso suporte.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function ThankYouPage() {\r\n    return (\r\n        <Suspense fallback={\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n                <Loader2 className=\"w-10 h-10 animate-spin text-green-500\" />\r\n            </div>\r\n        }>\r\n            <ThankYouContent />\r\n        </Suspense>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":45,"fix":{"range":[88,88],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { redirect } from 'next/navigation'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/lib/auth'\r\n\r\n/**\r\n * P├ígina inicial - Redireciona baseado no estado de autentica├º├úo\r\n */\r\nexport default async function HomePage() {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n        // N├úo autenticado - redireciona para login\r\n        redirect('/login')\r\n    }\r\n\r\n    // Redireciona baseado no tipo de usu├írio\r\n    switch (session.user.type) {\r\n        case 'ADMIN':\r\n            redirect('/admin')\r\n        case 'MEMBER':\r\n            redirect('/member')\r\n        case 'INFOPRODUCER':\r\n        default:\r\n            redirect('/dashboard')\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\pricing\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":66,"fix":{"range":[100,100],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/pricing/pricing-cards` import should occur before import of `@/lib/db`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":66,"fix":{"range":[0,102],"text":"import { PricingCards } from '@/components/pricing/pricing-cards'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next` import should occur before import of `@/lib/db`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":32,"fix":{"range":[0,135],"text":"import { Metadata } from 'next'\r\nimport { prisma } from '@/lib/db'\r\nimport { PricingCards } from '@/components/pricing/pricing-cards'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { prisma } from '@/lib/db'\r\nimport { PricingCards } from '@/components/pricing/pricing-cards'\r\nimport { Metadata } from 'next'\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Planos e Pre├ºos',\r\n    description: 'Escolha o plano ideal para escalar seu neg├│cio de infoprodutos.'\r\n}\r\n\r\nexport default async function PricingPage() {\r\n    // Buscar planos ativos\r\n    const planos = await prisma.saas_planos.findMany({\r\n        where: { ativo: true },\r\n        orderBy: [{ preco: 'asc' }, { ordem: 'asc' }]\r\n    })\r\n\r\n    const serializedPlans = planos.map(p => ({\r\n        ...p,\r\n        preco: Number(p.preco),\r\n        descricao: p.descricao || '',\r\n        criado_em: p.criado_em.toISOString(),\r\n        atualizado_em: p.atualizado_em.toISOString()\r\n    }))\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black text-white pt-24 pb-12 px-4\">\r\n            <div className=\"max-w-7xl mx-auto space-y-16\">\r\n                <div className=\"text-center space-y-4\">\r\n                    <h1 className=\"text-4xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#D4AF37] to-[#F6D764]\">\r\n                        Planos Transparentes\r\n                    </h1>\r\n                    <p className=\"text-xl text-zinc-400 max-w-2xl mx-auto\">\r\n                        Comece gr├ítis e escale conforme seu neg├│cio cresce. Sem taxas ocultas.\r\n                    </p>\r\n                </div>\r\n\r\n                <PricingCards plans={serializedPlans} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\app\\s\\[slug]\\page.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":43,"fix":{"range":[42,42],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { notFound } from 'next/navigation'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\ninterface Props {\r\n    params: { slug: string }\r\n}\r\n\r\nexport default async function ClonedSitePage({ params }: Props) {\r\n    const site = await prisma.cloned_sites.findFirst({\r\n        where: { slug: params.slug },\r\n        include: {\r\n            cloned_site_settings: true // Configs extras como pixel\r\n        }\r\n    })\r\n\r\n    if (!site) notFound()\r\n\r\n    // Scripts personalizados podem ser injetados aqui\r\n    // const customScripts = site.cloned_site_settings?.custom_head_scripts || ''\r\n\r\n    return (\r\n        <>\r\n            <div dangerouslySetInnerHTML={{ __html: site.edited_html || site.original_html }} />\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\header.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":39,"fix":{"range":[304,304],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":54,"fix":{"range":[359,359],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `@/components/ui/button`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":54,"fix":{"range":[61,361],"text":"import { signOut, useSession } from 'next-auth/react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/components/ui/button`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":46,"fix":{"range":[61,408],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { signOut, useSession } from 'next-auth/react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":26,"column":44,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":26,"endColumn":53,"fix":{"range":[819,874],"text":"className=\"bg-red-100 text-red-800\" variant=\"secondary\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":34,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":34,"endColumn":58,"fix":{"range":[1129,1186],"text":"className=\"relative h-8 w-8 rounded-full\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":40,"column":59,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":40,"endColumn":64,"fix":{"range":[1560,1599],"text":"forceMount align=\"end\" className=\"w-56\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":40,"column":71,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":40,"endColumn":81,"fix":{"range":[1560,1599],"text":"forceMount align=\"end\" className=\"w-56\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":9,"source":"'use client'\r\n\r\nimport { User, LogOut } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { signOut, useSession } from 'next-auth/react'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\nexport function AdminHeader() {\r\n    const { data: session } = useSession()\r\n\r\n    const handleLogout = async () => {\r\n        await signOut({ callbackUrl: '/login' })\r\n    }\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-30 flex h-16 w-full items-center justify-between border-b bg-background/95 backdrop-blur px-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <Badge variant=\"secondary\" className=\"bg-red-100 text-red-800\">\r\n                    Painel Admin\r\n                </Badge>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                <DropdownMenu>\r\n                    <DropdownMenuTrigger asChild>\r\n                        <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\r\n                            <div className=\"flex h-full w-full items-center justify-center rounded-full bg-red-100 border border-red-200\">\r\n                                <User className=\"h-4 w-4 text-red-600\" />\r\n                            </div>\r\n                        </Button>\r\n                    </DropdownMenuTrigger>\r\n                    <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\r\n                        <DropdownMenuLabel className=\"font-normal\">\r\n                            <div className=\"flex flex-col space-y-1\">\r\n                                <p className=\"text-sm font-medium leading-none\">\r\n                                    {session?.user?.name || 'Administrador'}\r\n                                </p>\r\n                                <p className=\"text-xs leading-none text-muted-foreground\">\r\n                                    {session?.user?.email}\r\n                                </p>\r\n                            </div>\r\n                        </DropdownMenuLabel>\r\n                        <DropdownMenuSeparator />\r\n                        <DropdownMenuItem\r\n                            className=\"text-red-600 cursor-pointer\"\r\n                            onClick={handleLogout}\r\n                        >\r\n                            <LogOut className=\"w-4 h-4 mr-2\" />\r\n                            Sair\r\n                        </DropdownMenuItem>\r\n                    </DropdownMenuContent>\r\n                </DropdownMenu>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\pwa\\pwa-config-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[202,202],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":31,"fix":{"range":[61,236],"text":"import { toast } from \"sonner\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":44,"fix":{"range":[16,281],"text":"import { Loader2, Key } from \"lucide-react\"\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { toast } from \"sonner\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":71,"column":15,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":71,"endColumn":23,"fix":{"range":[2319,2427],"text":"className=\"space-y-6 max-w-2xl bg-zinc-900/50 p-6 rounded-lg border border-zinc-800\" onSubmit={handleSubmit}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":74,"column":47,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":74,"endColumn":56,"fix":{"range":[2556,2597],"text":"className=\"text-white\" htmlFor=\"app_name\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":75,"column":66,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":75,"endColumn":74,"fix":{"range":[2646,2801],"text":"className=\"bg-zinc-800 border-zinc-700 text-white\" id=\"app_name\" value={config.app_name} onChange={e => setConfig({ ...config, app_name: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":78,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":78,"endColumn":58,"fix":{"range":[2902,2945],"text":"className=\"text-white\" htmlFor=\"short_name\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":79,"column":70,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":79,"endColumn":78,"fix":{"range":[2993,3154],"text":"className=\"bg-zinc-800 border-zinc-700 text-white\" id=\"short_name\" value={config.short_name} onChange={e => setConfig({ ...config, short_name: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":85,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":85,"endColumn":59,"fix":{"range":[3331,3375],"text":"className=\"text-white\" htmlFor=\"theme_color\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":87,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":87,"endColumn":47,"fix":{"range":[3475,3655],"text":"className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" id=\"theme_color\" type=\"color\" value={config.theme_color} onChange={e => setConfig({ ...config, theme_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":87,"column":89,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":87,"endColumn":97,"fix":{"range":[3475,3655],"text":"className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" id=\"theme_color\" type=\"color\" value={config.theme_color} onChange={e => setConfig({ ...config, theme_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":88,"column":59,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":88,"endColumn":67,"fix":{"range":[3691,3848],"text":"className=\"bg-zinc-800 border-zinc-700 text-white font-mono\" value={config.theme_color} onChange={e => setConfig({ ...config, theme_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":92,"column":55,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":92,"endColumn":64,"fix":{"range":[3977,4026],"text":"className=\"text-white\" htmlFor=\"background_color\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":94,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":94,"endColumn":47,"fix":{"range":[4127,4322],"text":"className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" id=\"background_color\" type=\"color\" value={config.background_color} onChange={e => setConfig({ ...config, background_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":94,"column":99,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":94,"endColumn":107,"fix":{"range":[4127,4322],"text":"className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" id=\"background_color\" type=\"color\" value={config.background_color} onChange={e => setConfig({ ...config, background_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":95,"column":64,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":95,"endColumn":72,"fix":{"range":[4358,4525],"text":"className=\"bg-zinc-800 border-zinc-700 text-white font-mono\" value={config.background_color} onChange={e => setConfig({ ...config, background_color: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":103,"column":61,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":103,"endColumn":65,"fix":{"range":[4872,4958],"text":"disabled={generating} size=\"sm\" type=\"button\" variant=\"outline\" onClick={generateKeys}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":103,"column":71,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":103,"endColumn":78,"fix":{"range":[4872,4958],"text":"disabled={generating} size=\"sm\" type=\"button\" variant=\"outline\" onClick={generateKeys}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":110,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":110,"endColumn":58,"fix":{"range":[5253,5296],"text":"className=\"text-white\" htmlFor=\"public_key\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":111,"column":82,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":111,"endColumn":90,"fix":{"range":[5344,5541],"text":"className=\"bg-zinc-800 border-zinc-700 text-white font-mono text-xs\" id=\"public_key\" value={config.vapid_public_key || ''} onChange={e => setConfig({ ...config, vapid_public_key: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":114,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":114,"endColumn":59,"fix":{"range":[5642,5686],"text":"className=\"text-white\" htmlFor=\"private_key\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":115,"column":100,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":115,"endColumn":108,"fix":{"range":[5735,5951],"text":"className=\"bg-zinc-800 border-zinc-700 text-white font-mono text-xs\" id=\"private_key\" type=\"password\" value={config.vapid_private_key || ''} onChange={e => setConfig({ ...config, vapid_private_key: e.target.value })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":119,"column":35,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":119,"endColumn":43,"fix":{"range":[6022,6126],"text":"className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\" disabled={loading} type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":119,"column":54,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":119,"endColumn":63,"fix":{"range":[6022,6126],"text":"className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\" disabled={loading} type=\"submit\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":25,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { toast } from \"sonner\"\r\nimport { Loader2, Key } from \"lucide-react\"\r\n\r\nexport function PwaConfigForm() {\r\n    const [config, setConfig] = useState({\r\n        app_name: 'AgentiVerso SaaS',\r\n        short_name: 'AgentiVerso',\r\n        theme_color: '#D4AF37',\r\n        background_color: '#000000',\r\n        vapid_public_key: '',\r\n        vapid_private_key: ''\r\n    })\r\n    const [loading, setLoading] = useState(false)\r\n    const [generating, setGenerating] = useState(false)\r\n\r\n    useEffect(() => {\r\n        fetch('/api/admin/pwa/config')\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                // Se existe config, usa. Se n├úo, usa defaults do state.\r\n                if (data && Object.keys(data).length > 0) {\r\n                    setConfig(prev => ({ ...prev, ...data }))\r\n                }\r\n            })\r\n            .catch(console.error)\r\n    }, [])\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        try {\r\n            const res = await fetch('/api/admin/pwa/config', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(config)\r\n            })\r\n            if (!res.ok) throw new Error()\r\n            toast.success('Configura├º├úo Salva!')\r\n        } catch {\r\n            toast.error('Erro ao salvar configura├º├úo')\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const generateKeys = async () => {\r\n        setGenerating(true)\r\n        try {\r\n            const res = await fetch('/api/admin/pwa/generate-keys', { method: 'POST' })\r\n            const keys = await res.json()\r\n            setConfig(prev => ({\r\n                ...prev,\r\n                vapid_public_key: keys.publicKey,\r\n                vapid_private_key: keys.privateKey\r\n            }))\r\n            toast.success('Chaves geradas! Clique em Salvar.')\r\n        } catch {\r\n            toast.error('Erro ao gerar chaves')\r\n        } finally {\r\n            setGenerating(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6 max-w-2xl bg-zinc-900/50 p-6 rounded-lg border border-zinc-800\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"app_name\" className=\"text-white\">Nome do App</Label>\r\n                    <Input id=\"app_name\" value={config.app_name} onChange={e => setConfig({ ...config, app_name: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white\" />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"short_name\" className=\"text-white\">Nome Curto</Label>\r\n                    <Input id=\"short_name\" value={config.short_name} onChange={e => setConfig({ ...config, short_name: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"theme_color\" className=\"text-white\">Cor Tema</Label>\r\n                    <div className=\"flex gap-2\">\r\n                        <Input type=\"color\" id=\"theme_color\" value={config.theme_color} onChange={e => setConfig({ ...config, theme_color: e.target.value })} className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" />\r\n                        <Input value={config.theme_color} onChange={e => setConfig({ ...config, theme_color: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white font-mono\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"background_color\" className=\"text-white\">Cor Fundo</Label>\r\n                    <div className=\"flex gap-2\">\r\n                        <Input type=\"color\" id=\"background_color\" value={config.background_color} onChange={e => setConfig({ ...config, background_color: e.target.value })} className=\"w-12 h-10 p-1 bg-zinc-800 border-zinc-700\" />\r\n                        <Input value={config.background_color} onChange={e => setConfig({ ...config, background_color: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white font-mono\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4 border-t border-zinc-800 pt-4\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <h3 className=\"text-lg font-medium text-white\">Push Notifications (VAPID)</h3>\r\n                    <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={generateKeys} disabled={generating}>\r\n                        {generating ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Key className=\"w-4 h-4 mr-2\" />}\r\n                        Gerar Chaves\r\n                    </Button>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"public_key\" className=\"text-white\">Public Key</Label>\r\n                    <Input id=\"public_key\" value={config.vapid_public_key || ''} onChange={e => setConfig({ ...config, vapid_public_key: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white font-mono text-xs\" />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"private_key\" className=\"text-white\">Private Key</Label>\r\n                    <Input id=\"private_key\" type=\"password\" value={config.vapid_private_key || ''} onChange={e => setConfig({ ...config, vapid_private_key: e.target.value })} className=\"bg-zinc-800 border-zinc-700 text-white font-mono text-xs\" />\r\n                </div>\r\n            </div>\r\n\r\n            <Button type=\"submit\" disabled={loading} className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\">\r\n                {loading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n                Salvar Configura├º├úo PWA\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\saas\\gateways-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":33,"fix":{"range":[48,48],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":97,"fix":{"range":[289,289],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/components/ui/input`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":97,"fix":{"range":[99,291],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":31,"fix":{"range":[50,323],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":39,"fix":{"range":[16,363],"text":"import { Loader2 } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[427,430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[427,430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":25,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":19},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":44,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":44,"endColumn":33,"fix":{"range":[1711,1886],"text":"placeholder=\"APP_USR-...\"\r\n                        type=\"password\"\r\n                        value={mpToken}\r\n                        onChange={e => setMpToken(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":50,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":50,"endColumn":28,"fix":{"range":[2140,2276],"text":"className=\"bg-[#D4AF37] text-black hover:bg-[#B5952F]\"\r\n                    disabled={loading}\r\n                    onClick={handleSave}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { toast } from 'sonner'\r\nimport { Loader2 } from 'lucide-react'\r\n\r\nexport function GatewaysForm({ initialData }: { initialData?: any }) {\r\n    const [loading, setLoading] = useState(false)\r\n    const [mpToken, setMpToken] = useState(initialData?.mp_access_token || '')\r\n\r\n    const handleSave = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const res = await fetch('/api/admin/saas/gateways', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ gateway: 'mercadopago', mp_access_token: mpToken })\r\n            })\r\n            if (!res.ok) throw new Error('Falha ao salvar')\r\n            toast.success('Configura├º├Áes salvas!')\r\n        } catch (e) {\r\n            toast.error('Erro ao salvar gateway')\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className=\"bg-black/40 border-white/10 backdrop-blur-sm\">\r\n            <CardHeader>\r\n                <CardTitle>Mercado Pago (Admin)</CardTitle>\r\n                <CardDescription>Configure as credenciais para receber pagamentos das assinaturas SaaS.</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                    <Label>Access Token (Produ├º├úo)</Label>\r\n                    <Input\r\n                        type=\"password\"\r\n                        value={mpToken}\r\n                        onChange={e => setMpToken(e.target.value)}\r\n                        placeholder=\"APP_USR-...\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">Este token ser├í usado para processar os pagamentos dos planos na sua conta Mercado Pago.</p>\r\n                </div>\r\n                <Button\r\n                    onClick={handleSave}\r\n                    disabled={loading}\r\n                    className=\"bg-[#D4AF37] text-black hover:bg-[#B5952F]\"\r\n                >\r\n                    {loading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n                    Salvar Credenciais\r\n                </Button>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\saas\\plan-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":33,"fix":{"range":[48,48],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":103,"fix":{"range":[344,344],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/select` import should occur before import of `@/components/ui/switch`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":103,"fix":{"range":[193,346],"text":"import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":39,"fix":{"range":[16,386],"text":"import { Loader2 } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":31,"fix":{"range":[50,418],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Loader2 } from 'lucide-react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":73,"column":15,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":73,"endColumn":23,"fix":{"range":[2163,2208],"text":"className=\"space-y-4\" onSubmit={handleSubmit}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":95,"column":39,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":95,"endColumn":43,"fix":{"range":[3016,3255],"text":"disabled={formData.is_free} min=\"0\" step=\"0.01\"\r\n                        type=\"number\"\r\n                        value={formData.preco}\r\n                        onChange={e => setFormData({ ...formData, preco: parseFloat(e.target.value) })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":95,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":95,"endColumn":54,"fix":{"range":[3016,3255],"text":"disabled={formData.is_free} min=\"0\" step=\"0.01\"\r\n                        type=\"number\"\r\n                        value={formData.preco}\r\n                        onChange={e => setFormData({ ...formData, preco: parseFloat(e.target.value) })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":97,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":97,"endColumn":33,"fix":{"range":[3016,3255],"text":"disabled={formData.is_free} min=\"0\" step=\"0.01\"\r\n                        type=\"number\"\r\n                        value={formData.preco}\r\n                        onChange={e => setFormData({ ...formData, preco: parseFloat(e.target.value) })}"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3517,3520],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3517,3520],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":122,"column":39,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":122,"endColumn":42,"fix":{"range":[4231,4422],"text":"min=\"0\" type=\"number\"\r\n                        value={formData.max_produtos || 0}\r\n                        onChange={e => setFormData({ ...formData, max_produtos: parseInt(e.target.value) })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":131,"column":39,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":131,"endColumn":42,"fix":{"range":[4711,4908],"text":"min=\"0\" type=\"number\"\r\n                        value={formData.max_pedidos_mes || 0}\r\n                        onChange={e => setFormData({ ...formData, max_pedidos_mes: parseInt(e.target.value) })}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":157,"column":39,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":157,"endColumn":47,"fix":{"range":[5933,6022],"text":"className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" disabled={isLoading} type=\"submit\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":157,"column":60,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":157,"endColumn":69,"fix":{"range":[5933,6022],"text":"className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" disabled={isLoading} type=\"submit\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":13,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Loader2 } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\ninterface PlanData {\r\n    id?: string\r\n    nome: string\r\n    descricao: string\r\n    preco: number\r\n    periodo: 'mensal' | 'anual'\r\n    max_produtos: number | null\r\n    max_pedidos_mes: number | null\r\n    is_free: boolean\r\n    ativo: boolean\r\n}\r\n\r\ninterface PlanFormProps {\r\n    initialData?: PlanData\r\n    onSuccess: () => void\r\n    onCancel: () => void\r\n}\r\n\r\nexport function PlanForm({ initialData, onSuccess, onCancel }: PlanFormProps) {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [formData, setFormData] = useState<PlanData>(initialData || {\r\n        nome: '',\r\n        descricao: '',\r\n        preco: 0,\r\n        periodo: 'mensal',\r\n        max_produtos: 10,\r\n        max_pedidos_mes: 0, // 0 = ilimitado na UI, mas podemos tratar\r\n        is_free: false,\r\n        ativo: true\r\n    })\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            const url = initialData?.id\r\n                ? `/api/admin/saas/plans/${initialData.id}`\r\n                : '/api/admin/saas/plans'\r\n\r\n            const method = initialData?.id ? 'PUT' : 'POST'\r\n\r\n            const res = await fetch(url, {\r\n                method,\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData)\r\n            })\r\n\r\n            if (!res.ok) throw new Error('Falha ao salvar plano')\r\n\r\n            toast.success(initialData ? 'Plano atualizado!' : 'Plano criado!')\r\n            onSuccess()\r\n        } catch (error) {\r\n            toast.error('Erro ao salvar plano')\r\n            console.error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"grid gap-2\">\r\n                <Label>Nome do Plano</Label>\r\n                <Input\r\n                    required\r\n                    value={formData.nome}\r\n                    onChange={e => setFormData({ ...formData, nome: e.target.value })}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid gap-2\">\r\n                <Label>Descri├º├úo</Label>\r\n                <Input\r\n                    value={formData.descricao}\r\n                    onChange={e => setFormData({ ...formData, descricao: e.target.value })}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"grid gap-2\">\r\n                    <Label>Pre├ºo (R$)</Label>\r\n                    <Input\r\n                        type=\"number\" step=\"0.01\" min=\"0\"\r\n                        value={formData.preco}\r\n                        onChange={e => setFormData({ ...formData, preco: parseFloat(e.target.value) })}\r\n                        disabled={formData.is_free}\r\n                    />\r\n                </div>\r\n                <div className=\"grid gap-2\">\r\n                    <Label>Per├¡odo</Label>\r\n                    <Select\r\n                        value={formData.periodo}\r\n                        onValueChange={(v: any) => setFormData({ ...formData, periodo: v })}\r\n                    >\r\n                        <SelectTrigger>\r\n                            <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"mensal\">Mensal</SelectItem>\r\n                            <SelectItem value=\"anual\">Anual</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"grid gap-2\">\r\n                    <Label>Max. Produtos</Label>\r\n                    <Input\r\n                        type=\"number\" min=\"0\"\r\n                        value={formData.max_produtos || 0}\r\n                        onChange={e => setFormData({ ...formData, max_produtos: parseInt(e.target.value) })}\r\n                    />\r\n                    <p className=\"text-[10px] text-muted-foreground\">0 = Ilimitado</p>\r\n                </div>\r\n                <div className=\"grid gap-2\">\r\n                    <Label>Max. Pedidos/m├¬s</Label>\r\n                    <Input\r\n                        type=\"number\" min=\"0\"\r\n                        value={formData.max_pedidos_mes || 0}\r\n                        onChange={e => setFormData({ ...formData, max_pedidos_mes: parseInt(e.target.value) })}\r\n                    />\r\n                    <p className=\"text-[10px] text-muted-foreground\">0 = Ilimitado</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between border p-3 rounded-lg\">\r\n                <Label>Plano Gratuito?</Label>\r\n                <Switch\r\n                    checked={formData.is_free}\r\n                    onCheckedChange={c => setFormData({ ...formData, is_free: c, preco: c ? 0 : formData.preco })}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between border p-3 rounded-lg\">\r\n                <Label>Ativo?</Label>\r\n                <Switch\r\n                    checked={formData.ativo}\r\n                    onCheckedChange={c => setFormData({ ...formData, ativo: c })}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-2 pt-4\">\r\n                <Button type=\"button\" variant=\"outline\" onClick={onCancel}>Cancelar</Button>\r\n                <Button type=\"submit\" disabled={isLoading} className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\">\r\n                    {isLoading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n                    Salvar\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\saas\\saas-dashboard.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[104,104],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[16,106],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/card` import should occur before import of `@/components/ui/tabs`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":97,"fix":{"range":[106,285],"text":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/switch` import should occur before import of `@/components/ui/tabs`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[106,334],"text":"import { Switch } from '@/components/ui/switch'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/tabs`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":48,"fix":{"range":[106,383],"text":"import { Button } from '@/components/ui/button'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":46,"fix":{"range":[428,428],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/label` import should occur before import of `@/components/ui/tabs`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":46,"fix":{"range":[106,430],"text":"import { Label } from '@/components/ui/label'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":81,"fix":{"range":[510,510],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":81,"fix":{"range":[16,512],"text":"import { Plus, Edit, Trash, Cloud, CreditCard, List, Check } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Cloud' is defined but never used.","line":10,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":34},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":47,"fix":{"range":[598,598],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`./gateways-form` import should occur before import of `./plan-form`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":47,"fix":{"range":[512,600],"text":"import { GatewaysForm } from './gateways-form'\r\nimport { PlanForm } from './plan-form'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":105,"fix":{"range":[704,704],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/dialog` import should occur before import of `@/components/ui/tabs`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":105,"fix":{"range":[106,706],"text":"import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Plus, Edit, Trash, Cloud, CreditCard, List, Check } from 'lucide-react'\r\nimport { PlanForm } from './plan-form'\r\nimport { GatewaysForm } from './gateways-form'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":31,"fix":{"range":[736,736],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/tabs`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":31,"fix":{"range":[106,738],"text":"import { toast } from 'sonner'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Plus, Edit, Trash, Cloud, CreditCard, List, Check } from 'lucide-react'\r\nimport { PlanForm } from './plan-form'\r\nimport { GatewaysForm } from './gateways-form'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/lib/utils` import should occur before import of `./plan-form`","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":33,"fix":{"range":[512,772],"text":"import { cn } from '@/lib/utils'\r\nimport { PlanForm } from './plan-form'\r\nimport { GatewaysForm } from './gateways-form'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":58,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":75,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2820,2823],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2820,2823],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":112,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":112,"endColumn":40,"fix":{"range":[4012,4161],"text":"checked={config.enabled}\r\n                        className=\"data-[state=checked]:bg-[#D4AF37]\"\r\n                        onCheckedChange={toggleSaas}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":121,"column":40,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":121,"endColumn":49,"fix":{"range":[4509,4548],"text":"className=\"w-full\" defaultValue=\"plans\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":123,"column":48,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":123,"endColumn":57,"fix":{"range":[4663,4752],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"plans\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":126,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":126,"endColumn":60,"fix":{"range":[4890,4982],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"gateways\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":131,"column":44,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":131,"endColumn":53,"fix":{"range":[5155,5185],"text":"className=\"mt-6\" value=\"plans\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":146,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":146,"endColumn":45,"fix":{"range":[6102,6267],"text":"initialData={editingPlan}\r\n                                    onCancel={() => setIsDialogOpen(false)}\r\n                                    onSuccess={handleSuccess}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":154,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":154,"endColumn":59,"fix":{"range":[6591,6764],"text":"className={cn(\"bg-black/40 border-white/10 backdrop-blur-sm relative overflow-hidden transition-all hover:border-[#D4AF37]/50\", !plano.ativo && \"opacity-60\")} key={plano.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":67,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":71,"fix":{"range":[8782,8884],"text":"className=\"flex-1 hover:bg-zinc-800\" size=\"sm\" variant=\"outline\" onClick={() => handleEditPlan(plano)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":77,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":86,"fix":{"range":[8782,8884],"text":"className=\"flex-1 hover:bg-zinc-800\" size=\"sm\" variant=\"outline\" onClick={() => handleEditPlan(plano)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":183,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":183,"endColumn":69,"fix":{"range":[9072,9206],"text":"className=\"text-red-500 hover:text-red-400 hover:bg-red-900/20\" size=\"icon\" variant=\"ghost\" onClick={() => handleDeletePlan(plano.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":183,"column":77,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":183,"endColumn":86,"fix":{"range":[9072,9206],"text":"className=\"text-red-500 hover:text-red-400 hover:bg-red-900/20\" size=\"icon\" variant=\"ghost\" onClick={() => handleDeletePlan(plano.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":198,"column":47,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":198,"endColumn":56,"fix":{"range":[9905,9938],"text":"className=\"mt-6\" value=\"gateways\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":32,"fixableErrorCount":0,"fixableWarningCount":28,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Plus, Edit, Trash, Cloud, CreditCard, List, Check } from 'lucide-react'\r\nimport { PlanForm } from './plan-form'\r\nimport { GatewaysForm } from './gateways-form'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { toast } from 'sonner'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface SaasConfig {\r\n    enabled: boolean\r\n}\r\n\r\ninterface SaasPlan {\r\n    id: string\r\n    nome: string\r\n    descricao: string\r\n    preco: number\r\n    periodo: string\r\n    max_produtos: number | null\r\n    max_pedidos_mes: number | null\r\n    is_free: boolean\r\n    ativo: boolean\r\n}\r\n\r\ninterface SaasDashboardProps {\r\n    initialConfig: SaasConfig\r\n    initialPlans: SaasPlan[]\r\n    initialMpGateway?: { mp_access_token: string | null }\r\n}\r\n\r\nexport function SaasDashboard({ initialConfig, initialPlans, initialMpGateway }: SaasDashboardProps) {\r\n    const router = useRouter()\r\n    const [config, setConfig] = useState(initialConfig)\r\n    const [plans, setPlans] = useState(initialPlans)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [editingPlan, setEditingPlan] = useState<SaasPlan | undefined>(undefined)\r\n\r\n    const toggleSaas = async (checked: boolean) => {\r\n        try {\r\n            const res = await fetch('/api/admin/saas/config', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ enabled: checked })\r\n            })\r\n            if (!res.ok) throw new Error('Falha')\r\n\r\n            setConfig({ ...config, enabled: checked })\r\n            toast.success(checked ? 'Modo SaaS Ativado' : 'Modo SaaS Desativado')\r\n            router.refresh()\r\n        } catch (e) {\r\n            toast.error('Erro ao atualizar configura├º├úo')\r\n        }\r\n    }\r\n\r\n    const handleDeletePlan = async (id: string) => {\r\n        if (!confirm('Tem certeza que deseja excluir este plano?')) return\r\n\r\n        try {\r\n            const res = await fetch(`/api/admin/saas/plans/${id}`, {\r\n                method: 'DELETE'\r\n            })\r\n            if (!res.ok) throw new Error('Falha')\r\n\r\n            toast.success('Plano removido')\r\n            setPlans(plans.filter(p => p.id !== id))\r\n            router.refresh()\r\n        } catch (e) {\r\n            toast.error('Erro ao remover plano')\r\n        }\r\n    }\r\n\r\n    const handleEditPlan = (plan: any) => {\r\n        const formattedPlan = {\r\n            ...plan,\r\n            periodo: plan.periodo as 'mensal' | 'anual',\r\n            max_produtos: plan.max_produtos,\r\n            max_pedidos_mes: plan.max_pedidos_mes\r\n        }\r\n        setEditingPlan(formattedPlan)\r\n        setIsDialogOpen(true)\r\n    }\r\n\r\n    const handleSuccess = () => {\r\n        setIsDialogOpen(false)\r\n        setEditingPlan(undefined)\r\n        router.refresh()\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPlans(initialPlans)\r\n    }, [initialPlans])\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex flex-col md:flex-row gap-4 items-start justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold tracking-tight text-white mb-2\">Gest├úo de Assinaturas (SaaS)</h2>\r\n                    <p className=\"text-muted-foreground\">Configure planos, pre├ºos e limites da plataforma.</p>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 bg-zinc-900 border border-zinc-800 p-2 rounded-lg\">\r\n                    <Label className=\"text-sm font-medium\">Modo SaaS:</Label>\r\n                    <Switch\r\n                        checked={config.enabled}\r\n                        onCheckedChange={toggleSaas}\r\n                        className=\"data-[state=checked]:bg-[#D4AF37]\"\r\n                    />\r\n                    <span className={cn(\"text-xs font-bold px-2 py-0.5 rounded\", config.enabled ? \"bg-green-500/20 text-green-500\" : \"bg-zinc-800 text-zinc-500\")}>\r\n                        {config.enabled ? 'ATIVO' : 'INATIVO'}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <Tabs defaultValue=\"plans\" className=\"w-full\">\r\n                <TabsList className=\"bg-black/20 border border-white/10 p-1\">\r\n                    <TabsTrigger value=\"plans\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <List className=\"w-4 h-4 mr-2\" /> Planos\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"gateways\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <CreditCard className=\"w-4 h-4 mr-2\" /> Gateways\r\n                    </TabsTrigger>\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"plans\" className=\"mt-6\">\r\n                    <div className=\"flex justify-end mb-4\">\r\n                        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                            <DialogTrigger asChild>\r\n                                <Button className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" onClick={() => setEditingPlan(undefined)}>\r\n                                    <Plus className=\"w-4 h-4 mr-2\" /> Novo Plano\r\n                                </Button>\r\n                            </DialogTrigger>\r\n                            <DialogContent className=\"sm:max-w-[500px] border-zinc-800 bg-zinc-950 text-white\">\r\n                                <DialogHeader>\r\n                                    <DialogTitle>{editingPlan ? 'Editar Plano' : 'Criar Novo Plano'}</DialogTitle>\r\n                                </DialogHeader>\r\n                                <PlanForm\r\n                                    initialData={editingPlan}\r\n                                    onSuccess={handleSuccess}\r\n                                    onCancel={() => setIsDialogOpen(false)}\r\n                                />\r\n                            </DialogContent>\r\n                        </Dialog>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                        {plans.map((plano) => (\r\n                            <Card key={plano.id} className={cn(\"bg-black/40 border-white/10 backdrop-blur-sm relative overflow-hidden transition-all hover:border-[#D4AF37]/50\", !plano.ativo && \"opacity-60\")}>\r\n                                {plano.is_free && (\r\n                                    <div className=\"absolute top-0 right-0 bg-green-500 text-black text-[10px] font-bold px-2 py-1 rounded-bl-lg\">\r\n                                        GR├üTIS\r\n                                    </div>\r\n                                )}\r\n                                <CardHeader className=\"pb-3\">\r\n                                    <CardTitle className=\"text-xl flex justify-between items-center text-gradient-gold\">\r\n                                        {plano.nome}\r\n                                        <span className=\"text-sm font-normal text-muted-foreground\">R$ {Number(plano.preco).toFixed(2)}/{plano.periodo === 'mensal' ? 'm├¬s' : 'ano'}</span>\r\n                                    </CardTitle>\r\n                                    <CardDescription>{plano.descricao || 'Sem descri├º├úo'}</CardDescription>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <ul className=\"space-y-2 text-sm text-zinc-300 mb-6\">\r\n                                        <li className=\"flex items-center gap-2\">\r\n                                            <Check className=\"w-4 h-4 text-[#D4AF37]\" />\r\n                                            {plano.max_produtos === 0 || !plano.max_produtos ? 'Produtos Ilimitados' : `${plano.max_produtos} Produtos`}\r\n                                        </li>\r\n                                        <li className=\"flex items-center gap-2\">\r\n                                            <Check className=\"w-4 h-4 text-[#D4AF37]\" />\r\n                                            {plano.max_pedidos_mes === 0 || !plano.max_pedidos_mes ? 'Vendas Ilimitadas' : `${plano.max_pedidos_mes} Vendas/m├¬s`}\r\n                                        </li>\r\n                                    </ul>\r\n\r\n                                    <div className=\"flex gap-2\">\r\n                                        <Button variant=\"outline\" size=\"sm\" className=\"flex-1 hover:bg-zinc-800\" onClick={() => handleEditPlan(plano)}>\r\n                                            <Edit className=\"w-4 h-4 mr-2\" /> Editar\r\n                                        </Button>\r\n                                        <Button variant=\"ghost\" size=\"icon\" className=\"text-red-500 hover:text-red-400 hover:bg-red-900/20\" onClick={() => handleDeletePlan(plano.id)}>\r\n                                            <Trash className=\"w-4 h-4\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                        {plans.length === 0 && (\r\n                            <div className=\"col-span-full py-10 text-center text-muted-foreground border border-dashed border-zinc-800 rounded-lg\">\r\n                                Nenhum plano cadastrado.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"gateways\" className=\"mt-6\">\r\n                    <GatewaysForm initialData={initialMpGateway} />\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\settings-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[93,93],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[16,95],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":48,"fix":{"range":[95,242],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":48,"fix":{"range":[383,383],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":90,"fix":{"range":[16,476],"text":"import { Globe, Mail, Shield, AlertTriangle, Palette, Loader2, Save } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":10,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":29},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":31,"fix":{"range":[506,506],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/card`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":31,"fix":{"range":[95,508],"text":"import { toast } from 'sonner'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Globe, Mail, Shield, AlertTriangle, Palette, Loader2, Save } from 'lucide-react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":58,"column":42,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":58,"endColumn":51,"fix":{"range":[2076,2117],"text":"className=\"w-full\" defaultValue=\"general\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":60,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":60,"endColumn":59,"fix":{"range":[2232,2323],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"general\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":63,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":63,"endColumn":58,"fix":{"range":[2461,2551],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"visual\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":66,"column":48,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":66,"endColumn":57,"fix":{"range":[2692,2781],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"email\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":69,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":69,"endColumn":58,"fix":{"range":[2925,3015],"text":"className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\" value=\"banner\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":87,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":87,"endColumn":49,"fix":{"range":[3918,4228],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"Ex: AgentiVerso\"\r\n                                        value={settings.system_name || ''}\r\n                                        onChange={e => handleChange('system_name', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":96,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":96,"endColumn":49,"fix":{"range":[4523,4839],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"https://seu-dominio.com\"\r\n                                        value={settings.system_url || ''}\r\n                                        onChange={e => handleChange('system_url', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":105,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":105,"endColumn":49,"fix":{"range":[5138,5457],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\" | AgentiVerso\"\r\n                                        value={settings.seo_title_suffix || ''}\r\n                                        onChange={e => handleChange('seo_title_suffix', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":126,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":126,"endColumn":49,"fix":{"range":[6368,6687],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"/logo.png ou https://...\"\r\n                                        value={settings.system_logo || ''}\r\n                                        onChange={e => handleChange('system_logo', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":136,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":136,"endColumn":53,"fix":{"range":[7060,7391],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                            placeholder=\"#D4AF37\"\r\n                                            value={settings.ui_primary_color || '#D4AF37'}\r\n                                            onChange={e => handleChange('ui_primary_color', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":164,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":164,"endColumn":53,"fix":{"range":[8927,9245],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                            placeholder=\"smtp.resend.com\"\r\n                                            value={settings.smtp_host || ''}\r\n                                            onChange={e => handleChange('smtp_host', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":173,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":173,"endColumn":53,"fix":{"range":[9555,9861],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                            placeholder=\"465\"\r\n                                            value={settings.smtp_port || ''}\r\n                                            onChange={e => handleChange('smtp_port', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":183,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":183,"endColumn":49,"fix":{"range":[10197,10432],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        value={settings.smtp_user || ''}\r\n                                        onChange={e => handleChange('smtp_user', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":192,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":192,"endColumn":49,"fix":{"range":[10718,11010],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        type=\"password\"\r\n                                        value={settings.smtp_pass || ''}\r\n                                        onChange={e => handleChange('smtp_pass', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":200,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":200,"endColumn":49,"fix":{"range":[11314,11632],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"nao-responda@agentiverso.Qw\"\r\n                                        value={settings.smtp_from || ''}\r\n                                        onChange={e => handleChange('smtp_from', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":232,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":232,"endColumn":49,"fix":{"range":[13347,13675],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"Ex: Manuten├º├úo programada para...\"\r\n                                        value={settings.banner_text || ''}\r\n                                        onChange={e => handleChange('banner_text', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":242,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":242,"endColumn":49,"fix":{"range":[13995,14330],"text":"className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        placeholder=\"Ex: bg-red-600 ou #FF0000\"\r\n                                        value={settings.banner_color || 'bg-yellow-600'}\r\n                                        onChange={e => handleChange('banner_color', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":256,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":256,"endColumn":28,"fix":{"range":[14826,14990],"text":"className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold min-w-[150px]\"\r\n                    disabled={isLoading}\r\n                    onClick={saveSettings}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":25,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Globe, Mail, Shield, AlertTriangle, Palette, Loader2, Save } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n\r\ninterface SettingsFormProps {\r\n    initialSettings: Record<string, string | null>\r\n}\r\n\r\nexport function SettingsForm({ initialSettings }: SettingsFormProps) {\r\n    const router = useRouter()\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [settings, setSettings] = useState(initialSettings)\r\n\r\n    const handleChange = (key: string, value: string) => {\r\n        setSettings(prev => ({ ...prev, [key]: value }))\r\n    }\r\n\r\n    const handleSwitchChange = (key: string, checked: boolean) => {\r\n        setSettings(prev => ({ ...prev, [key]: checked ? 'true' : 'false' }))\r\n    }\r\n\r\n    const saveSettings = async () => {\r\n        setIsLoading(true)\r\n        try {\r\n            const res = await fetch('/api/admin/settings', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(settings)\r\n            })\r\n\r\n            if (!res.ok) throw new Error('Falha ao salvar')\r\n\r\n            toast.success('Configura├º├Áes atualizadas', {\r\n                description: 'Todas as altera├º├Áes foram salvas com sucesso.'\r\n            })\r\n            router.refresh()\r\n        } catch (error) {\r\n            console.error(error)\r\n            toast.error('Erro ao salvar', {\r\n                description: 'Verifique os dados e tente novamente.'\r\n            })\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Tabs defaultValue=\"general\" className=\"w-full\">\r\n                <TabsList className=\"bg-black/20 border border-white/10 p-1\">\r\n                    <TabsTrigger value=\"general\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <Globe className=\"w-4 h-4 mr-2\" /> Geral\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"visual\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <Palette className=\"w-4 h-4 mr-2\" /> Visual\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"email\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <Mail className=\"w-4 h-4 mr-2\" /> Email (SMTP)\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"banner\" className=\"data-[state=active]:bg-[#D4AF37] data-[state=active]:text-black\">\r\n                        <AlertTriangle className=\"w-4 h-4 mr-2\" /> Banner\r\n                    </TabsTrigger>\r\n                </TabsList>\r\n\r\n                <div className=\"mt-6\">\r\n                    {/* ABA GERAL */}\r\n                    <TabsContent value=\"general\">\r\n                        <Card className=\"bg-black/40 border-white/10 backdrop-blur-sm\">\r\n                            <CardHeader>\r\n                                <CardTitle>Informa├º├Áes Gerais</CardTitle>\r\n                                <CardDescription>Detalhes b├ísicos da plataforma.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Nome do Sistema</Label>\r\n                                    <Input\r\n                                        value={settings.system_name || ''}\r\n                                        onChange={e => handleChange('system_name', e.target.value)}\r\n                                        placeholder=\"Ex: AgentiVerso\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>URL do Sistema</Label>\r\n                                    <Input\r\n                                        value={settings.system_url || ''}\r\n                                        onChange={e => handleChange('system_url', e.target.value)}\r\n                                        placeholder=\"https://seu-dominio.com\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Sufixo SEO (Title)</Label>\r\n                                    <Input\r\n                                        value={settings.seo_title_suffix || ''}\r\n                                        onChange={e => handleChange('seo_title_suffix', e.target.value)}\r\n                                        placeholder=\" | AgentiVerso\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n\r\n                    {/* ABA VISUAL */}\r\n                    <TabsContent value=\"visual\">\r\n                        <Card className=\"bg-black/40 border-white/10 backdrop-blur-sm\">\r\n                            <CardHeader>\r\n                                <CardTitle>Identidade Visual</CardTitle>\r\n                                <CardDescription>Personalize a apar├¬ncia do sistema.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Logo URL</Label>\r\n                                    <Input\r\n                                        value={settings.system_logo || ''}\r\n                                        onChange={e => handleChange('system_logo', e.target.value)}\r\n                                        placeholder=\"/logo.png ou https://...\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Cor Prim├íria (Hex)</Label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <Input\r\n                                            value={settings.ui_primary_color || '#D4AF37'}\r\n                                            onChange={e => handleChange('ui_primary_color', e.target.value)}\r\n                                            placeholder=\"#D4AF37\"\r\n                                            className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        />\r\n                                        <div\r\n                                            className=\"w-10 h-10 rounded border border-white/20\"\r\n                                            style={{ backgroundColor: settings.ui_primary_color || '#D4AF37' }}\r\n                                        />\r\n                                    </div>\r\n                                    <p className=\"text-xs text-muted-foreground\">Nota: O tema atual for├ºa paleta Dourada/Preta, mas isso pode ser usado em elementos din├ómicos.</p>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n\r\n                    {/* ABA EMAIL */}\r\n                    <TabsContent value=\"email\">\r\n                        <Card className=\"bg-black/40 border-white/10 backdrop-blur-sm\">\r\n                            <CardHeader>\r\n                                <CardTitle>Configura├º├úo SMTP</CardTitle>\r\n                                <CardDescription>Usado para envio de emails transacionais.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div className=\"grid gap-2\">\r\n                                        <Label>Host SMTP</Label>\r\n                                        <Input\r\n                                            value={settings.smtp_host || ''}\r\n                                            onChange={e => handleChange('smtp_host', e.target.value)}\r\n                                            placeholder=\"smtp.resend.com\"\r\n                                            className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"grid gap-2\">\r\n                                        <Label>Porta</Label>\r\n                                        <Input\r\n                                            value={settings.smtp_port || ''}\r\n                                            onChange={e => handleChange('smtp_port', e.target.value)}\r\n                                            placeholder=\"465\"\r\n                                            className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Usu├írio</Label>\r\n                                    <Input\r\n                                        value={settings.smtp_user || ''}\r\n                                        onChange={e => handleChange('smtp_user', e.target.value)}\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Senha</Label>\r\n                                    <Input\r\n                                        type=\"password\"\r\n                                        value={settings.smtp_pass || ''}\r\n                                        onChange={e => handleChange('smtp_pass', e.target.value)}\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Remetente Padr├úo (From)</Label>\r\n                                    <Input\r\n                                        value={settings.smtp_from || ''}\r\n                                        onChange={e => handleChange('smtp_from', e.target.value)}\r\n                                        placeholder=\"nao-responda@agentiverso.Qw\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n\r\n                    {/* ABA BANNER */}\r\n                    <TabsContent value=\"banner\">\r\n                        <Card className=\"bg-black/40 border-white/10 backdrop-blur-sm\">\r\n                            <CardHeader>\r\n                                <CardTitle>Banner de Aviso</CardTitle>\r\n                                <CardDescription>Exibe um aviso no topo de todas as p├íginas.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"flex items-center justify-between p-4 border border-white/10 rounded-lg bg-black/20\">\r\n                                    <div className=\"space-y-0.5\">\r\n                                        <Label className=\"text-base\">Ativar Banner</Label>\r\n                                        <p className=\"text-sm text-muted-foreground\">O banner ser├í vis├¡vel para todos os usu├írios.</p>\r\n                                    </div>\r\n                                    <Switch\r\n                                        checked={settings.banner_active === 'true'}\r\n                                        onCheckedChange={(c) => handleSwitchChange('banner_active', c)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Texto do Banner</Label>\r\n                                    <Input\r\n                                        value={settings.banner_text || ''}\r\n                                        onChange={e => handleChange('banner_text', e.target.value)}\r\n                                        placeholder=\"Ex: Manuten├º├úo programada para...\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label>Cor de Fundo (Classe Tailwind ou Hex)</Label>\r\n                                    <Input\r\n                                        value={settings.banner_color || 'bg-yellow-600'}\r\n                                        onChange={e => handleChange('banner_color', e.target.value)}\r\n                                        placeholder=\"Ex: bg-red-600 ou #FF0000\"\r\n                                        className=\"bg-black/20 border-white/10 focus:border-[#D4AF37]\"\r\n                                    />\r\n                                    <p className=\"text-xs text-muted-foreground\">Recomendado usar classes do Tailwind como `bg-primary`, `bg-red-600`.</p>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n                </div>\r\n            </Tabs>\r\n\r\n            <div className=\"flex justify-end pt-4\">\r\n                <Button\r\n                    onClick={saveSettings}\r\n                    disabled={isLoading}\r\n                    className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold min-w-[150px]\"\r\n                >\r\n                    {isLoading ? (\r\n                        <>\r\n                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                            Salvando...\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Save className=\"mr-2 h-4 w-4\" />\r\n                            Salvar Altera├º├Áes\r\n                        </>\r\n                    )}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\admin\\sidebar.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":96,"fix":{"range":[188,188],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next/link`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":96,"fix":{"range":[16,190],"text":"import { Bot, Users, Package, Settings, LogOut, Shield, Cloud, Smartphone } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[271,271],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/utils`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[190,273],"text":"import { Button } from '@/components/ui/button'\r\nimport { cn } from '@/lib/utils'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `@/lib/utils`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":42,"fix":{"range":[190,316],"text":"import { signOut } from 'next-auth/react'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":29,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":29,"endColumn":46,"fix":{"range":[1121,1188],"text":"className=\"flex items-center gap-2 font-bold text-xl\" href=\"/admin\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":47,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":47,"endColumn":37,"fix":{"range":[2132,2512],"text":"className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                                href={item.href}\r\n                                key={item.href}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":48,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":48,"endColumn":42,"fix":{"range":[2132,2512],"text":"className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                                href={item.href}\r\n                                key={item.href}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":66,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":66,"endColumn":30,"fix":{"range":[2902,3073],"text":"className=\"w-full justify-start gap-3 text-red-500 hover:text-red-400 hover:bg-red-500/10\"\r\n                    variant=\"ghost\"\r\n                    onClick={handleLogout}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":9,"source":"'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { Bot, Users, Package, Settings, LogOut, Shield, Cloud, Smartphone } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\nimport { signOut } from 'next-auth/react'\r\n\r\nconst menuItems = [\r\n    { icon: Shield, label: 'Vis├úo Geral', href: '/admin' },\r\n    { icon: Cloud, label: 'SaaS', href: '/admin/saas' },\r\n    { icon: Smartphone, label: 'App / PWA', href: '/admin/pwa' },\r\n    { icon: Users, label: 'Usu├írios', href: '/admin/users' },\r\n    { icon: Package, label: 'Produtos', href: '/admin/products' },\r\n    { icon: Settings, label: 'Configura├º├Áes', href: '/admin/settings' },\r\n]\r\n\r\nexport function AdminSidebar() {\r\n    const pathname = usePathname()\r\n\r\n    const handleLogout = async () => {\r\n        await signOut({ callbackUrl: '/login' })\r\n    }\r\n\r\n    return (\r\n        <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 sidebar-glass hidden md:flex flex-col\">\r\n            <div className=\"flex h-16 items-center sidebar-header px-6\">\r\n                <Link href=\"/admin\" className=\"flex items-center gap-2 font-bold text-xl\">\r\n                    <div className=\"relative flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-[#D4AF37] to-[#F6D764]\">\r\n                        <Bot className=\"w-5 h-5 text-black\" />\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"text-gradient-gold block leading-none\">AgentiVerso</span>\r\n                        <span className=\"text-[10px] text-muted-foreground uppercase tracking-widest\">Admin</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto py-6 px-4\">\r\n                <nav className=\"space-y-1\">\r\n                    {menuItems.map((item) => {\r\n                        const isActive = pathname === item.href || (item.href !== '/admin' && pathname.startsWith(item.href))\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                            >\r\n                                <item.icon className=\"w-5 h-5\" />\r\n                                {item.label}\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </nav>\r\n            </div>\r\n\r\n            <div className=\"border-t border-[#D4AF37]/20 p-4\">\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    className=\"w-full justify-start gap-3 text-red-500 hover:text-red-400 hover:bg-red-500/10\"\r\n                    onClick={handleLogout}\r\n                >\r\n                    <LogOut className=\"w-5 h-5\" />\r\n                    Sair\r\n                </Button>\r\n            </div>\r\n        </aside>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\address-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[120,120],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[16,122],"text":"import { MapPin, Loader2 } from 'lucide-react'\r\nimport { useState, useCallback, useEffect } from 'react'\r\n"}},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'data' and 'onChange'. Either include them or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":79,"column":8,"nodeType":"ArrayExpression","endLine":79,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [data, data.cep, onChange]","fix":{"range":[2546,2556],"text":"[data, data.cep, onChange]"}}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":98,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":98,"endColumn":40,"fix":{"range":[3333,3755],"text":"className={`pl-10 ${cepError || errors.cep ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cep\"\r\n                            maxLength={9}\r\n                            placeholder=\"00000-000\"\r\n                            type=\"text\"\r\n                            value={data.cep}\r\n                            onChange={(e) => handleChange('cep', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":100,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":100,"endColumn":37,"fix":{"range":[3333,3755],"text":"className={`pl-10 ${cepError || errors.cep ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cep\"\r\n                            maxLength={9}\r\n                            placeholder=\"00000-000\"\r\n                            type=\"text\"\r\n                            value={data.cep}\r\n                            onChange={(e) => handleChange('cep', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":121,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":121,"endColumn":40,"fix":{"range":[4534,4927],"text":"className={errors.street ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"street\"\r\n                            placeholder=\"Rua, Avenida, etc.\"\r\n                            type=\"text\"\r\n                            value={data.street}\r\n                            onChange={(e) => handleChange('street', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":123,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":123,"endColumn":37,"fix":{"range":[4534,4927],"text":"className={errors.street ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"street\"\r\n                            placeholder=\"Rua, Avenida, etc.\"\r\n                            type=\"text\"\r\n                            value={data.street}\r\n                            onChange={(e) => handleChange('street', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":137,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":137,"endColumn":40,"fix":{"range":[5336,5698],"text":"className={errors.number ? 'border-red-500' : ''}\r\n                            disabled={disabled}\r\n                            id=\"number\"\r\n                            placeholder=\"123\"\r\n                            type=\"text\"\r\n                            value={data.number}\r\n                            onChange={(e) => handleChange('number', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":139,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":139,"endColumn":37,"fix":{"range":[5336,5698],"text":"className={errors.number ? 'border-red-500' : ''}\r\n                            disabled={disabled}\r\n                            id=\"number\"\r\n                            placeholder=\"123\"\r\n                            type=\"text\"\r\n                            value={data.number}\r\n                            onChange={(e) => handleChange('number', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":156,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":156,"endColumn":40,"fix":{"range":[6241,6550],"text":"disabled={disabled}\r\n                            id=\"complement\"\r\n                            placeholder=\"Apto, Bloco, etc.\"\r\n                            type=\"text\"\r\n                            value={data.complement}\r\n                            onChange={(e) => handleChange('complement', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":158,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":158,"endColumn":37,"fix":{"range":[6241,6550],"text":"disabled={disabled}\r\n                            id=\"complement\"\r\n                            placeholder=\"Apto, Bloco, etc.\"\r\n                            type=\"text\"\r\n                            value={data.complement}\r\n                            onChange={(e) => handleChange('complement', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":168,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":168,"endColumn":40,"fix":{"range":[6807,7212],"text":"className={errors.neighborhood ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"neighborhood\"\r\n                            placeholder=\"Bairro\"\r\n                            type=\"text\"\r\n                            value={data.neighborhood}\r\n                            onChange={(e) => handleChange('neighborhood', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":170,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":170,"endColumn":37,"fix":{"range":[6807,7212],"text":"className={errors.neighborhood ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"neighborhood\"\r\n                            placeholder=\"Bairro\"\r\n                            type=\"text\"\r\n                            value={data.neighborhood}\r\n                            onChange={(e) => handleChange('neighborhood', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":187,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":187,"endColumn":40,"fix":{"range":[7783,8156],"text":"className={errors.city ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"city\"\r\n                            placeholder=\"Cidade\"\r\n                            type=\"text\"\r\n                            value={data.city}\r\n                            onChange={(e) => handleChange('city', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":189,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":189,"endColumn":37,"fix":{"range":[7783,8156],"text":"className={errors.city ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"city\"\r\n                            placeholder=\"Cidade\"\r\n                            type=\"text\"\r\n                            value={data.city}\r\n                            onChange={(e) => handleChange('city', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":203,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":203,"endColumn":40,"fix":{"range":[8560,8976],"text":"className={errors.state ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"state\"\r\n                            maxLength={2}\r\n                            placeholder=\"SP\"\r\n                            type=\"text\"\r\n                            value={data.state}\r\n                            onChange={(e) => handleChange('state', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":205,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":205,"endColumn":37,"fix":{"range":[8560,8976],"text":"className={errors.state ? 'border-red-500' : ''}\r\n                            disabled={disabled || isLoadingCep}\r\n                            id=\"state\"\r\n                            maxLength={2}\r\n                            placeholder=\"SP\"\r\n                            type=\"text\"\r\n                            value={data.state}\r\n                            onChange={(e) => handleChange('state', e.target.value)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":16,"source":"'use client'\r\n\r\nimport { useState, useCallback, useEffect } from 'react'\r\nimport { MapPin, Loader2 } from 'lucide-react'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { formatCEP, fetchAddressByCEP } from '@/lib/utils'\r\n\r\nexport interface AddressData {\r\n    cep: string\r\n    street: string\r\n    number: string\r\n    complement: string\r\n    neighborhood: string\r\n    city: string\r\n    state: string\r\n}\r\n\r\ninterface AddressFormProps {\r\n    data: AddressData\r\n    onChange: (data: AddressData) => void\r\n    errors?: Partial<Record<keyof AddressData, string>>\r\n    disabled?: boolean\r\n    required?: boolean\r\n}\r\n\r\nexport function AddressForm({\r\n    data,\r\n    onChange,\r\n    errors = {},\r\n    disabled = false,\r\n    required = false\r\n}: AddressFormProps) {\r\n    const [isLoadingCep, setIsLoadingCep] = useState(false)\r\n    const [cepError, setCepError] = useState<string | null>(null)\r\n\r\n    const handleChange = useCallback((field: keyof AddressData, value: string) => {\r\n        let formattedValue = value\r\n\r\n        if (field === 'cep') {\r\n            formattedValue = formatCEP(value)\r\n        } else if (field === 'state') {\r\n            formattedValue = value.toUpperCase().slice(0, 2)\r\n        }\r\n\r\n        onChange({ ...data, [field]: formattedValue })\r\n    }, [data, onChange])\r\n\r\n    // Buscar endere├ºo automaticamente quando CEP tiver 9 caracteres (00000-000)\r\n    useEffect(() => {\r\n        const cepDigits = data.cep.replace(/\\D/g, '')\r\n\r\n        if (cepDigits.length === 8) {\r\n            setIsLoadingCep(true)\r\n            setCepError(null)\r\n\r\n            fetchAddressByCEP(cepDigits)\r\n                .then((address) => {\r\n                    if (address) {\r\n                        onChange({\r\n                            ...data,\r\n                            street: address.logradouro || data.street,\r\n                            neighborhood: address.bairro || data.neighborhood,\r\n                            city: address.localidade || data.city,\r\n                            state: address.uf || data.state,\r\n                            complement: address.complemento || data.complement,\r\n                        })\r\n                    } else {\r\n                        setCepError('CEP n├úo encontrado')\r\n                    }\r\n                })\r\n                .catch(() => {\r\n                    setCepError('Erro ao buscar CEP')\r\n                })\r\n                .finally(() => {\r\n                    setIsLoadingCep(false)\r\n                })\r\n        }\r\n    }, [data.cep])\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                <MapPin className=\"w-5 h-5\" />\r\n                Endere├ºo de Entrega\r\n                {!required && <span className=\"text-sm font-normal text-gray-500\">(opcional)</span>}\r\n            </h3>\r\n\r\n            <div className=\"grid gap-4\">\r\n                {/* CEP */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"cep\">CEP {required && '*'}</Label>\r\n                    <div className=\"relative\">\r\n                        <MapPin className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            id=\"cep\"\r\n                            type=\"text\"\r\n                            placeholder=\"00000-000\"\r\n                            value={data.cep}\r\n                            onChange={(e) => handleChange('cep', e.target.value)}\r\n                            disabled={disabled}\r\n                            maxLength={9}\r\n                            className={`pl-10 ${cepError || errors.cep ? 'border-red-500' : ''}`}\r\n                        />\r\n                        {isLoadingCep && (\r\n                            <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400\" />\r\n                        )}\r\n                    </div>\r\n                    {(cepError || errors.cep) && (\r\n                        <p className=\"text-sm text-red-500\">{cepError || errors.cep}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Logradouro e N├║mero */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"md:col-span-2 space-y-2\">\r\n                        <Label htmlFor=\"street\">Logradouro {required && '*'}</Label>\r\n                        <Input\r\n                            id=\"street\"\r\n                            type=\"text\"\r\n                            placeholder=\"Rua, Avenida, etc.\"\r\n                            value={data.street}\r\n                            onChange={(e) => handleChange('street', e.target.value)}\r\n                            disabled={disabled || isLoadingCep}\r\n                            className={errors.street ? 'border-red-500' : ''}\r\n                        />\r\n                        {errors.street && (\r\n                            <p className=\"text-sm text-red-500\">{errors.street}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"number\">N├║mero {required && '*'}</Label>\r\n                        <Input\r\n                            id=\"number\"\r\n                            type=\"text\"\r\n                            placeholder=\"123\"\r\n                            value={data.number}\r\n                            onChange={(e) => handleChange('number', e.target.value)}\r\n                            disabled={disabled}\r\n                            className={errors.number ? 'border-red-500' : ''}\r\n                        />\r\n                        {errors.number && (\r\n                            <p className=\"text-sm text-red-500\">{errors.number}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Complemento e Bairro */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"complement\">Complemento</Label>\r\n                        <Input\r\n                            id=\"complement\"\r\n                            type=\"text\"\r\n                            placeholder=\"Apto, Bloco, etc.\"\r\n                            value={data.complement}\r\n                            onChange={(e) => handleChange('complement', e.target.value)}\r\n                            disabled={disabled}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"neighborhood\">Bairro {required && '*'}</Label>\r\n                        <Input\r\n                            id=\"neighborhood\"\r\n                            type=\"text\"\r\n                            placeholder=\"Bairro\"\r\n                            value={data.neighborhood}\r\n                            onChange={(e) => handleChange('neighborhood', e.target.value)}\r\n                            disabled={disabled || isLoadingCep}\r\n                            className={errors.neighborhood ? 'border-red-500' : ''}\r\n                        />\r\n                        {errors.neighborhood && (\r\n                            <p className=\"text-sm text-red-500\">{errors.neighborhood}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Cidade e Estado */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"md:col-span-2 space-y-2\">\r\n                        <Label htmlFor=\"city\">Cidade {required && '*'}</Label>\r\n                        <Input\r\n                            id=\"city\"\r\n                            type=\"text\"\r\n                            placeholder=\"Cidade\"\r\n                            value={data.city}\r\n                            onChange={(e) => handleChange('city', e.target.value)}\r\n                            disabled={disabled || isLoadingCep}\r\n                            className={errors.city ? 'border-red-500' : ''}\r\n                        />\r\n                        {errors.city && (\r\n                            <p className=\"text-sm text-red-500\">{errors.city}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"state\">Estado {required && '*'}</Label>\r\n                        <Input\r\n                            id=\"state\"\r\n                            type=\"text\"\r\n                            placeholder=\"SP\"\r\n                            value={data.state}\r\n                            onChange={(e) => handleChange('state', e.target.value)}\r\n                            disabled={disabled || isLoadingCep}\r\n                            maxLength={2}\r\n                            className={errors.state ? 'border-red-500' : ''}\r\n                        />\r\n                        {errors.state && (\r\n                            <p className=\"text-sm text-red-500\">{errors.state}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\back-redirect.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":52,"fix":{"range":[120,120],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":52,"fix":{"range":[16,122],"text":"import { X, Gift, AlertCircle } from 'lucide-react'\r\nimport { useEffect, useRef, useState } from 'react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":89,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":89,"endColumn":28,"fix":{"range":[2783,2899],"text":"className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10\"\r\n                    onClick={handleClose}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":113,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":113,"endColumn":36,"fix":{"range":[3860,4040],"text":"className=\"w-full py-6 text-lg font-bold bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\"\r\n                            onClick={handleStay}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":121,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":121,"endColumn":36,"fix":{"range":[4277,4391],"text":"className=\"text-sm text-gray-500 hover:text-gray-700 underline\"\r\n                            onClick={handleClose}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":5,"source":"'use client'\r\n\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { X, Gift, AlertCircle } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface BackRedirectProps {\r\n    message: string\r\n    enabled?: boolean\r\n    onClose?: () => void\r\n}\r\n\r\nexport function BackRedirect({\r\n    message,\r\n    enabled = true,\r\n    onClose\r\n}: BackRedirectProps) {\r\n    const [isVisible, setIsVisible] = useState(false)\r\n    const hasTriggered = useRef(false)\r\n\r\n    useEffect(() => {\r\n        if (!enabled) return\r\n\r\n        const handleBeforeUnload = (e: BeforeUnloadEvent) => {\r\n            if (hasTriggered.current) return\r\n\r\n            // Mostrar modal em vez de sair\r\n            e.preventDefault()\r\n            e.returnValue = ''\r\n            return ''\r\n        }\r\n\r\n        const handleMouseLeave = (e: MouseEvent) => {\r\n            if (hasTriggered.current) return\r\n\r\n            // Detectar inten├º├úo de sair (mouse no topo da tela)\r\n            if (e.clientY <= 0) {\r\n                hasTriggered.current = true\r\n                setIsVisible(true)\r\n            }\r\n        }\r\n\r\n        // Para mobile: detectar tentativa de voltar usando history\r\n        const handlePopState = () => {\r\n            if (hasTriggered.current) return\r\n\r\n            hasTriggered.current = true\r\n            // Voltar para a p├ígina para que o modal apare├ºa\r\n            window.history.pushState(null, '', window.location.href)\r\n            setIsVisible(true)\r\n        }\r\n\r\n        // Adicionar estado inicial para detectar back\r\n        window.history.pushState(null, '', window.location.href)\r\n\r\n        document.addEventListener('mouseleave', handleMouseLeave)\r\n        window.addEventListener('beforeunload', handleBeforeUnload)\r\n        window.addEventListener('popstate', handlePopState)\r\n\r\n        return () => {\r\n            document.removeEventListener('mouseleave', handleMouseLeave)\r\n            window.removeEventListener('beforeunload', handleBeforeUnload)\r\n            window.removeEventListener('popstate', handlePopState)\r\n        }\r\n    }, [enabled])\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false)\r\n        onClose?.()\r\n    }\r\n\r\n    const handleStay = () => {\r\n        setIsVisible(false)\r\n    }\r\n\r\n    if (!isVisible) return null\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in\">\r\n            <div\r\n                className={cn(\r\n                    'relative w-full max-w-md mx-4 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden',\r\n                    'animate-slide-in-right'\r\n                )}\r\n            >\r\n                {/* Close button */}\r\n                <button\r\n                    onClick={handleClose}\r\n                    className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10\"\r\n                >\r\n                    <X className=\"w-6 h-6\" />\r\n                </button>\r\n\r\n                {/* Header gradient */}\r\n                <div className=\"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-center\">\r\n                    <div className=\"w-16 h-16 mx-auto bg-white rounded-full flex items-center justify-center mb-4\">\r\n                        <AlertCircle className=\"w-10 h-10 text-orange-500\" />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold text-white\">\r\n                        Espere!\r\n                    </h2>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6 text-center\">\r\n                    <p className=\"text-lg text-gray-700 dark:text-gray-300 mb-6\">\r\n                        {message}\r\n                    </p>\r\n\r\n                    <div className=\"flex flex-col gap-3\">\r\n                        <Button\r\n                            onClick={handleStay}\r\n                            className=\"w-full py-6 text-lg font-bold bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\"\r\n                        >\r\n                            <Gift className=\"mr-2 h-5 w-5\" />\r\n                            Quero Aproveitar!\r\n                        </Button>\r\n\r\n                        <button\r\n                            onClick={handleClose}\r\n                            className=\"text-sm text-gray-500 hover:text-gray-700 underline\"\r\n                        >\r\n                            N├úo, quero sair mesmo assim\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\banner-carousel.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/image` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":31,"fix":{"range":[16,106],"text":"import Image from 'next/image'\r\nimport { useState, useEffect, useCallback } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":57,"fix":{"range":[162,162],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":57,"fix":{"range":[16,164],"text":"import { ChevronLeft, ChevronRight } from 'lucide-react'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport Image from 'next/image'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":46,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":46,"endColumn":34,"fix":{"range":[1330,1570],"text":"className={cn(\r\n                            'absolute inset-0 transition-opacity duration-500',\r\n                            index === currentIndex ? 'opacity-100' : 'opacity-0'\r\n                        )}\r\n                        key={src}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":32,"fix":{"range":[1655,1861],"text":"fill\r\n                            alt={`Banner ${index + 1}`}\r\n                            className=\"object-cover\"\r\n                            priority={index === 0}\r\n                            src={src}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":54,"column":29,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":54,"endColumn":33,"fix":{"range":[1655,1861],"text":"fill\r\n                            alt={`Banner ${index + 1}`}\r\n                            className=\"object-cover\"\r\n                            priority={index === 0}\r\n                            src={src}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":55,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":55,"endColumn":38,"fix":{"range":[1655,1861],"text":"fill\r\n                            alt={`Banner ${index + 1}`}\r\n                            className=\"object-cover\"\r\n                            priority={index === 0}\r\n                            src={src}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":56,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":56,"endColumn":37,"fix":{"range":[1655,1861],"text":"fill\r\n                            alt={`Banner ${index + 1}`}\r\n                            className=\"object-cover\"\r\n                            priority={index === 0}\r\n                            src={src}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":66,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":66,"endColumn":32,"fix":{"range":[2111,2322],"text":"className=\"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 hover:bg-black/70 text-white flex items-center justify-center transition-colors\"\r\n                        onClick={goToPrev}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":72,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":72,"endColumn":32,"fix":{"range":[2492,2704],"text":"className=\"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 hover:bg-black/70 text-white flex items-center justify-center transition-colors\"\r\n                        onClick={goToNext}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":86,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":86,"endColumn":36,"fix":{"range":[3134,3542],"text":"className={cn(\r\n                                'w-2 h-2 rounded-full transition-all',\r\n                                index === currentIndex\r\n                                    ? 'w-6 bg-white'\r\n                                    : 'bg-white/50 hover:bg-white/70'\r\n                            )}\r\n                            key={index}\r\n                            onClick={() => setCurrentIndex(index)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":11,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport Image from 'next/image'\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface BannerCarouselProps {\r\n    images: string[]\r\n    autoPlayMs?: number\r\n    className?: string\r\n}\r\n\r\nexport function BannerCarousel({\r\n    images,\r\n    autoPlayMs = 5000,\r\n    className\r\n}: BannerCarouselProps) {\r\n    const [currentIndex, setCurrentIndex] = useState(0)\r\n\r\n    const goToNext = useCallback(() => {\r\n        setCurrentIndex((prev) => (prev + 1) % images.length)\r\n    }, [images.length])\r\n\r\n    const goToPrev = useCallback(() => {\r\n        setCurrentIndex((prev) => (prev - 1 + images.length) % images.length)\r\n    }, [images.length])\r\n\r\n    // Auto-play\r\n    useEffect(() => {\r\n        if (images.length <= 1 || !autoPlayMs) return\r\n\r\n        const interval = setInterval(goToNext, autoPlayMs)\r\n        return () => clearInterval(interval)\r\n    }, [images.length, autoPlayMs, goToNext])\r\n\r\n    if (images.length === 0) return null\r\n\r\n    return (\r\n        <div className={cn('relative rounded-xl overflow-hidden', className)}>\r\n            {/* Images */}\r\n            <div className=\"relative aspect-video\">\r\n                {images.map((src, index) => (\r\n                    <div\r\n                        key={src}\r\n                        className={cn(\r\n                            'absolute inset-0 transition-opacity duration-500',\r\n                            index === currentIndex ? 'opacity-100' : 'opacity-0'\r\n                        )}\r\n                    >\r\n                        <Image\r\n                            src={src}\r\n                            alt={`Banner ${index + 1}`}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            priority={index === 0}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Navigation arrows */}\r\n            {images.length > 1 && (\r\n                <>\r\n                    <button\r\n                        onClick={goToPrev}\r\n                        className=\"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 hover:bg-black/70 text-white flex items-center justify-center transition-colors\"\r\n                    >\r\n                        <ChevronLeft className=\"w-6 h-6\" />\r\n                    </button>\r\n                    <button\r\n                        onClick={goToNext}\r\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 hover:bg-black/70 text-white flex items-center justify-center transition-colors\"\r\n                    >\r\n                        <ChevronRight className=\"w-6 h-6\" />\r\n                    </button>\r\n                </>\r\n            )}\r\n\r\n            {/* Dots indicator */}\r\n            {images.length > 1 && (\r\n                <div className=\"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2\">\r\n                    {images.map((_, index) => (\r\n                        <button\r\n                            key={index}\r\n                            onClick={() => setCurrentIndex(index)}\r\n                            className={cn(\r\n                                'w-2 h-2 rounded-full transition-all',\r\n                                index === currentIndex\r\n                                    ? 'w-6 bg-white'\r\n                                    : 'bg-white/50 hover:bg-white/70'\r\n                            )}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\credit-card-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":64,"fix":{"range":[137,137],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":64,"fix":{"range":[16,139],"text":"import { CreditCard, Lock, Calendar, User } from 'lucide-react'\r\nimport { useState, useCallback, useEffect } from 'react'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'publicKey' is defined but never used. Allowed unused args must match /^_/u.","line":75,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":67},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":165,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":165,"endColumn":40,"fix":{"range":[6016,6529],"text":"className={`pl-10 pr-12 ${getError('number') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardNumber\"\r\n                            maxLength={19}\r\n                            placeholder=\"0000 0000 0000 0000\"\r\n                            type=\"text\"\r\n                            value={data.number}\r\n                            onBlur={() => handleBlur('number')}\r\n                            onChange={(e) => handleChange('number', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":167,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":167,"endColumn":37,"fix":{"range":[6016,6529],"text":"className={`pl-10 pr-12 ${getError('number') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardNumber\"\r\n                            maxLength={19}\r\n                            placeholder=\"0000 0000 0000 0000\"\r\n                            type=\"text\"\r\n                            value={data.number}\r\n                            onBlur={() => handleBlur('number')}\r\n                            onChange={(e) => handleChange('number', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":168,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":168,"endColumn":35,"fix":{"range":[6016,6529],"text":"className={`pl-10 pr-12 ${getError('number') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardNumber\"\r\n                            maxLength={19}\r\n                            placeholder=\"0000 0000 0000 0000\"\r\n                            type=\"text\"\r\n                            value={data.number}\r\n                            onBlur={() => handleBlur('number')}\r\n                            onChange={(e) => handleChange('number', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":190,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":190,"endColumn":40,"fix":{"range":[7354,7831],"text":"className={`pl-10 uppercase ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardName\"\r\n                            placeholder=\"NOME COMO NO CART├âO\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value.toUpperCase())}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":192,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":192,"endColumn":37,"fix":{"range":[7354,7831],"text":"className={`pl-10 uppercase ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardName\"\r\n                            placeholder=\"NOME COMO NO CART├âO\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value.toUpperCase())}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":193,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":193,"endColumn":35,"fix":{"range":[7354,7831],"text":"className={`pl-10 uppercase ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"cardName\"\r\n                            placeholder=\"NOME COMO NO CART├âO\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value.toUpperCase())}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":212,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":212,"endColumn":44,"fix":{"range":[8523,9047],"text":"className={`pl-10 ${getError('expiry') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardExpiry\"\r\n                                maxLength={5}\r\n                                placeholder=\"MM/AA\"\r\n                                type=\"text\"\r\n                                value={data.expiry}\r\n                                onBlur={() => handleBlur('expiry')}\r\n                                onChange={(e) => handleChange('expiry', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":214,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":214,"endColumn":41,"fix":{"range":[8523,9047],"text":"className={`pl-10 ${getError('expiry') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardExpiry\"\r\n                                maxLength={5}\r\n                                placeholder=\"MM/AA\"\r\n                                type=\"text\"\r\n                                value={data.expiry}\r\n                                onBlur={() => handleBlur('expiry')}\r\n                                onChange={(e) => handleChange('expiry', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":215,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":215,"endColumn":39,"fix":{"range":[8523,9047],"text":"className={`pl-10 ${getError('expiry') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardExpiry\"\r\n                                maxLength={5}\r\n                                placeholder=\"MM/AA\"\r\n                                type=\"text\"\r\n                                value={data.expiry}\r\n                                onBlur={() => handleBlur('expiry')}\r\n                                onChange={(e) => handleChange('expiry', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":233,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":233,"endColumn":44,"fix":{"range":[9657,10164],"text":"className={`pl-10 ${getError('cvv') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardCvv\"\r\n                                maxLength={4}\r\n                                placeholder=\"123\"\r\n                                type=\"text\"\r\n                                value={data.cvv}\r\n                                onBlur={() => handleBlur('cvv')}\r\n                                onChange={(e) => handleChange('cvv', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":235,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":235,"endColumn":41,"fix":{"range":[9657,10164],"text":"className={`pl-10 ${getError('cvv') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardCvv\"\r\n                                maxLength={4}\r\n                                placeholder=\"123\"\r\n                                type=\"text\"\r\n                                value={data.cvv}\r\n                                onBlur={() => handleBlur('cvv')}\r\n                                onChange={(e) => handleChange('cvv', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":236,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":236,"endColumn":39,"fix":{"range":[9657,10164],"text":"className={`pl-10 ${getError('cvv') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cardCvv\"\r\n                                maxLength={4}\r\n                                placeholder=\"123\"\r\n                                type=\"text\"\r\n                                value={data.cvv}\r\n                                onBlur={() => handleBlur('cvv')}\r\n                                onChange={(e) => handleChange('cvv', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":253,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":253,"endColumn":38,"fix":{"range":[10654,10841],"text":"disabled={disabled}\r\n                        value={data.installments?.toString() || '1'}\r\n                        onValueChange={(value) => handleChange('installments', parseInt(value))}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":15,"source":"'use client'\r\n\r\nimport { useState, useCallback, useEffect } from 'react'\r\nimport { CreditCard, Lock, Calendar, User } from 'lucide-react'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n\r\nexport interface CardData {\r\n    number: string\r\n    name: string\r\n    expiry: string\r\n    cvv: string\r\n    installments: number\r\n    token?: string\r\n    paymentMethodId?: string\r\n    issuerId?: string\r\n}\r\n\r\ninterface CreditCardFormProps {\r\n    data: CardData\r\n    onChange: (data: CardData) => void\r\n    amount: number\r\n    publicKey?: string\r\n    disabled?: boolean\r\n}\r\n\r\n// Formata├º├úo do n├║mero do cart├úo\r\nfunction formatCardNumber(value: string): string {\r\n    const digits = value.replace(/\\D/g, '').slice(0, 16)\r\n    return digits.replace(/(\\d{4})(?=\\d)/g, '$1 ')\r\n}\r\n\r\n// Formata├º├úo da validade\r\nfunction formatExpiry(value: string): string {\r\n    const digits = value.replace(/\\D/g, '').slice(0, 4)\r\n    if (digits.length >= 3) {\r\n        return `${digits.slice(0, 2)}/${digits.slice(2)}`\r\n    }\r\n    return digits\r\n}\r\n\r\n// Detectar bandeira do cart├úo\r\nfunction getCardBrand(number: string): string {\r\n    const digits = number.replace(/\\D/g, '')\r\n    if (/^4/.test(digits)) return 'visa'\r\n    if (/^5[1-5]/.test(digits)) return 'mastercard'\r\n    if (/^3[47]/.test(digits)) return 'amex'\r\n    if (/^6(?:011|5)/.test(digits)) return 'discover'\r\n    if (/^(?:2131|1800|35)/.test(digits)) return 'jcb'\r\n    if (/^3(?:0[0-5]|[68])/.test(digits)) return 'diners'\r\n    if (/^(606282|3841)/.test(digits)) return 'hipercard'\r\n    if (/^(50|636368|636297)/.test(digits)) return 'elo'\r\n    return 'unknown'\r\n}\r\n\r\n// Gerar op├º├Áes de parcelamento\r\nfunction generateInstallmentOptions(amount: number, maxInstallments: number = 12) {\r\n    const options = []\r\n    for (let i = 1; i <= maxInstallments; i++) {\r\n        const installmentValue = amount / i\r\n        // Apenas mostrar se parcela for >= R$ 5,00\r\n        if (installmentValue >= 5) {\r\n            options.push({\r\n                value: i,\r\n                label: i === 1\r\n                    ? `├Ç vista - R$ ${amount.toFixed(2).replace('.', ',')}`\r\n                    : `${i}x de R$ ${installmentValue.toFixed(2).replace('.', ',')} sem juros`,\r\n            })\r\n        }\r\n    }\r\n    return options\r\n}\r\n\r\nexport function CreditCardForm({ data, onChange, amount, publicKey, disabled = false }: CreditCardFormProps) {\r\n    const [touched, setTouched] = useState<Record<string, boolean>>({})\r\n    const [cardBrand, setCardBrand] = useState('unknown')\r\n    const [installmentOptions, setInstallmentOptions] = useState<{ value: number; label: string }[]>([])\r\n\r\n    // Gerar op├º├Áes de parcelamento quando o valor mudar\r\n    useEffect(() => {\r\n        setInstallmentOptions(generateInstallmentOptions(amount))\r\n    }, [amount])\r\n\r\n    // Detectar bandeira quando o n├║mero mudar\r\n    useEffect(() => {\r\n        const brand = getCardBrand(data.number)\r\n        setCardBrand(brand)\r\n    }, [data.number])\r\n\r\n    const handleChange = useCallback((field: keyof CardData, value: string | number) => {\r\n        let formattedValue = value\r\n\r\n        if (field === 'number' && typeof value === 'string') {\r\n            formattedValue = formatCardNumber(value)\r\n        } else if (field === 'expiry' && typeof value === 'string') {\r\n            formattedValue = formatExpiry(value)\r\n        } else if (field === 'cvv' && typeof value === 'string') {\r\n            formattedValue = value.replace(/\\D/g, '').slice(0, 4)\r\n        }\r\n\r\n        onChange({ ...data, [field]: formattedValue })\r\n    }, [data, onChange])\r\n\r\n    const handleBlur = useCallback((field: string) => {\r\n        setTouched((prev) => ({ ...prev, [field]: true }))\r\n    }, [])\r\n\r\n    const getError = (field: string): string | undefined => {\r\n        if (!touched[field]) return undefined\r\n\r\n        switch (field) {\r\n            case 'number':\r\n                const digits = data.number.replace(/\\D/g, '')\r\n                if (!digits) return 'N├║mero do cart├úo ├® obrigat├│rio'\r\n                if (digits.length < 13) return 'N├║mero do cart├úo incompleto'\r\n                break\r\n            case 'name':\r\n                if (!data.name || data.name.length < 2) return 'Nome ├® obrigat├│rio'\r\n                break\r\n            case 'expiry':\r\n                if (!data.expiry) return 'Validade ├® obrigat├│ria'\r\n                if (data.expiry.length < 5) return 'Validade incompleta'\r\n                // Validar se n├úo est├í expirado\r\n                const [month, year] = data.expiry.split('/')\r\n                if (month && year) {\r\n                    const expDate = new Date(2000 + parseInt(year), parseInt(month) - 1)\r\n                    if (expDate < new Date()) return 'Cart├úo expirado'\r\n                }\r\n                break\r\n            case 'cvv':\r\n                if (!data.cvv) return 'CVV ├® obrigat├│rio'\r\n                if (data.cvv.length < 3) return 'CVV incompleto'\r\n                break\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    // ├ìcones das bandeiras\r\n    const brandIcons: Record<string, string> = {\r\n        visa: '­ƒÆ│',\r\n        mastercard: '­ƒÆ│',\r\n        amex: '­ƒÆ│',\r\n        elo: '­ƒÆ│',\r\n        hipercard: '­ƒÆ│',\r\n        unknown: '­ƒÆ│',\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                <CreditCard className=\"w-5 h-5\" />\r\n                Dados do Cart├úo\r\n            </h3>\r\n\r\n            <div className=\"grid gap-4\">\r\n                {/* N├║mero do Cart├úo */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"cardNumber\">N├║mero do Cart├úo *</Label>\r\n                    <div className=\"relative\">\r\n                        <CreditCard className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            id=\"cardNumber\"\r\n                            type=\"text\"\r\n                            placeholder=\"0000 0000 0000 0000\"\r\n                            value={data.number}\r\n                            onChange={(e) => handleChange('number', e.target.value)}\r\n                            onBlur={() => handleBlur('number')}\r\n                            disabled={disabled}\r\n                            maxLength={19}\r\n                            className={`pl-10 pr-12 ${getError('number') ? 'border-red-500' : ''}`}\r\n                        />\r\n                        <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-lg\">\r\n                            {brandIcons[cardBrand] || brandIcons.unknown}\r\n                        </span>\r\n                    </div>\r\n                    {getError('number') && (\r\n                        <p className=\"text-sm text-red-500\">{getError('number')}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Nome no Cart├úo */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"cardName\">Nome impresso no cart├úo *</Label>\r\n                    <div className=\"relative\">\r\n                        <User className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            id=\"cardName\"\r\n                            type=\"text\"\r\n                            placeholder=\"NOME COMO NO CART├âO\"\r\n                            value={data.name}\r\n                            onChange={(e) => handleChange('name', e.target.value.toUpperCase())}\r\n                            onBlur={() => handleBlur('name')}\r\n                            disabled={disabled}\r\n                            className={`pl-10 uppercase ${getError('name') ? 'border-red-500' : ''}`}\r\n                        />\r\n                    </div>\r\n                    {getError('name') && (\r\n                        <p className=\"text-sm text-red-500\">{getError('name')}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Validade e CVV */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"cardExpiry\">Validade *</Label>\r\n                        <div className=\"relative\">\r\n                            <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"cardExpiry\"\r\n                                type=\"text\"\r\n                                placeholder=\"MM/AA\"\r\n                                value={data.expiry}\r\n                                onChange={(e) => handleChange('expiry', e.target.value)}\r\n                                onBlur={() => handleBlur('expiry')}\r\n                                disabled={disabled}\r\n                                maxLength={5}\r\n                                className={`pl-10 ${getError('expiry') ? 'border-red-500' : ''}`}\r\n                            />\r\n                        </div>\r\n                        {getError('expiry') && (\r\n                            <p className=\"text-sm text-red-500\">{getError('expiry')}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"cardCvv\">CVV *</Label>\r\n                        <div className=\"relative\">\r\n                            <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"cardCvv\"\r\n                                type=\"text\"\r\n                                placeholder=\"123\"\r\n                                value={data.cvv}\r\n                                onChange={(e) => handleChange('cvv', e.target.value)}\r\n                                onBlur={() => handleBlur('cvv')}\r\n                                disabled={disabled}\r\n                                maxLength={4}\r\n                                className={`pl-10 ${getError('cvv') ? 'border-red-500' : ''}`}\r\n                            />\r\n                        </div>\r\n                        {getError('cvv') && (\r\n                            <p className=\"text-sm text-red-500\">{getError('cvv')}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Parcelamento */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"installments\">Parcelamento</Label>\r\n                    <Select\r\n                        value={data.installments?.toString() || '1'}\r\n                        onValueChange={(value) => handleChange('installments', parseInt(value))}\r\n                        disabled={disabled}\r\n                    >\r\n                        <SelectTrigger id=\"installments\">\r\n                            <SelectValue placeholder=\"Selecione o parcelamento\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            {installmentOptions.map((option) => (\r\n                                <SelectItem key={option.value} value={option.value.toString()}>\r\n                                    {option.label}\r\n                                </SelectItem>\r\n                            ))}\r\n                        </SelectContent>\r\n                    </Select>\r\n                </div>\r\n\r\n                {/* Selo de Seguran├ºa */}\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg\">\r\n                    <Lock className=\"w-4 h-4 text-green-500\" />\r\n                    <span>Seus dados est├úo protegidos com criptografia SSL de 256 bits</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\customer-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[123,123],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":61,"fix":{"range":[16,125],"text":"import { User, Mail, CreditCard, Phone } from 'lucide-react'\r\nimport { useState, useCallback } from 'react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":84,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":84,"endColumn":40,"fix":{"range":[2991,3438],"text":"className={`pl-10 ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"name\"\r\n                            placeholder=\"Seu nome completo\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":86,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":86,"endColumn":37,"fix":{"range":[2991,3438],"text":"className={`pl-10 ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"name\"\r\n                            placeholder=\"Seu nome completo\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":87,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":87,"endColumn":35,"fix":{"range":[2991,3438],"text":"className={`pl-10 ${getError('name') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"name\"\r\n                            placeholder=\"Seu nome completo\"\r\n                            type=\"text\"\r\n                            value={data.name}\r\n                            onBlur={() => handleBlur('name')}\r\n                            onChange={(e) => handleChange('name', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":105,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":105,"endColumn":40,"fix":{"range":[4027,4476],"text":"className={`pl-10 ${getError('email') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"email\"\r\n                            placeholder=\"seu@email.com\"\r\n                            type=\"email\"\r\n                            value={data.email}\r\n                            onBlur={() => handleBlur('email')}\r\n                            onChange={(e) => handleChange('email', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":107,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":107,"endColumn":37,"fix":{"range":[4027,4476],"text":"className={`pl-10 ${getError('email') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"email\"\r\n                            placeholder=\"seu@email.com\"\r\n                            type=\"email\"\r\n                            value={data.email}\r\n                            onBlur={() => handleBlur('email')}\r\n                            onChange={(e) => handleChange('email', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":108,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":108,"endColumn":35,"fix":{"range":[4027,4476],"text":"className={`pl-10 ${getError('email') ? 'border-red-500' : ''}`}\r\n                            disabled={disabled}\r\n                            id=\"email\"\r\n                            placeholder=\"seu@email.com\"\r\n                            type=\"email\"\r\n                            value={data.email}\r\n                            onBlur={() => handleBlur('email')}\r\n                            onChange={(e) => handleChange('email', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":128,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":128,"endColumn":44,"fix":{"range":[5208,5723],"text":"className={`pl-10 ${getError('cpf') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cpf\"\r\n                                maxLength={14}\r\n                                placeholder=\"000.000.000-00\"\r\n                                type=\"text\"\r\n                                value={data.cpf}\r\n                                onBlur={() => handleBlur('cpf')}\r\n                                onChange={(e) => handleChange('cpf', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":130,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":130,"endColumn":41,"fix":{"range":[5208,5723],"text":"className={`pl-10 ${getError('cpf') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cpf\"\r\n                                maxLength={14}\r\n                                placeholder=\"000.000.000-00\"\r\n                                type=\"text\"\r\n                                value={data.cpf}\r\n                                onBlur={() => handleBlur('cpf')}\r\n                                onChange={(e) => handleChange('cpf', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":131,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":131,"endColumn":39,"fix":{"range":[5208,5723],"text":"className={`pl-10 ${getError('cpf') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"cpf\"\r\n                                maxLength={14}\r\n                                placeholder=\"000.000.000-00\"\r\n                                type=\"text\"\r\n                                value={data.cpf}\r\n                                onBlur={() => handleBlur('cpf')}\r\n                                onChange={(e) => handleChange('cpf', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":150,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":150,"endColumn":44,"fix":{"range":[6369,6894],"text":"className={`pl-10 ${getError('phone') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"phone\"\r\n                                maxLength={15}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={data.phone}\r\n                                onBlur={() => handleBlur('phone')}\r\n                                onChange={(e) => handleChange('phone', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":152,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":152,"endColumn":41,"fix":{"range":[6369,6894],"text":"className={`pl-10 ${getError('phone') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"phone\"\r\n                                maxLength={15}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={data.phone}\r\n                                onBlur={() => handleBlur('phone')}\r\n                                onChange={(e) => handleChange('phone', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":153,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":153,"endColumn":39,"fix":{"range":[6369,6894],"text":"className={`pl-10 ${getError('phone') ? 'border-red-500' : ''}`}\r\n                                disabled={disabled}\r\n                                id=\"phone\"\r\n                                maxLength={15}\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                type=\"tel\"\r\n                                value={data.phone}\r\n                                onBlur={() => handleBlur('phone')}\r\n                                onChange={(e) => handleChange('phone', e.target.value)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":14,"source":"'use client'\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { User, Mail, CreditCard, Phone } from 'lucide-react'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { formatCPF, formatPhone, isValidCPF, isValidEmail } from '@/lib/utils'\r\n\r\nexport interface CustomerData {\r\n    name: string\r\n    email: string\r\n    cpf: string\r\n    phone: string\r\n}\r\n\r\ninterface CustomerFormProps {\r\n    data: CustomerData\r\n    onChange: (data: CustomerData) => void\r\n    errors?: Partial<Record<keyof CustomerData, string>>\r\n    disabled?: boolean\r\n}\r\n\r\nexport function CustomerForm({ data, onChange, errors = {}, disabled = false }: CustomerFormProps) {\r\n    const [touched, setTouched] = useState<Record<string, boolean>>({})\r\n\r\n    const handleChange = useCallback((field: keyof CustomerData, value: string) => {\r\n        let formattedValue = value\r\n\r\n        if (field === 'cpf') {\r\n            formattedValue = formatCPF(value)\r\n        } else if (field === 'phone') {\r\n            formattedValue = formatPhone(value)\r\n        }\r\n\r\n        onChange({ ...data, [field]: formattedValue })\r\n    }, [data, onChange])\r\n\r\n    const handleBlur = useCallback((field: keyof CustomerData) => {\r\n        setTouched((prev) => ({ ...prev, [field]: true }))\r\n    }, [])\r\n\r\n    const getError = (field: keyof CustomerData): string | undefined => {\r\n        if (!touched[field]) return undefined\r\n        if (errors[field]) return errors[field]\r\n\r\n        // Valida├º├Áes inline\r\n        switch (field) {\r\n            case 'name':\r\n                if (!data.name || data.name.length < 2) return 'Nome ├® obrigat├│rio'\r\n                break\r\n            case 'email':\r\n                if (!data.email) return 'Email ├® obrigat├│rio'\r\n                if (!isValidEmail(data.email)) return 'Email inv├ílido'\r\n                break\r\n            case 'cpf':\r\n                if (!data.cpf) return 'CPF ├® obrigat├│rio'\r\n                if (!isValidCPF(data.cpf)) return 'CPF inv├ílido'\r\n                break\r\n            case 'phone':\r\n                const phoneDigits = data.phone.replace(/\\D/g, '')\r\n                if (!phoneDigits) return 'Telefone ├® obrigat├│rio'\r\n                if (phoneDigits.length < 10) return 'Telefone incompleto'\r\n                break\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                <User className=\"w-5 h-5\" />\r\n                Dados Pessoais\r\n            </h3>\r\n\r\n            <div className=\"grid gap-4\">\r\n                {/* Nome */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"name\">Nome completo *</Label>\r\n                    <div className=\"relative\">\r\n                        <User className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            id=\"name\"\r\n                            type=\"text\"\r\n                            placeholder=\"Seu nome completo\"\r\n                            value={data.name}\r\n                            onChange={(e) => handleChange('name', e.target.value)}\r\n                            onBlur={() => handleBlur('name')}\r\n                            disabled={disabled}\r\n                            className={`pl-10 ${getError('name') ? 'border-red-500' : ''}`}\r\n                        />\r\n                    </div>\r\n                    {getError('name') && (\r\n                        <p className=\"text-sm text-red-500\">{getError('name')}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Email */}\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"email\">Email *</Label>\r\n                    <div className=\"relative\">\r\n                        <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"seu@email.com\"\r\n                            value={data.email}\r\n                            onChange={(e) => handleChange('email', e.target.value)}\r\n                            onBlur={() => handleBlur('email')}\r\n                            disabled={disabled}\r\n                            className={`pl-10 ${getError('email') ? 'border-red-500' : ''}`}\r\n                        />\r\n                    </div>\r\n                    {getError('email') && (\r\n                        <p className=\"text-sm text-red-500\">{getError('email')}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* CPF e Telefone */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {/* CPF */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"cpf\">CPF *</Label>\r\n                        <div className=\"relative\">\r\n                            <CreditCard className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"cpf\"\r\n                                type=\"text\"\r\n                                placeholder=\"000.000.000-00\"\r\n                                value={data.cpf}\r\n                                onChange={(e) => handleChange('cpf', e.target.value)}\r\n                                onBlur={() => handleBlur('cpf')}\r\n                                disabled={disabled}\r\n                                maxLength={14}\r\n                                className={`pl-10 ${getError('cpf') ? 'border-red-500' : ''}`}\r\n                            />\r\n                        </div>\r\n                        {getError('cpf') && (\r\n                            <p className=\"text-sm text-red-500\">{getError('cpf')}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Telefone */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"phone\">Telefone *</Label>\r\n                        <div className=\"relative\">\r\n                            <Phone className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                                id=\"phone\"\r\n                                type=\"tel\"\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                value={data.phone}\r\n                                onChange={(e) => handleChange('phone', e.target.value)}\r\n                                onBlur={() => handleBlur('phone')}\r\n                                disabled={disabled}\r\n                                maxLength={15}\r\n                                className={`pl-10 ${getError('phone') ? 'border-red-500' : ''}`}\r\n                            />\r\n                        </div>\r\n                        {getError('phone') && (\r\n                            <p className=\"text-sm text-red-500\">{getError('phone')}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\fake-notifications.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[128,128],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":47,"fix":{"range":[16,130],"text":"import { ShoppingCart, X } from 'lucide-react'\r\nimport { useState, useEffect, useCallback, useRef } from 'react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":98,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":98,"endColumn":30,"fix":{"range":[3291,3571],"text":"className={cn(\r\n                        'flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700',\r\n                        'max-w-xs animate-slide-in-right'\r\n                    )}\r\n                    key={notif.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":118,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":118,"endColumn":32,"fix":{"range":[4485,4604],"text":"className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n                        onClick={() => removeNotification(notif.id)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { ShoppingCart, X } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface FakeNotification {\r\n    name: string\r\n    location: string\r\n    product: string\r\n    time: string\r\n}\r\n\r\nconst NAMES = [\r\n    'Maria S.', 'Jo├úo P.', 'Ana L.', 'Pedro M.', 'Julia R.',\r\n    'Carlos H.', 'Fernanda C.', 'Lucas G.', 'Beatriz A.', 'Rafael V.',\r\n    'Camila F.', 'Bruno T.', 'Amanda N.', 'Diego O.', 'Larissa D.',\r\n    'Thiago B.', 'Patricia K.', 'Rodrigo L.', 'Isabela M.', 'Gabriel S.',\r\n]\r\n\r\nconst LOCATIONS = [\r\n    'S├úo Paulo, SP', 'Rio de Janeiro, RJ', 'Belo Horizonte, MG',\r\n    'Curitiba, PR', 'Porto Alegre, RS', 'Salvador, BA',\r\n    'Bras├¡lia, DF', 'Fortaleza, CE', 'Recife, PE', 'Campinas, SP',\r\n    'Florian├│polis, SC', 'Goi├ónia, GO', 'Manaus, AM', 'Vit├│ria, ES',\r\n]\r\n\r\nconst TIMES = [\r\n    'agora mesmo', 'h├í 1 minuto', 'h├í 2 minutos', 'h├í 3 minutos',\r\n    'h├í 5 minutos', 'h├í 8 minutos', 'h├í 10 minutos',\r\n]\r\n\r\ninterface FakeNotificationsProps {\r\n    productName: string\r\n    intervalMs?: number\r\n    maxVisible?: number\r\n    enabled?: boolean\r\n}\r\n\r\nexport function FakeNotifications({\r\n    productName,\r\n    intervalMs = 15000,\r\n    maxVisible = 1,\r\n    enabled = true,\r\n}: FakeNotificationsProps) {\r\n    const [notifications, setNotifications] = useState<(FakeNotification & { id: string })[]>([])\r\n    const timeoutRef = useRef<NodeJS.Timeout>()\r\n\r\n    const generateNotification = useCallback((): FakeNotification & { id: string } => {\r\n        return {\r\n            id: Math.random().toString(36).slice(2),\r\n            name: NAMES[Math.floor(Math.random() * NAMES.length)],\r\n            location: LOCATIONS[Math.floor(Math.random() * LOCATIONS.length)],\r\n            product: productName,\r\n            time: TIMES[Math.floor(Math.random() * TIMES.length)],\r\n        }\r\n    }, [productName])\r\n\r\n    const removeNotification = useCallback((id: string) => {\r\n        setNotifications((prev) => prev.filter((n) => n.id !== id))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!enabled) return\r\n\r\n        // Primeira notifica├º├úo ap├│s delay inicial\r\n        const initialDelay = 5000 + Math.random() * 5000\r\n\r\n        const showNotification = () => {\r\n            const newNotif = generateNotification()\r\n            setNotifications((prev) => {\r\n                const updated = [...prev, newNotif].slice(-maxVisible)\r\n                return updated\r\n            })\r\n\r\n            // Auto-remove ap├│s 5 segundos\r\n            setTimeout(() => removeNotification(newNotif.id), 5000)\r\n\r\n            // Pr├│xima notifica├º├úo com varia├º├úo\r\n            const nextDelay = intervalMs + Math.random() * 5000\r\n            timeoutRef.current = setTimeout(showNotification, nextDelay)\r\n        }\r\n\r\n        timeoutRef.current = setTimeout(showNotification, initialDelay)\r\n\r\n        return () => {\r\n            if (timeoutRef.current) clearTimeout(timeoutRef.current)\r\n        }\r\n    }, [enabled, intervalMs, maxVisible, generateNotification, removeNotification])\r\n\r\n    if (!enabled || notifications.length === 0) return null\r\n\r\n    return (\r\n        <div className=\"fixed bottom-4 left-4 z-50 flex flex-col gap-2\">\r\n            {notifications.map((notif) => (\r\n                <div\r\n                    key={notif.id}\r\n                    className={cn(\r\n                        'flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700',\r\n                        'max-w-xs animate-slide-in-right'\r\n                    )}\r\n                >\r\n                    <div className=\"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0\">\r\n                        <ShoppingCart className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                            {notif.name}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {notif.location}\r\n                        </p>\r\n                        <p className=\"text-xs text-green-600 dark:text-green-400 mt-1\">\r\n                            Comprou {notif.time}\r\n                        </p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => removeNotification(notif.id)}\r\n                        className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n                    >\r\n                        <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\order-summary.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":56,"fix":{"range":[103,103],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next/image`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":56,"fix":{"range":[16,105],"text":"import { ShoppingCart, Tag, Minus } from 'lucide-react'\r\nimport Image from 'next/image'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":63,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":63,"endColumn":36,"fix":{"range":[1886,2061],"text":"fill\r\n                                alt={mainProduct.name}\r\n                                className=\"object-cover\"\r\n                                src={mainProduct.image}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":64,"column":33,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":64,"endColumn":37,"fix":{"range":[1886,2061],"text":"fill\r\n                                alt={mainProduct.name}\r\n                                className=\"object-cover\"\r\n                                src={mainProduct.image}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":65,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":65,"endColumn":42,"fix":{"range":[1886,2061],"text":"fill\r\n                                alt={mainProduct.name}\r\n                                className=\"object-cover\"\r\n                                src={mainProduct.image}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":104,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":104,"endColumn":40,"fix":{"range":[3813,4590],"text":"className={cn(\r\n                                    'w-full p-4 rounded-xl border-2 text-left transition-all duration-200',\r\n                                    'hover:shadow-md',\r\n                                    isSelected\r\n                                        ? 'border-green-500 bg-green-50 dark:bg-green-950/20'\r\n                                        : 'border-dashed border-gray-300 dark:border-gray-600 hover:border-green-400',\r\n                                    disabled && 'opacity-50 cursor-not-allowed'\r\n                                )}\r\n                                disabled={disabled}\r\n                                key={bump.id}\r\n                                type=\"button\"\r\n                                onClick={() => onToggleBump(bump.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":136,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":136,"endColumn":54,"fix":{"range":[5834,6072],"text":"d=\"M5 13l4 4L19 7\"\r\n                                                    strokeLinecap=\"round\"\r\n                                                    strokeLinejoin=\"round\"\r\n                                                    strokeWidth={3}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport Image from 'next/image'\r\nimport { ShoppingCart, Tag, Minus } from 'lucide-react'\r\nimport { formatCurrency, cn } from '@/lib/utils'\r\n\r\ninterface Product {\r\n    id: string\r\n    name: string\r\n    description?: string | null\r\n    price: number\r\n    previousPrice?: number | null\r\n    image?: string | null\r\n}\r\n\r\ninterface OrderBump {\r\n    id: string\r\n    headline: string\r\n    description?: string | null\r\n    product: Product\r\n}\r\n\r\ninterface OrderSummaryProps {\r\n    mainProduct: Product\r\n    orderBumps: OrderBump[]\r\n    selectedBumps: string[]\r\n    onToggleBump: (bumpId: string) => void\r\n    disabled?: boolean\r\n}\r\n\r\nexport function OrderSummary({\r\n    mainProduct,\r\n    orderBumps,\r\n    selectedBumps,\r\n    onToggleBump,\r\n    disabled = false,\r\n}: OrderSummaryProps) {\r\n    // Calcular totais\r\n    const mainProductPrice = mainProduct.price\r\n    const bumpsTotal = orderBumps\r\n        .filter((bump) => selectedBumps.includes(bump.id))\r\n        .reduce((sum, bump) => sum + bump.product.price, 0)\r\n    const totalPrice = mainProductPrice + bumpsTotal\r\n\r\n    const discount = mainProduct.previousPrice\r\n        ? mainProduct.previousPrice - mainProduct.price\r\n        : 0\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                <ShoppingCart className=\"w-5 h-5\" />\r\n                Resumo do Pedido\r\n            </h3>\r\n\r\n            {/* Produto Principal */}\r\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex gap-4\">\r\n                    {mainProduct.image && (\r\n                        <div className=\"relative w-20 h-20 flex-shrink-0 rounded-lg overflow-hidden\">\r\n                            <Image\r\n                                src={mainProduct.image}\r\n                                alt={mainProduct.name}\r\n                                fill\r\n                                className=\"object-cover\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                        <h4 className=\"font-semibold text-gray-900 dark:text-white truncate\">\r\n                            {mainProduct.name}\r\n                        </h4>\r\n                        {mainProduct.description && (\r\n                            <p className=\"text-sm text-gray-500 line-clamp-2 mt-1\">\r\n                                {mainProduct.description}\r\n                            </p>\r\n                        )}\r\n                        <div className=\"flex items-center gap-2 mt-2\">\r\n                            {mainProduct.previousPrice && (\r\n                                <span className=\"text-sm text-gray-400 line-through\">\r\n                                    {formatCurrency(mainProduct.previousPrice)}\r\n                                </span>\r\n                            )}\r\n                            <span className=\"font-bold text-lg text-green-600\">\r\n                                {formatCurrency(mainProduct.price)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Order Bumps */}\r\n            {orderBumps.length > 0 && (\r\n                <div className=\"space-y-3\">\r\n                    <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        Ofertas Especiais\r\n                    </p>\r\n                    {orderBumps.map((bump) => {\r\n                        const isSelected = selectedBumps.includes(bump.id)\r\n                        return (\r\n                            <button\r\n                                key={bump.id}\r\n                                type=\"button\"\r\n                                onClick={() => onToggleBump(bump.id)}\r\n                                disabled={disabled}\r\n                                className={cn(\r\n                                    'w-full p-4 rounded-xl border-2 text-left transition-all duration-200',\r\n                                    'hover:shadow-md',\r\n                                    isSelected\r\n                                        ? 'border-green-500 bg-green-50 dark:bg-green-950/20'\r\n                                        : 'border-dashed border-gray-300 dark:border-gray-600 hover:border-green-400',\r\n                                    disabled && 'opacity-50 cursor-not-allowed'\r\n                                )}\r\n                            >\r\n                                {/* Checkbox visual */}\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <div\r\n                                        className={cn(\r\n                                            'w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5',\r\n                                            isSelected\r\n                                                ? 'bg-green-500 border-green-500'\r\n                                                : 'border-gray-300 dark:border-gray-600'\r\n                                        )}\r\n                                    >\r\n                                        {isSelected && (\r\n                                            <svg\r\n                                                className=\"w-3 h-3 text-white\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                            >\r\n                                                <path\r\n                                                    strokeLinecap=\"round\"\r\n                                                    strokeLinejoin=\"round\"\r\n                                                    strokeWidth={3}\r\n                                                    d=\"M5 13l4 4L19 7\"\r\n                                                />\r\n                                            </svg>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"font-semibold text-green-600 dark:text-green-400 flex items-center gap-2\">\r\n                                            <Tag className=\"w-4 h-4\" />\r\n                                            {bump.headline}\r\n                                        </p>\r\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\r\n                                            {bump.product.name}\r\n                                        </p>\r\n                                        {bump.description && (\r\n                                            <p className=\"text-xs text-gray-500 mt-1 line-clamp-2\">\r\n                                                {bump.description}\r\n                                            </p>\r\n                                        )}\r\n                                        <div className=\"flex items-center gap-2 mt-2\">\r\n                                            {bump.product.previousPrice && (\r\n                                                <span className=\"text-xs text-gray-400 line-through\">\r\n                                                    {formatCurrency(bump.product.previousPrice)}\r\n                                                </span>\r\n                                            )}\r\n                                            <span className=\"font-bold text-green-600\">\r\n                                                + {formatCurrency(bump.product.price)}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </button>\r\n                        )\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            {/* Totais */}\r\n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2\">\r\n                {/* Subtotal */}\r\n                <div className=\"flex justify-between text-sm text-gray-600 dark:text-gray-400\">\r\n                    <span>Subtotal</span>\r\n                    <span>{formatCurrency(mainProductPrice + (mainProduct.previousPrice ? discount : 0))}</span>\r\n                </div>\r\n\r\n                {/* Desconto */}\r\n                {discount > 0 && (\r\n                    <div className=\"flex justify-between text-sm text-green-600\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                            <Minus className=\"w-3 h-3\" />\r\n                            Desconto\r\n                        </span>\r\n                        <span>- {formatCurrency(discount)}</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Bumps */}\r\n                {bumpsTotal > 0 && (\r\n                    <div className=\"flex justify-between text-sm text-gray-600 dark:text-gray-400\">\r\n                        <span>Ofertas adicionais</span>\r\n                        <span>+ {formatCurrency(bumpsTotal)}</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Total */}\r\n                <div className=\"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700\">\r\n                    <span className=\"text-lg font-bold text-gray-900 dark:text-white\">Total</span>\r\n                    <span className=\"text-2xl font-bold text-green-600\">\r\n                        {formatCurrency(totalPrice)}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\payment-method-selector.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":60,"fix":{"range":[75,75],"text":"\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":55,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":55,"endColumn":36,"fix":{"range":[1673,2626],"text":"className={cn(\r\n                                'relative flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200',\r\n                                'hover:border-green-400 hover:bg-green-50 dark:hover:bg-green-950/20',\r\n                                'focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2',\r\n                                isSelected\r\n                                    ? 'border-green-500 bg-green-50 dark:bg-green-950/30 text-green-700 dark:text-green-400'\r\n                                    : 'border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400',\r\n                                disabled && 'opacity-50 cursor-not-allowed'\r\n                            )}\r\n                            disabled={disabled}\r\n                            key={method}\r\n                            type=\"button\"\r\n                            onClick={() => onChange(method)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":46,"fix":{"range":[3321,3535],"text":"d=\"M5 13l4 4L19 7\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                            strokeWidth={3}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"'use client'\r\n\r\nimport { CreditCard, QrCode, FileText } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport type PaymentMethod = 'pix' | 'credit_card' | 'boleto'\r\n\r\ninterface PaymentMethodSelectorProps {\r\n    selected: PaymentMethod | null\r\n    onChange: (method: PaymentMethod) => void\r\n    availableMethods: PaymentMethod[]\r\n    disabled?: boolean\r\n}\r\n\r\nconst methodConfig: Record<PaymentMethod, { icon: React.ReactNode; label: string; description: string }> = {\r\n    pix: {\r\n        icon: <QrCode className=\"w-6 h-6\" />,\r\n        label: 'Pix',\r\n        description: 'Pagamento instant├óneo',\r\n    },\r\n    credit_card: {\r\n        icon: <CreditCard className=\"w-6 h-6\" />,\r\n        label: 'Cart├úo de Cr├®dito',\r\n        description: 'Parcele em at├® 12x',\r\n    },\r\n    boleto: {\r\n        icon: <FileText className=\"w-6 h-6\" />,\r\n        label: 'Boleto',\r\n        description: 'Vencimento em 3 dias',\r\n    },\r\n}\r\n\r\nexport function PaymentMethodSelector({\r\n    selected,\r\n    onChange,\r\n    availableMethods,\r\n    disabled = false,\r\n}: PaymentMethodSelectorProps) {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                <CreditCard className=\"w-5 h-5\" />\r\n                Forma de Pagamento\r\n            </h3>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                {availableMethods.map((method) => {\r\n                    const config = methodConfig[method]\r\n                    const isSelected = selected === method\r\n\r\n                    return (\r\n                        <button\r\n                            key={method}\r\n                            type=\"button\"\r\n                            onClick={() => onChange(method)}\r\n                            disabled={disabled}\r\n                            className={cn(\r\n                                'relative flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200',\r\n                                'hover:border-green-400 hover:bg-green-50 dark:hover:bg-green-950/20',\r\n                                'focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2',\r\n                                isSelected\r\n                                    ? 'border-green-500 bg-green-50 dark:bg-green-950/30 text-green-700 dark:text-green-400'\r\n                                    : 'border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400',\r\n                                disabled && 'opacity-50 cursor-not-allowed'\r\n                            )}\r\n                        >\r\n                            {/* Indicador de sele├º├úo */}\r\n                            {isSelected && (\r\n                                <div className=\"absolute top-2 right-2 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center\">\r\n                                    <svg\r\n                                        className=\"w-3 h-3 text-white\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                    >\r\n                                        <path\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                            strokeWidth={3}\r\n                                            d=\"M5 13l4 4L19 7\"\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* ├ìcone */}\r\n                            <div\r\n                                className={cn(\r\n                                    'w-12 h-12 rounded-full flex items-center justify-center mb-2',\r\n                                    isSelected\r\n                                        ? 'bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400'\r\n                                        : 'bg-gray-100 dark:bg-gray-800 text-gray-500'\r\n                                )}\r\n                            >\r\n                                {config.icon}\r\n                            </div>\r\n\r\n                            {/* Label */}\r\n                            <span\r\n                                className={cn(\r\n                                    'font-semibold text-sm',\r\n                                    isSelected\r\n                                        ? 'text-green-700 dark:text-green-400'\r\n                                        : 'text-gray-700 dark:text-gray-300'\r\n                                )}\r\n                            >\r\n                                {config.label}\r\n                            </span>\r\n\r\n                            {/* Description */}\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">\r\n                                {config.description}\r\n                            </span>\r\n\r\n                            {/* Badge para Pix */}\r\n                            {method === 'pix' && (\r\n                                <span className=\"absolute -top-2 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-green-500 text-white text-[10px] font-bold rounded-full uppercase tracking-wide\">\r\n                                    Mais r├ípido\r\n                                </span>\r\n                            )}\r\n                        </button>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            {/* Mensagem informativa */}\r\n            {selected === 'pix' && (\r\n                <div className=\"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm\">\r\n                    <QrCode className=\"w-4 h-4 flex-shrink-0\" />\r\n                    <span>Ap├│s confirmar, voc├¬ receber├í um QR Code para pagamento instant├óneo.</span>\r\n                </div>\r\n            )}\r\n\r\n            {selected === 'credit_card' && (\r\n                <div className=\"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-700 dark:text-blue-400 text-sm\">\r\n                    <CreditCard className=\"w-4 h-4 flex-shrink-0\" />\r\n                    <span>Seus dados s├úo criptografados e processados com seguran├ºa.</span>\r\n                </div>\r\n            )}\r\n\r\n            {selected === 'boleto' && (\r\n                <div className=\"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-700 dark:text-yellow-400 text-sm\">\r\n                    <FileText className=\"w-4 h-4 flex-shrink-0\" />\r\n                    <span>O boleto vence em 3 dias ├║teis. Acesso liberado ap├│s compensa├º├úo.</span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\pix-modal.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/image` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":31,"fix":{"range":[16,106],"text":"import Image from 'next/image'\r\nimport { useState, useEffect, useCallback } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":75,"fix":{"range":[16,182],"text":"import { X, Copy, Check, Clock, Loader2, CheckCircle } from 'lucide-react'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport Image from 'next/image'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":31,"fix":{"range":[212,212],"text":"\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'qrCode' is defined but never used. Allowed unused args must match /^_/u.","line":27,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":98,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":98,"endColumn":23},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":118,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":118,"endColumn":32,"fix":{"range":[3753,3861],"text":"className=\"absolute top-4 right-4 text-white/80 hover:text-white\"\r\n                        onClick={onClose}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":155,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":155,"endColumn":40,"fix":{"range":[5631,5802],"text":"className=\"w-full py-5 bg-gradient-to-r from-green-500 to-emerald-600\"\r\n                                onClick={() => window.location.href = `/obrigado?order=${orderId}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":166,"column":37,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":166,"endColumn":44,"fix":{"range":[6316,6375],"text":"className=\"w-full py-5\" variant=\"outline\" onClick={onClose}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":189,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":189,"endColumn":48,"fix":{"range":[7531,7821],"text":"alt=\"QR Code Pix\"\r\n                                            className=\"w-48 h-48\"\r\n                                            height={200}\r\n                                            src={`data:image/png;base64,${qrCodeBase64}`}\r\n                                            width={200}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":191,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":191,"endColumn":51,"fix":{"range":[7531,7821],"text":"alt=\"QR Code Pix\"\r\n                                            className=\"w-48 h-48\"\r\n                                            height={200}\r\n                                            src={`data:image/png;base64,${qrCodeBase64}`}\r\n                                            width={200}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":192,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":192,"endColumn":54,"fix":{"range":[7531,7821],"text":"alt=\"QR Code Pix\"\r\n                                            className=\"w-48 h-48\"\r\n                                            height={200}\r\n                                            src={`data:image/png;base64,${qrCodeBase64}`}\r\n                                            width={200}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":216,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":216,"endColumn":40,"fix":{"range":[9310,9607],"text":"className={cn(\r\n                                    'w-full py-5 border-2',\r\n                                    copied && 'border-green-500 text-green-600'\r\n                                )}\r\n                                variant=\"outline\"\r\n                                onClick={handleCopy}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":10,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport Image from 'next/image'\r\nimport { X, Copy, Check, Clock, Loader2, CheckCircle } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { cn, formatCurrency } from '@/lib/utils'\r\n\r\ninterface PixModalProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    orderId: string\r\n    amount: number\r\n    qrCode?: string\r\n    qrCodeBase64?: string\r\n    copyPaste?: string\r\n    expiresAt?: string\r\n    onPaymentConfirmed?: () => void\r\n}\r\n\r\nexport function PixModal({\r\n    isOpen,\r\n    onClose,\r\n    orderId,\r\n    amount,\r\n    qrCode,\r\n    qrCodeBase64,\r\n    copyPaste,\r\n    expiresAt,\r\n    onPaymentConfirmed,\r\n}: PixModalProps) {\r\n    const [copied, setCopied] = useState(false)\r\n    const [status, setStatus] = useState<'pending' | 'approved' | 'expired'>('pending')\r\n    const [timeLeft, setTimeLeft] = useState<number | null>(null)\r\n\r\n    // Calcular tempo restante\r\n    useEffect(() => {\r\n        if (!expiresAt) return\r\n\r\n        const calculateTimeLeft = () => {\r\n            const expires = new Date(expiresAt).getTime()\r\n            const now = Date.now()\r\n            const diff = Math.max(0, expires - now)\r\n            return Math.floor(diff / 1000)\r\n        }\r\n\r\n        setTimeLeft(calculateTimeLeft())\r\n\r\n        const interval = setInterval(() => {\r\n            const remaining = calculateTimeLeft()\r\n            setTimeLeft(remaining)\r\n            if (remaining <= 0) {\r\n                setStatus('expired')\r\n                clearInterval(interval)\r\n            }\r\n        }, 1000)\r\n\r\n        return () => clearInterval(interval)\r\n    }, [expiresAt])\r\n\r\n    // Polling de status\r\n    useEffect(() => {\r\n        if (!isOpen || status !== 'pending') return\r\n\r\n        const checkStatus = async () => {\r\n            try {\r\n                const response = await fetch(`/api/payments/status/${orderId}`)\r\n                const data = await response.json()\r\n\r\n                if (data.status === 'APPROVED') {\r\n                    setStatus('approved')\r\n                    onPaymentConfirmed?.()\r\n                }\r\n            } catch (error) {\r\n                console.error('Erro ao verificar status:', error)\r\n            }\r\n        }\r\n\r\n        // Verificar a cada 3 segundos\r\n        const interval = setInterval(checkStatus, 3000)\r\n\r\n        // Verificar imediatamente tamb├®m\r\n        checkStatus()\r\n\r\n        return () => clearInterval(interval)\r\n    }, [isOpen, orderId, status, onPaymentConfirmed])\r\n\r\n    // Copiar c├│digo Pix\r\n    const handleCopy = useCallback(async () => {\r\n        if (!copyPaste) return\r\n\r\n        try {\r\n            await navigator.clipboard.writeText(copyPaste)\r\n            setCopied(true)\r\n            toast.success('C├│digo Pix copiado!')\r\n            setTimeout(() => setCopied(false), 3000)\r\n        } catch (error) {\r\n            toast.error('Erro ao copiar c├│digo')\r\n        }\r\n    }, [copyPaste])\r\n\r\n    // Formatar tempo\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60)\r\n        const secs = seconds % 60\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n    }\r\n\r\n    if (!isOpen) return null\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-4\">\r\n            <div className=\"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden animate-slide-in-up\">\r\n                {/* Header */}\r\n                <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-center text-white relative\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"absolute top-4 right-4 text-white/80 hover:text-white\"\r\n                    >\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n\r\n                    {status === 'approved' ? (\r\n                        <>\r\n                            <CheckCircle className=\"w-16 h-16 mx-auto mb-3\" />\r\n                            <h2 className=\"text-2xl font-bold\">Pagamento Confirmado!</h2>\r\n                        </>\r\n                    ) : status === 'expired' ? (\r\n                        <>\r\n                            <Clock className=\"w-16 h-16 mx-auto mb-3 text-yellow-300\" />\r\n                            <h2 className=\"text-2xl font-bold\">QR Code Expirado</h2>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"w-16 h-16 mx-auto mb-3 rounded-full bg-white/20 flex items-center justify-center\">\r\n                                <span className=\"text-3xl\">­ƒô▒</span>\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-bold\">Pague com Pix</h2>\r\n                            <p className=\"text-white/80 mt-1\">\r\n                                {formatCurrency(amount)}\r\n                            </p>\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6\">\r\n                    {status === 'approved' ? (\r\n                        <div className=\"text-center space-y-4\">\r\n                            <p className=\"text-gray-600 dark:text-gray-300\">\r\n                                Seu pagamento foi confirmado com sucesso! Voc├¬ receber├í um email com os detalhes do seu pedido.\r\n                            </p>\r\n                            <Button\r\n                                onClick={() => window.location.href = `/obrigado?order=${orderId}`}\r\n                                className=\"w-full py-5 bg-gradient-to-r from-green-500 to-emerald-600\"\r\n                            >\r\n                                Acessar Minha Compra\r\n                            </Button>\r\n                        </div>\r\n                    ) : status === 'expired' ? (\r\n                        <div className=\"text-center space-y-4\">\r\n                            <p className=\"text-gray-600 dark:text-gray-300\">\r\n                                O tempo para pagamento expirou. Por favor, tente novamente.\r\n                            </p>\r\n                            <Button onClick={onClose} variant=\"outline\" className=\"w-full py-5\">\r\n                                Fechar\r\n                            </Button>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {/* Timer */}\r\n                            {timeLeft !== null && (\r\n                                <div className=\"flex items-center justify-center gap-2 mb-4 text-sm text-gray-600 dark:text-gray-400\">\r\n                                    <Clock className=\"w-4 h-4\" />\r\n                                    <span>Expira em</span>\r\n                                    <span className=\"font-mono font-bold text-orange-500\">\r\n                                        {formatTime(timeLeft)}\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* QR Code */}\r\n                            {qrCodeBase64 && (\r\n                                <div className=\"flex justify-center mb-6\">\r\n                                    <div className=\"p-4 bg-white rounded-xl shadow-inner\">\r\n                                        <Image\r\n                                            src={`data:image/png;base64,${qrCodeBase64}`}\r\n                                            alt=\"QR Code Pix\"\r\n                                            width={200}\r\n                                            height={200}\r\n                                            className=\"w-48 h-48\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Instru├º├Áes */}\r\n                            <div className=\"space-y-3 text-sm text-gray-600 dark:text-gray-400 mb-6\">\r\n                                <p className=\"flex items-start gap-2\">\r\n                                    <span className=\"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs flex-shrink-0\">1</span>\r\n                                    Abra o app do seu banco\r\n                                </p>\r\n                                <p className=\"flex items-start gap-2\">\r\n                                    <span className=\"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs flex-shrink-0\">2</span>\r\n                                    Escolha pagar com Pix\r\n                                </p>\r\n                                <p className=\"flex items-start gap-2\">\r\n                                    <span className=\"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs flex-shrink-0\">3</span>\r\n                                    Escaneie o QR Code ou copie o c├│digo\r\n                                </p>\r\n                            </div>\r\n\r\n                            {/* Copiar c├│digo */}\r\n                            <Button\r\n                                onClick={handleCopy}\r\n                                variant=\"outline\"\r\n                                className={cn(\r\n                                    'w-full py-5 border-2',\r\n                                    copied && 'border-green-500 text-green-600'\r\n                                )}\r\n                            >\r\n                                {copied ? (\r\n                                    <>\r\n                                        <Check className=\"mr-2 h-4 w-4\" />\r\n                                        C├│digo Copiado!\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Copy className=\"mr-2 h-4 w-4\" />\r\n                                        Copiar C├│digo Pix\r\n                                    </>\r\n                                )}\r\n                            </Button>\r\n\r\n                            {/* Status de verifica├º├úo */}\r\n                            <div className=\"flex items-center justify-center gap-2 mt-4 text-sm text-gray-500\">\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                                <span>Aguardando pagamento...</span>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\urgency-timer.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":52,"fix":{"range":[125,125],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":52,"fix":{"range":[16,127],"text":"import { Clock, AlertTriangle } from 'lucide-react'\r\nimport { useState, useEffect, useCallback } from 'react'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { Clock, AlertTriangle } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface UrgencyTimerProps {\r\n    minutes: number\r\n    storageKey?: string\r\n    onExpire?: () => void\r\n    className?: string\r\n}\r\n\r\nexport function UrgencyTimer({\r\n    minutes,\r\n    storageKey = 'checkout_timer',\r\n    onExpire,\r\n    className\r\n}: UrgencyTimerProps) {\r\n    const [timeLeft, setTimeLeft] = useState<number | null>(null)\r\n    const [isExpired, setIsExpired] = useState(false)\r\n\r\n    // Inicializar timer do localStorage ou criar novo\r\n    useEffect(() => {\r\n        const stored = localStorage.getItem(storageKey)\r\n\r\n        if (stored) {\r\n            const endTime = parseInt(stored, 10)\r\n            const remaining = Math.max(0, endTime - Date.now())\r\n\r\n            if (remaining > 0) {\r\n                setTimeLeft(Math.floor(remaining / 1000))\r\n            } else {\r\n                setIsExpired(true)\r\n                setTimeLeft(0)\r\n            }\r\n        } else {\r\n            // Criar novo timer\r\n            const endTime = Date.now() + minutes * 60 * 1000\r\n            localStorage.setItem(storageKey, endTime.toString())\r\n            setTimeLeft(minutes * 60)\r\n        }\r\n    }, [minutes, storageKey])\r\n\r\n    // Countdown\r\n    useEffect(() => {\r\n        if (timeLeft === null || timeLeft <= 0) return\r\n\r\n        const interval = setInterval(() => {\r\n            setTimeLeft((prev) => {\r\n                if (prev === null || prev <= 1) {\r\n                    clearInterval(interval)\r\n                    setIsExpired(true)\r\n                    onExpire?.()\r\n                    return 0\r\n                }\r\n                return prev - 1\r\n            })\r\n        }, 1000)\r\n\r\n        return () => clearInterval(interval)\r\n    }, [timeLeft, onExpire])\r\n\r\n    // Formatar tempo\r\n    const formatTime = useCallback((seconds: number) => {\r\n        const mins = Math.floor(seconds / 60)\r\n        const secs = seconds % 60\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n    }, [])\r\n\r\n    if (timeLeft === null) return null\r\n\r\n    const isLow = timeLeft < 60 // Menos de 1 minuto\r\n\r\n    return (\r\n        <div\r\n            className={cn(\r\n                'flex items-center justify-center gap-3 p-4 rounded-xl border-2 transition-all duration-300',\r\n                isExpired\r\n                    ? 'bg-red-50 dark:bg-red-950/20 border-red-300 dark:border-red-800'\r\n                    : isLow\r\n                        ? 'bg-orange-50 dark:bg-orange-950/20 border-orange-300 dark:border-orange-800 animate-pulse'\r\n                        : 'bg-yellow-50 dark:bg-yellow-950/20 border-yellow-300 dark:border-yellow-800',\r\n                className\r\n            )}\r\n        >\r\n            {isExpired ? (\r\n                <>\r\n                    <AlertTriangle className=\"w-5 h-5 text-red-500\" />\r\n                    <span className=\"font-semibold text-red-600 dark:text-red-400\">\r\n                        Oferta expirada!\r\n                    </span>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <Clock className={cn('w-5 h-5', isLow ? 'text-orange-500' : 'text-yellow-600')} />\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={cn('text-sm font-medium', isLow ? 'text-orange-600 dark:text-orange-400' : 'text-yellow-700 dark:text-yellow-400')}>\r\n                            Oferta expira em\r\n                        </span>\r\n                        <span\r\n                            className={cn(\r\n                                'font-mono font-bold text-lg px-2 py-0.5 rounded',\r\n                                isLow\r\n                                    ? 'bg-orange-500 text-white'\r\n                                    : 'bg-yellow-500 text-yellow-900'\r\n                            )}\r\n                        >\r\n                            {formatTime(timeLeft)}\r\n                        </span>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\checkout\\youtube-embed.tsx","messages":[{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":38,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":38,"endColumn":22,"fix":{"range":[950,1262],"text":"allowFullScreen\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                className=\"absolute inset-0 w-full h-full\"\r\n                src={`https://www.youtube.com/embed/${cleanVideoId}?${params.toString()}`}\r\n                title={title}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":39,"column":17,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":39,"endColumn":32,"fix":{"range":[950,1262],"text":"allowFullScreen\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                className=\"absolute inset-0 w-full h-full\"\r\n                src={`https://www.youtube.com/embed/${cleanVideoId}?${params.toString()}`}\r\n                title={title}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":40,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":40,"endColumn":26,"fix":{"range":[950,1262],"text":"allowFullScreen\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                className=\"absolute inset-0 w-full h-full\"\r\n                src={`https://www.youtube.com/embed/${cleanVideoId}?${params.toString()}`}\r\n                title={title}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"'use client'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface YouTubeEmbedProps {\r\n    videoId: string\r\n    title?: string\r\n    className?: string\r\n    autoplay?: boolean\r\n}\r\n\r\nexport function YouTubeEmbed({\r\n    videoId,\r\n    title = 'Video',\r\n    className,\r\n    autoplay = false\r\n}: YouTubeEmbedProps) {\r\n    if (!videoId) return null\r\n\r\n    // Limpar videoId se vier com URL completa\r\n    const cleanVideoId = videoId.includes('youtube.com')\r\n        ? new URL(videoId).searchParams.get('v') || videoId\r\n        : videoId.includes('youtu.be')\r\n            ? videoId.split('/').pop()?.split('?')[0] || videoId\r\n            : videoId\r\n\r\n    const params = new URLSearchParams({\r\n        rel: '0',\r\n        modestbranding: '1',\r\n        ...(autoplay && { autoplay: '1', mute: '1' }),\r\n    })\r\n\r\n    return (\r\n        <div className={cn('relative aspect-video rounded-xl overflow-hidden shadow-lg', className)}>\r\n            <iframe\r\n                src={`https://www.youtube.com/embed/${cleanVideoId}?${params.toString()}`}\r\n                title={title}\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                className=\"absolute inset-0 w-full h-full\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\bumps\\order-bump-manager.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":5,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardHeader' is defined but never used.","line":5,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":56},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":5,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":67},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":103,"fix":{"range":[581,581],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/select` import should occur before import of `@/components/ui/textarea`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":103,"fix":{"range":[426,583],"text":"import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Textarea } from '@/components/ui/textarea'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":71,"fix":{"range":[653,653],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":71,"fix":{"range":[16,655],"text":"import { Loader2, Plus, Trash2, Tag, AlertCircle } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":11,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":49},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":48,"fix":{"range":[702,702],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/switch` import should occur before import of `@/components/ui/textarea`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":48,"fix":{"range":[426,704],"text":"import { Switch } from '@/components/ui/switch'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Loader2, Plus, Trash2, Tag, AlertCircle } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":31,"fix":{"range":[734,734],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":31,"fix":{"range":[61,736],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Loader2, Plus, Trash2, Tag, AlertCircle } from 'lucide-react'\r\nimport { Switch } from '@/components/ui/switch'\r\n"}},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchBumps' and 'fetchProducts'. Either include them or remove the dependency array.","line":50,"column":8,"nodeType":"ArrayExpression","endLine":50,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBumps, fetchProducts, productId]","fix":{"range":[1729,1740],"text":"[fetchBumps, fetchProducts, productId]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2356,2359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2356,2359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":101,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3342,3345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3342,3345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":147,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":147,"endColumn":32,"fix":{"range":[5016,5095],"text":"disabled={availableProducts.length === 0} onClick={() => setIsDialogOpen(true)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":176,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":176,"endColumn":54,"fix":{"range":[6689,6730],"text":"className=\"overflow-hidden\" key={bump.id}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":180,"column":41,"nodeType":"JSXOpeningElement","endLine":180,"endColumn":124},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":76,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":79,"fix":{"range":[7063,7138],"text":"alt=\"\" className=\"w-full h-full object-cover\" src={bump.offer_product.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":83,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":92,"fix":{"range":[7063,7138],"text":"alt=\"\" className=\"w-full h-full object-cover\" src={bump.offer_product.foto}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":198,"column":82,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":198,"endColumn":91,"fix":{"range":[8567,8616],"text":"className=\"text-xs\" htmlFor={`active-${bump.id}`}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":201,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":201,"endColumn":56,"fix":{"range":[8733,8929],"text":"checked={bump.is_active}\r\n                                                id={`active-${bump.id}`}\r\n                                                onCheckedChange={() => handleToggleActive(bump)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":207,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":207,"endColumn":49,"fix":{"range":[9120,9380],"text":"className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                            size=\"icon\"\r\n                                            variant=\"ghost\"\r\n                                            onClick={() => handleDelete(bump.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":208,"column":45,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":208,"endColumn":52,"fix":{"range":[9120,9380],"text":"className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                            size=\"icon\"\r\n                                            variant=\"ghost\"\r\n                                            onClick={() => handleDelete(bump.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":268,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":268,"endColumn":40,"fix":{"range":[12220,12295],"text":"disabled={!selectedProduct || !headline || isSaving} onClick={handleCreate}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":18,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Loader2, Plus, Trash2, Tag, AlertCircle } from 'lucide-react'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { toast } from 'sonner'\r\nimport { formatCurrency } from '@/lib/utils'\r\n\r\ninterface Bump {\r\n    id: string\r\n    headline: string\r\n    description: string | null\r\n    is_active: boolean\r\n    offer_product: {\r\n        id: string\r\n        nome: string\r\n        preco: number\r\n        foto: string | null\r\n    }\r\n}\r\n\r\ninterface Product {\r\n    id: string\r\n    nome: string\r\n    preco: number\r\n}\r\n\r\nexport function OrderBumpManager({ productId }: { productId: string }) {\r\n    const [bumps, setBumps] = useState<Bump[]>([])\r\n    const [products, setProducts] = useState<Product[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    // Form states\r\n    const [selectedProduct, setSelectedProduct] = useState('')\r\n    const [headline, setHeadline] = useState('')\r\n    const [description, setDescription] = useState('')\r\n\r\n    useEffect(() => {\r\n        fetchBumps()\r\n        fetchProducts()\r\n    }, [productId])\r\n\r\n    const fetchBumps = async () => {\r\n        try {\r\n            const res = await fetch(`/api/products/${productId}/bumps`)\r\n            if (res.ok) setBumps(await res.json())\r\n        } catch (error) {\r\n            console.error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            const res = await fetch('/api/products')\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                // Filtrar o pr├│prio produto atual da lista\r\n                setProducts(data.produtos.filter((p: any) => p.id !== productId))\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const handleCreate = async () => {\r\n        if (!selectedProduct || !headline) return\r\n\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch(`/api/products/${productId}/bumps`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    offerProductId: selectedProduct,\r\n                    headline,\r\n                    description\r\n                })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) throw new Error(data.error || 'Erro ao criar bump')\r\n\r\n            toast.success('Order Bump criado!')\r\n            setIsDialogOpen(false)\r\n            setHeadline('')\r\n            setDescription('')\r\n            setSelectedProduct('')\r\n            fetchBumps()\r\n        } catch (err: any) {\r\n            toast.error(err.message)\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async (bumpId: string) => {\r\n        if (!confirm('Tem certeza?')) return\r\n\r\n        try {\r\n            await fetch(`/api/products/${productId}/bumps/${bumpId}`, { method: 'DELETE' })\r\n            setBumps(bumps.filter(b => b.id !== bumpId))\r\n            toast.success('Bump removido')\r\n        } catch {\r\n            toast.error('Erro ao remover')\r\n        }\r\n    }\r\n\r\n    const handleToggleActive = async (bump: Bump) => {\r\n        const newState = !bump.is_active\r\n        // Otimistic update\r\n        setBumps(bumps.map(b => b.id === bump.id ? { ...b, is_active: newState } : b))\r\n\r\n        try {\r\n            await fetch(`/api/products/${productId}/bumps/${bump.id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ is_active: newState })\r\n            })\r\n        } catch {\r\n            // Revert\r\n            setBumps(bumps.map(b => b.id === bump.id ? { ...b, is_active: !newState } : b))\r\n            toast.error('Erro ao atualizar')\r\n        }\r\n    }\r\n\r\n    const availableProducts = products.filter(p => !bumps.some(b => b.offer_product.id === p.id))\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-medium\">Order Bumps</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Ofere├ºa produtos complementares no checkout</p>\r\n                </div>\r\n                <Button onClick={() => setIsDialogOpen(true)} disabled={availableProducts.length === 0}>\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Adicionar Bump\r\n                </Button>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"flex justify-center p-8\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                </div>\r\n            ) : bumps.length === 0 ? (\r\n                <Card className=\"border-dashed\">\r\n                    <CardContent className=\"flex flex-col items-center justify-center py-10 text-center\">\r\n                        <Tag className=\"w-10 h-10 text-muted-foreground mb-4\" />\r\n                        <p className=\"text-lg font-medium\">Nenhum Order Bump configurado</p>\r\n                        <p className=\"text-sm text-muted-foreground max-w-sm mt-1\">\r\n                            Aumente seu ticket m├®dio oferecendo produtos adicionais na p├ígina de pagamento.\r\n                        </p>\r\n                        {availableProducts.length === 0 && products.length > 0 && (\r\n                            <p className=\"text-xs text-yellow-600 mt-4\">Todos os seus outros produtos j├í foram adicionados.</p>\r\n                        )}\r\n                        {products.length === 0 && (\r\n                            <p className=\"text-xs text-red-500 mt-4\">Voc├¬ precisa criar outro produto para oferecer como bump.</p>\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"grid gap-4\">\r\n                    {bumps.map((bump) => (\r\n                        <Card key={bump.id} className=\"overflow-hidden\">\r\n                            <div className=\"p-4 flex items-center gap-4\">\r\n                                <div className=\"h-16 w-16 bg-muted rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden\">\r\n                                    {bump.offer_product.foto ? (\r\n                                        <img src={bump.offer_product.foto} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                                    ) : (\r\n                                        <Tag className=\"w-8 h-8 text-muted-foreground\" />\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0 md:grid md:grid-cols-3 md:gap-4 items-center\">\r\n                                    <div className=\"md:col-span-2\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <h4 className=\"font-semibold truncate\">{bump.headline}</h4>\r\n                                            {!bump.is_active && (\r\n                                                <span className=\"text-[10px] bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full\">Inativo</span>\r\n                                            )}\r\n                                        </div>\r\n                                        <p className=\"text-sm text-muted-foreground\">Produto: {bump.offer_product.nome}</p>\r\n                                        <p className=\"text-sm font-medium\">{formatCurrency(bump.offer_product.preco)}</p>\r\n                                    </div>\r\n                                    <div className=\"flex items-center justify-end gap-3 mt-2 md:mt-0\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <Label htmlFor={`active-${bump.id}`} className=\"text-xs\">Ativo</Label>\r\n                                            <Switch\r\n                                                id={`active-${bump.id}`}\r\n                                                checked={bump.is_active}\r\n                                                onCheckedChange={() => handleToggleActive(bump)}\r\n                                            />\r\n                                        </div>\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"icon\"\r\n                                            onClick={() => handleDelete(bump.id)}\r\n                                            className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                        >\r\n                                            <Trash2 className=\"w-4 h-4\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Novo Order Bump</DialogTitle>\r\n                        <DialogDescription>\r\n                            Escolha um produto para oferecer como complemento.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Produto Oferta</Label>\r\n                            <Select value={selectedProduct} onValueChange={setSelectedProduct}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Selecione um produto...\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    {availableProducts.map(p => (\r\n                                        <SelectItem key={p.id} value={p.id}>\r\n                                            {p.nome} - {formatCurrency(p.preco)}\r\n                                        </SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>T├¡tulo Chamativo (Headline)</Label>\r\n                            <Input\r\n                                placeholder=\"Ex: Sim, eu quero levar tamb├®m...\"\r\n                                value={headline}\r\n                                onChange={e => setHeadline(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Descri├º├úo Curta</Label>\r\n                            <Textarea\r\n                                placeholder=\"Explique em poucas palavras o benef├¡cio...\"\r\n                                value={description}\r\n                                onChange={e => setDescription(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancelar</Button>\r\n                        <Button onClick={handleCreate} disabled={!selectedProduct || !headline || isSaving}>\r\n                            {isSaving ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Criar Offer Bump'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\checkout-editor.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":29},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/input` import should occur before import of `@/components/ui/label`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[159,253],"text":"import { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/image-upload` import should occur before import of `@/components/ui/label`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":59,"fix":{"range":[159,362],"text":"import { ImageUpload } from '@/components/ui/image-upload'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Switch } from '@/components/ui/switch'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1238,1241],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1238,1241],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":61,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":61,"endColumn":41,"fix":{"range":[1950,2147],"text":"type=\"product\" // Reuso do tipo product para upload\r\n                                value={config.logoUrl || null}\r\n                                onChange={(url) => handleChange('logoUrl', url)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":74,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":74,"endColumn":49,"fix":{"range":[2680,2932],"text":"className=\"w-12 h-10 p-1\"\r\n                                        type=\"color\"\r\n                                        value={config.primaryColor}\r\n                                        onChange={(e) => handleChange('primaryColor', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":89,"column":41,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":89,"endColumn":49,"fix":{"range":[3571,3829],"text":"className=\"w-12 h-10 p-1\"\r\n                                        type=\"color\"\r\n                                        value={config.backgroundColor}\r\n                                        onChange={(e) => handleChange('backgroundColor', e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":127,"column":37,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":127,"endColumn":45,"fix":{"range":[5605,5888],"text":"max={1440}\r\n                                    min={1}\r\n                                    type=\"number\"\r\n                                    value={config.timerDuration}\r\n                                    onChange={(e) => handleChange('timerDuration', parseInt(e.target.value))}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { ImageUpload } from '@/components/ui/image-upload'\r\n\r\nexport interface CheckoutConfig {\r\n    primaryColor: string\r\n    backgroundColor: string\r\n    textColor: string\r\n    logoUrl?: string\r\n    timerEnabled: boolean\r\n    timerDuration: number // minutos\r\n    askPhone: boolean\r\n    askCpf: boolean\r\n    socialProofEnabled: boolean\r\n}\r\n\r\nexport const defaultCheckoutConfig: CheckoutConfig = {\r\n    primaryColor: '#22c55e', // green-500\r\n    backgroundColor: '#ffffff',\r\n    textColor: '#09090b',\r\n    timerEnabled: false,\r\n    timerDuration: 15,\r\n    askPhone: true,\r\n    askCpf: true,\r\n    socialProofEnabled: false\r\n}\r\n\r\ninterface CheckoutEditorProps {\r\n    value: CheckoutConfig | null\r\n    onChange: (config: CheckoutConfig) => void\r\n}\r\n\r\nexport function CheckoutEditor({ value, onChange }: CheckoutEditorProps) {\r\n    const config = value || defaultCheckoutConfig\r\n\r\n    const handleChange = (key: keyof CheckoutConfig, val: any) => {\r\n        onChange({\r\n            ...config,\r\n            [key]: val\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <div className=\"space-y-6\">\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle>Identidade Visual</CardTitle>\r\n                        <CardDescription>Personalize as cores e logo do checkout</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Logo do Checkout</Label>\r\n                            <ImageUpload\r\n                                value={config.logoUrl || null}\r\n                                onChange={(url) => handleChange('logoUrl', url)}\r\n                                type=\"product\" // Reuso do tipo product para upload\r\n                            />\r\n                            <p className=\"text-xs text-muted-foreground\">Se n├úo informado, ser├í usado o nome do produto.</p>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Cor Prim├íria (Bot├Áes)</Label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Input\r\n                                        type=\"color\"\r\n                                        value={config.primaryColor}\r\n                                        onChange={(e) => handleChange('primaryColor', e.target.value)}\r\n                                        className=\"w-12 h-10 p-1\"\r\n                                    />\r\n                                    <Input\r\n                                        value={config.primaryColor}\r\n                                        onChange={(e) => handleChange('primaryColor', e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Cor de Fundo</Label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Input\r\n                                        type=\"color\"\r\n                                        value={config.backgroundColor}\r\n                                        onChange={(e) => handleChange('backgroundColor', e.target.value)}\r\n                                        className=\"w-12 h-10 p-1\"\r\n                                    />\r\n                                    <Input\r\n                                        value={config.backgroundColor}\r\n                                        onChange={(e) => handleChange('backgroundColor', e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle>Funcionalidades e Convers├úo</CardTitle>\r\n                        <CardDescription>Ative recursos para aumentar a convers├úo</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"space-y-0.5\">\r\n                                <Label>Timer de Escassez</Label>\r\n                                <p className=\"text-sm text-muted-foreground\">Mostra um contador regressivo no topo</p>\r\n                            </div>\r\n                            <Switch\r\n                                checked={config.timerEnabled}\r\n                                onCheckedChange={(c) => handleChange('timerEnabled', c)}\r\n                            />\r\n                        </div>\r\n\r\n                        {config.timerEnabled && (\r\n                            <div className=\"space-y-2 pl-4 border-l-2 border-muted animate-in fade-in\">\r\n                                <Label>Dura├º├úo (minutos)</Label>\r\n                                <Input\r\n                                    type=\"number\"\r\n                                    value={config.timerDuration}\r\n                                    onChange={(e) => handleChange('timerDuration', parseInt(e.target.value))}\r\n                                    min={1}\r\n                                    max={1440}\r\n                                />\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"space-y-0.5\">\r\n                                <Label>Prova Social</Label>\r\n                                <p className=\"text-sm text-muted-foreground\">Mostra notifica├º├Áes de compras recentes (fict├¡cias)</p>\r\n                            </div>\r\n                            <Switch\r\n                                checked={config.socialProofEnabled}\r\n                                onCheckedChange={(c) => handleChange('socialProofEnabled', c)}\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle>Campos do Formul├írio</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"space-y-0.5\">\r\n                                <Label>Solicitar Telefone</Label>\r\n                            </div>\r\n                            <Switch\r\n                                checked={config.askPhone}\r\n                                onCheckedChange={(c) => handleChange('askPhone', c)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"space-y-0.5\">\r\n                                <Label>Solicitar CPF</Label>\r\n                            </div>\r\n                            <Switch\r\n                                checked={config.askCpf}\r\n                                onCheckedChange={(c) => handleChange('askCpf', c)}\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\dashboard-header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\edit-lesson-dialog.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/dialog` import should occur before import of `@/components/ui/input`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":16,"endColumn":32,"fix":{"range":[110,433],"text":"import {\r\n    Dialog,\r\n    DialogOverlay,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":17,"column":1,"nodeType":"ImportDeclaration","endLine":17,"endColumn":80,"fix":{"range":[512,512],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/tabs` import should occur before import of `@/components/ui/textarea`","line":17,"column":1,"nodeType":"ImportDeclaration","endLine":17,"endColumn":80,"fix":{"range":[204,514],"text":"import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n    Dialog,\r\n    DialogOverlay,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":18,"column":1,"nodeType":"ImportDeclaration","endLine":18,"endColumn":113,"fix":{"range":[16,628],"text":"import { Loader2, Video, FileText, Clock, Paperclip, Trash2, UploadCloud, File as FileIcon } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n    Dialog,\r\n    DialogOverlay,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Paperclip' is defined but never used.","line":18,"column":43,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":52},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":19,"column":1,"nodeType":"ImportDeclaration","endLine":19,"endColumn":31,"fix":{"range":[61,660],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n    Dialog,\r\n    DialogOverlay,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Loader2, Video, FileText, Clock, Paperclip, Trash2, UploadCloud, File as FileIcon } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1407,1410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1407,1410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3753,3756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3753,3756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":168,"column":46,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":168,"endColumn":55,"fix":{"range":[5673,5714],"text":"className=\"w-full\" defaultValue=\"general\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":174,"column":50,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":174,"endColumn":59,"fix":{"range":[6024,6066],"text":"className=\"space-y-4 py-4\" value=\"general\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":180,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":180,"endColumn":41,"fix":{"range":[6268,6476],"text":"id=\"titulo\"\r\n                                placeholder=\"Ex: Introdu├º├úo ao M├│dulo\"\r\n                                value={titulo}\r\n                                onChange={(e) => setTitulo(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":186,"column":55,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":186,"endColumn":64,"fix":{"range":[6632,6686],"text":"className=\"flex items-center gap-2\" htmlFor=\"urlVideo\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":194,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":194,"endColumn":41,"fix":{"range":[6904,7194],"text":"id=\"urlVideo\"\r\n                                placeholder=\"https://youtube.com/watch?v=... ou https://vimeo.com/...\"\r\n                                type=\"url\"\r\n                                value={urlVideo}\r\n                                onChange={(e) => setUrlVideo(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":203,"column":56,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":203,"endColumn":65,"fix":{"range":[7528,7583],"text":"className=\"flex items-center gap-2\" htmlFor=\"descricao\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":210,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":210,"endColumn":41,"fix":{"range":[7804,8072],"text":"id=\"descricao\"\r\n                                placeholder=\"Descreva o conte├║do desta aula...\"\r\n                                rows={4}\r\n                                value={descricao}\r\n                                onChange={(e) => setDescricao(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":217,"column":58,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":217,"endColumn":67,"fix":{"range":[8228,8285],"text":"className=\"flex items-center gap-2\" htmlFor=\"releaseDays\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":224,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":224,"endColumn":36,"fix":{"range":[8517,8756],"text":"id=\"releaseDays\"\r\n                                min=\"0\"\r\n                                type=\"number\"\r\n                                value={releaseDays}\r\n                                onChange={(e) => setReleaseDays(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":234,"column":52,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":234,"endColumn":61,"fix":{"range":[9079,9123],"text":"className=\"space-y-4 py-4\" value=\"materials\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":244,"column":60,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":244,"endColumn":69,"fix":{"range":[9727,9820],"text":"className=\"flex items-center justify-between p-3 border rounded-md bg-muted/40\" key={file.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":256,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":256,"endColumn":53,"fix":{"range":[10733,11003],"text":"className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                                size=\"icon\"\r\n                                                variant=\"ghost\"\r\n                                                onClick={() => deleteFile(file.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":257,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":257,"endColumn":58,"fix":{"range":[10733,11003],"text":"className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                                size=\"icon\"\r\n                                                variant=\"ghost\"\r\n                                                onClick={() => deleteFile(file.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":276,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":276,"endColumn":39,"fix":{"range":[11930,12174],"text":"className=\"hidden\"\r\n                                    disabled={uploading}\r\n                                    id=\"file-upload\"\r\n                                    type=\"file\"\r\n                                    onChange={handleFileUpload}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":277,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":277,"endColumn":46,"fix":{"range":[11930,12174],"text":"className=\"hidden\"\r\n                                    disabled={uploading}\r\n                                    id=\"file-upload\"\r\n                                    type=\"file\"\r\n                                    onChange={handleFileUpload}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":278,"column":37,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":278,"endColumn":45,"fix":{"range":[11930,12174],"text":"className=\"hidden\"\r\n                                    disabled={uploading}\r\n                                    id=\"file-upload\"\r\n                                    type=\"file\"\r\n                                    onChange={handleFileUpload}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":283,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":283,"endColumn":46,"fix":{"range":[12288,12406],"text":"className=\"flex flex-col items-center cursor-pointer gap-2\"\r\n                                    htmlFor=\"file-upload\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":306,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":306,"endColumn":36,"fix":{"range":[13618,13724],"text":"className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" disabled={isSaving || !titulo} onClick={handleSave}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":27,"fixableErrorCount":0,"fixableWarningCount":24,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n    Dialog,\r\n    DialogOverlay,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Loader2, Video, FileText, Clock, Paperclip, Trash2, UploadCloud, File as FileIcon } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\ninterface Aula {\r\n    id: string\r\n    titulo: string\r\n    url_video: string | null\r\n    descricao: string | null\r\n    ordem: number\r\n    release_days: number\r\n}\r\n\r\ninterface EditLessonDialogProps {\r\n    aula: Aula | null\r\n    open: boolean\r\n    onOpenChange: (open: boolean) => void\r\n    onSave: (aula: Aula) => Promise<void>\r\n}\r\n\r\nexport function EditLessonDialog({ aula, open, onOpenChange, onSave }: EditLessonDialogProps) {\r\n    const [titulo, setTitulo] = useState('')\r\n    const [urlVideo, setUrlVideo] = useState('')\r\n    const [descricao, setDescricao] = useState('')\r\n    const [releaseDays, setReleaseDays] = useState('0')\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    // Arquivos\r\n    const [files, setFiles] = useState<any[]>([])\r\n    const [loadingFiles, setLoadingFiles] = useState(false)\r\n    const [uploading, setUploading] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (aula && open) {\r\n            setTitulo(aula.titulo)\r\n            setUrlVideo(aula.url_video || '')\r\n            setDescricao(aula.descricao || '')\r\n            setReleaseDays(aula.release_days?.toString() || '0')\r\n            fetchFiles(aula.id)\r\n        }\r\n    }, [aula, open])\r\n\r\n    const fetchFiles = async (aulaId: string) => {\r\n        setLoadingFiles(true)\r\n        try {\r\n            const res = await fetch(`/api/courses/files?aulaId=${aulaId}`)\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setFiles(data)\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        } finally {\r\n            setLoadingFiles(false)\r\n        }\r\n    }\r\n\r\n    const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0]\r\n        if (!file || !aula) return\r\n\r\n        setUploading(true)\r\n        try {\r\n            // 1. Upload f├¡sico\r\n            const formData = new FormData()\r\n            formData.append('file', file)\r\n\r\n            const uploadRes = await fetch('/api/courses/upload', {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n\r\n            if (!uploadRes.ok) {\r\n                const err = await uploadRes.json()\r\n                throw new Error(err.error || 'Erro no upload')\r\n            }\r\n\r\n            const uploadData = await uploadRes.json()\r\n\r\n            // 2. Salvar metadados\r\n            const saveRes = await fetch('/api/courses/files', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    aulaId: aula.id,\r\n                    nomeOriginal: uploadData.originalName,\r\n                    nomeSalvo: uploadData.savedName,\r\n                    caminhoArquivo: uploadData.url,\r\n                    tipoMime: uploadData.mimeType,\r\n                    tamanhoBytes: uploadData.size\r\n                })\r\n            })\r\n\r\n            if (!saveRes.ok) throw new Error('Erro ao salvar arquivo no banco')\r\n\r\n            toast.success('Arquivo enviado!')\r\n            fetchFiles(aula.id)\r\n        } catch (err: any) {\r\n            toast.error(err.message)\r\n        } finally {\r\n            setUploading(false)\r\n            // Limpar input\r\n            e.target.value = ''\r\n        }\r\n    }\r\n\r\n    const deleteFile = async (fileId: string) => {\r\n        try {\r\n            await fetch(`/api/courses/files?arquivoId=${fileId}`, { method: 'DELETE' })\r\n            setFiles(prev => prev.filter(f => f.id !== fileId))\r\n            toast.success('Arquivo removido')\r\n        } catch {\r\n            toast.error('Erro ao remover arquivo')\r\n        }\r\n    }\r\n\r\n    const handleSave = async () => {\r\n        if (!aula || !titulo) return\r\n\r\n        setIsSaving(true)\r\n        try {\r\n            await onSave({\r\n                ...aula,\r\n                titulo,\r\n                url_video: urlVideo || null,\r\n                descricao: descricao || null,\r\n                release_days: parseInt(releaseDays) || 0\r\n            })\r\n            onOpenChange(false)\r\n            toast.success('Aula atualizada!')\r\n        } catch (err) {\r\n            console.error('Erro ao salvar aula:', err)\r\n            toast.error('Erro ao salvar aula')\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\\n        <DialogOverlay className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" />\r\n            <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto bg-card text-foreground rounded-lg shadow-lg\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"flex items-center gap-2\">\r\n                        <Video className=\"w-5 h-5 text-primary\" />\r\n                        Editar Aula\r\n                    </DialogTitle>\r\n                    <DialogDescription>\r\n                        Conte├║do e materiais complementares\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <Tabs defaultValue=\"general\" className=\"w-full\">\r\n                    <TabsList className=\"grid w-full grid-cols-2\">\r\n                        <TabsTrigger value=\"general\">Geral</TabsTrigger>\r\n                        <TabsTrigger value=\"materials\">Materiais ({files.length})</TabsTrigger>\r\n                    </TabsList>\r\n\r\n                    <TabsContent value=\"general\" className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"titulo\">T├¡tulo da Aula *</Label>\r\n                            <Input\r\n                                id=\"titulo\"\r\n                                value={titulo}\r\n                                onChange={(e) => setTitulo(e.target.value)}\r\n                                placeholder=\"Ex: Introdu├º├úo ao M├│dulo\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"urlVideo\" className=\"flex items-center gap-2\">\r\n                                <Video className=\"w-4 h-4\" />\r\n                                URL do V├¡deo\r\n                            </Label>\r\n                            <Input\r\n                                id=\"urlVideo\"\r\n                                type=\"url\"\r\n                                value={urlVideo}\r\n                                onChange={(e) => setUrlVideo(e.target.value)}\r\n                                placeholder=\"https://youtube.com/watch?v=... ou https://vimeo.com/...\"\r\n                            />\r\n                            <p className=\"text-xs text-muted-foreground\">\r\n                                Suporta YouTube, Vimeo, Panda, etc.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"descricao\" className=\"flex items-center gap-2\">\r\n                                <FileText className=\"w-4 h-4\" />\r\n                                Descri├º├úo\r\n                            </Label>\r\n                            <Textarea\r\n                                id=\"descricao\"\r\n                                value={descricao}\r\n                                onChange={(e) => setDescricao(e.target.value)}\r\n                                placeholder=\"Descreva o conte├║do desta aula...\"\r\n                                rows={4}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"releaseDays\" className=\"flex items-center gap-2\">\r\n                                <Clock className=\"w-4 h-4\" />\r\n                                Dias para libera├º├úo (Drip)\r\n                            </Label>\r\n                            <Input\r\n                                id=\"releaseDays\"\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                value={releaseDays}\r\n                                onChange={(e) => setReleaseDays(e.target.value)}\r\n                            />\r\n                            <p className=\"text-xs text-muted-foreground\">\r\n                                0 = Imediato. 7 = Uma semana ap├│s a compra.\r\n                            </p>\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"materials\" className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Arquivos Anexados</Label>\r\n                            {loadingFiles ? (\r\n                                <div className=\"flex justify-center p-4\">\r\n                                    <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\r\n                                </div>\r\n                            ) : files.length > 0 ? (\r\n                                <div className=\"space-y-2\">\r\n                                    {files.map((file) => (\r\n                                        <div key={file.id} className=\"flex items-center justify-between p-3 border rounded-md bg-muted/40\">\r\n                                            <div className=\"flex items-center gap-3 overflow-hidden\">\r\n                                                <div className=\"p-2 bg-primary/10 rounded\">\r\n                                                    <FileIcon className=\"w-4 h-4 text-primary\" />\r\n                                                </div>\r\n                                                <div className=\"min-w-0\">\r\n                                                    <p className=\"text-sm font-medium truncate\">{file.nome_original}</p>\r\n                                                    <p className=\"text-xs text-muted-foreground\">{(file.tamanho_bytes / 1024 / 1024).toFixed(2)} MB</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <Button\r\n                                                variant=\"ghost\"\r\n                                                size=\"icon\"\r\n                                                className=\"text-red-500 hover:text-red-600 hover:bg-red-50\"\r\n                                                onClick={() => deleteFile(file.id)}\r\n                                            >\r\n                                                <Trash2 className=\"w-4 h-4\" />\r\n                                            </Button>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"text-center py-8 text-sm text-muted-foreground border border-dashed rounded-md\">\r\n                                    Nenhum arquivo anexado.\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"pt-2\">\r\n                            <div className=\"border-2 border-dashed border-primary/20 hover:border-primary/50 rounded-lg p-6 transition-colors bg-primary/5\">\r\n                                <input\r\n                                    type=\"file\"\r\n                                    id=\"file-upload\"\r\n                                    className=\"hidden\"\r\n                                    onChange={handleFileUpload}\r\n                                    disabled={uploading}\r\n                                />\r\n                                <label\r\n                                    htmlFor=\"file-upload\"\r\n                                    className=\"flex flex-col items-center cursor-pointer gap-2\"\r\n                                >\r\n                                    {uploading ? (\r\n                                        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n                                    ) : (\r\n                                        <UploadCloud className=\"w-8 h-8 text-primary\" />\r\n                                    )}\r\n                                    <span className=\"text-sm font-medium text-primary\">\r\n                                        {uploading ? 'Enviando...' : 'Clique para fazer upload de materiais'}\r\n                                    </span>\r\n                                    <span className=\"text-xs text-muted-foreground\">\r\n                                        PDF, ZIP, DOCX, Imagens (M├íx 50MB)\r\n                                    </span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </TabsContent>\r\n                </Tabs>\r\n\r\n                <DialogFooter className=\"mt-6\">\r\n                    <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button onClick={handleSave} disabled={isSaving || !titulo} className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\">\r\n                        {isSaving ? (\r\n                            <>\r\n                                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Salvar Altera├º├Áes\r\n                            </>\r\n                        ) : (\r\n                            'Salvar Altera├º├Áes'\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\edit-module-dialog.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":32,"fix":{"range":[358,358],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/dialog` import should occur before import of `@/components/ui/input`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":32,"fix":{"range":[110,360],"text":"import {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":55,"fix":{"range":[16,416],"text":"import { Loader2, Package, Clock } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":95,"column":54,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":95,"endColumn":63,"fix":{"range":[2863,2920],"text":"className=\"flex items-center gap-2\" htmlFor=\"releaseDays\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":102,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":102,"endColumn":32,"fix":{"range":[3132,3355],"text":"id=\"releaseDays\"\r\n                            min=\"0\"\r\n                            type=\"number\"\r\n                            value={releaseDays}\r\n                            onChange={(e) => setReleaseDays(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":116,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":116,"endColumn":36,"fix":{"range":[3820,3926],"text":"className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" disabled={isSaving || !titulo} onClick={handleSave}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Loader2, Package, Clock } from 'lucide-react'\r\n\r\ninterface Aula {\r\n    id: string\r\n    titulo: string\r\n    url_video: string | null\r\n    descricao: string | null\r\n    ordem: number\r\n    release_days: number\r\n}\r\n\r\ninterface Modulo {\r\n    id: string\r\n    titulo: string\r\n    ordem: number\r\n    release_days: number\r\n    aulas?: Aula[]\r\n}\r\n\r\ninterface EditModuleDialogProps {\r\n    modulo: Modulo | null\r\n    open: boolean\r\n    onOpenChange: (open: boolean) => void\r\n    onSave: (modulo: Modulo) => Promise<void>\r\n}\r\n\r\nexport function EditModuleDialog({ modulo, open, onOpenChange, onSave }: EditModuleDialogProps) {\r\n    const [titulo, setTitulo] = useState('')\r\n    const [releaseDays, setReleaseDays] = useState('0')\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (modulo && open) {\r\n            setTitulo(modulo.titulo)\r\n            setReleaseDays(modulo.release_days?.toString() || '0')\r\n        }\r\n    }, [modulo, open])\r\n\r\n    const handleSave = async () => {\r\n        if (!modulo || !titulo) return\r\n\r\n        setIsSaving(true)\r\n        try {\r\n            await onSave({\r\n                ...modulo,\r\n                titulo,\r\n                release_days: parseInt(releaseDays) || 0\r\n            })\r\n            onOpenChange(false)\r\n        } catch (err) {\r\n            console.error('Erro ao salvar m├│dulo:', err)\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"sm:max-w-[425px]\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"flex items-center gap-2\">\r\n                        <Package className=\"w-5 h-5 text-primary\" />\r\n                        Editar M├│dulo\r\n                    </DialogTitle>\r\n                    <DialogDescription>\r\n                        Modifique as informa├º├Áes do m├│dulo\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-4 py-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"titulo\">T├¡tulo do M├│dulo *</Label>\r\n                        <Input\r\n                            id=\"titulo\"\r\n                            value={titulo}\r\n                            onChange={(e) => setTitulo(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"releaseDays\" className=\"flex items-center gap-2\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            Dias para libera├º├úo (Drip)\r\n                        </Label>\r\n                        <Input\r\n                            id=\"releaseDays\"\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={releaseDays}\r\n                            onChange={(e) => setReleaseDays(e.target.value)}\r\n                        />\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Libera├º├úo autom├ítica ap├│s dias da compra.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                    <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button onClick={handleSave} disabled={isSaving || !titulo} className=\"bg-[#D4AF37] hover:bg-[#B5952F] text-black\">\r\n                        {isSaving ? (\r\n                            <>\r\n                                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Salvando...\r\n                            </>\r\n                        ) : (\r\n                            'Salvar'\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\header.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":68,"fix":{"range":[83,83],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":13,"column":1,"nodeType":"ImportDeclaration","endLine":13,"endColumn":46,"fix":{"range":[375,375],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `@/components/ui/button`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":54,"fix":{"range":[85,432],"text":"import { signOut, useSession } from 'next-auth/react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { Input } from '@/components/ui/input'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `@/components/ui/button`","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":29,"fix":{"range":[85,462],"text":"import Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signOut, useSession } from 'next-auth/react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":36,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":36,"endColumn":36,"fix":{"range":[1255,1421],"text":"className=\"w-full bg-background pl-9 md:w-[300px] lg:w-[300px]\"\r\n                        placeholder=\"Buscar vendas, alunos...\"\r\n                        type=\"search\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":37,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":37,"endColumn":34,"fix":{"range":[1255,1421],"text":"className=\"w-full bg-background pl-9 md:w-[300px] lg:w-[300px]\"\r\n                        placeholder=\"Buscar vendas, alunos...\"\r\n                        type=\"search\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":43,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":43,"endColumn":45,"fix":{"range":[1572,1620],"text":"className=\"relative\" size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":43,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":43,"endColumn":62,"fix":{"range":[1572,1620],"text":"className=\"relative\" size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":50,"column":49,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":50,"endColumn":58,"fix":{"range":[1935,1992],"text":"className=\"relative h-8 w-8 rounded-full\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":56,"column":59,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":56,"endColumn":64,"fix":{"range":[2336,2375],"text":"forceMount align=\"end\" className=\"w-56\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":56,"column":71,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":56,"endColumn":81,"fix":{"range":[2336,2375],"text":"forceMount align=\"end\" className=\"w-56\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":69,"column":62,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":69,"endColumn":71,"fix":{"range":[3144,3197],"text":"className=\"cursor-pointer\" href=\"/dashboard/settings\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":12,"source":"'use client'\r\n\r\nimport { Bell, Search, User, LogOut, Settings } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { Input } from '@/components/ui/input'\r\nimport { signOut, useSession } from 'next-auth/react'\r\nimport Link from 'next/link'\r\n\r\nexport function Header() {\r\n    const { data: session } = useSession()\r\n\r\n    const handleLogout = async () => {\r\n        await signOut({ callbackUrl: '/login' })\r\n    }\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-30 flex h-16 w-full items-center justify-between border-b bg-background/95 backdrop-blur px-6\">\r\n            <div className=\"flex items-center gap-4 md:hidden\">\r\n                {/* Mobile Menu Trigger (TODO) */}\r\n                <span className=\"font-bold\">Checkout</span>\r\n            </div>\r\n\r\n            <div className=\"hidden md:flex flex-1 max-w-sm\">\r\n                <div className=\"relative w-full\">\r\n                    <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                        type=\"search\"\r\n                        placeholder=\"Buscar vendas, alunos...\"\r\n                        className=\"w-full bg-background pl-9 md:w-[300px] lg:w-[300px]\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n                    <Bell className=\"h-5 w-5\" />\r\n                    <span className=\"absolute top-2 right-2 h-2 w-2 rounded-full bg-red-600 animate-pulse hidden\" />\r\n                </Button>\r\n\r\n                <DropdownMenu>\r\n                    <DropdownMenuTrigger asChild>\r\n                        <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\r\n                            <div className=\"flex h-full w-full items-center justify-center rounded-full bg-muted border\">\r\n                                <User className=\"h-4 w-4\" />\r\n                            </div>\r\n                        </Button>\r\n                    </DropdownMenuTrigger>\r\n                    <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\r\n                        <DropdownMenuLabel className=\"font-normal\">\r\n                            <div className=\"flex flex-col space-y-1\">\r\n                                <p className=\"text-sm font-medium leading-none\">\r\n                                    {session?.user?.name || 'Usu├írio'}\r\n                                </p>\r\n                                <p className=\"text-xs leading-none text-muted-foreground\">\r\n                                    {session?.user?.email || 'usuario@exemplo.com'}\r\n                                </p>\r\n                            </div>\r\n                        </DropdownMenuLabel>\r\n                        <DropdownMenuSeparator />\r\n                        <DropdownMenuItem asChild>\r\n                            <Link href=\"/dashboard/settings\" className=\"cursor-pointer\">\r\n                                <Settings className=\"w-4 h-4 mr-2\" />\r\n                                Configura├º├Áes\r\n                            </Link>\r\n                        </DropdownMenuItem>\r\n                        <DropdownMenuSeparator />\r\n                        <DropdownMenuItem\r\n                            className=\"text-red-600 cursor-pointer\"\r\n                            onClick={handleLogout}\r\n                        >\r\n                            <LogOut className=\"w-4 h-4 mr-2\" />\r\n                            Sair\r\n                        </DropdownMenuItem>\r\n                    </DropdownMenuContent>\r\n                </DropdownMenu>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\integrations\\utmfy-manager.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":52,"fix":{"range":[541,541],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/checkbox` import should occur before import of `@/components/ui/dialog`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":52,"fix":{"range":[168,543],"text":"import { Checkbox } from '@/components/ui/checkbox'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":64,"fix":{"range":[16,608],"text":"import { Loader2, Plus, Trash2, LineChart } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":31,"fix":{"range":[638,638],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":31,"fix":{"range":[61,640],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, LineChart } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/components/ui/button`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":46,"fix":{"range":[61,790],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, LineChart } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3408,3411],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3408,3411],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":129,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":129,"endColumn":32,"fix":{"range":[4481,4564],"text":"className=\"bg-purple-600 hover:bg-purple-700\" onClick={() => setIsDialogOpen(true)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":170,"column":105,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":170,"endColumn":114,"fix":{"range":[6722,6765],"text":"className=\"text-[10px]\" variant=\"secondary\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":171,"column":96,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":171,"endColumn":105,"fix":{"range":[6854,6897],"text":"className=\"text-[10px]\" variant=\"secondary\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":175,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":175,"endColumn":69,"fix":{"range":[7112,7177],"text":"size=\"icon\" variant=\"ghost\" onClick={() => handleDelete(item.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":209,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":209,"endColumn":44,"fix":{"range":[8627,8820],"text":"placeholder=\"...\"\r\n                                type=\"password\"\r\n                                value={apiToken}\r\n                                onChange={e => setApiToken(e.target.value)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":234,"column":59,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":234,"endColumn":66,"fix":{"range":[10054,10169],"text":"checked={events.includes('initiate_checkout')} id=\"evt-ic\" onCheckedChange={() => toggleEvent('initiate_checkout')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":238,"column":67,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":238,"endColumn":74,"fix":{"range":[10426,10531],"text":"checked={events.includes('approved')} id=\"evt-approved-u\" onCheckedChange={() => toggleEvent('approved')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":242,"column":66,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":242,"endColumn":73,"fix":{"range":[10798,10900],"text":"checked={events.includes('pending')} id=\"evt-pending-u\" onCheckedChange={() => toggleEvent('pending')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":251,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":251,"endColumn":40,"fix":{"range":[11317,11381],"text":"disabled={!name || !apiToken || isSaving} onClick={handleCreate}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":16,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, LineChart } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\ninterface UtmfyIntegration {\r\n    id: string\r\n    name: string\r\n    api_token: string\r\n    produto_id: string | null\r\n    produtos?: { nome: string }\r\n    event_approved: boolean\r\n    event_pending: boolean\r\n    event_rejected: boolean\r\n    event_refunded: boolean\r\n    event_charged_back: boolean\r\n    event_initiate_checkout: boolean\r\n    created_at: string\r\n}\r\n\r\ninterface Product {\r\n    id: string\r\n    nome: string\r\n}\r\n\r\nexport function UtmfyManager() {\r\n    const [integrations, setIntegrations] = useState<UtmfyIntegration[]>([])\r\n    const [products, setProducts] = useState<Product[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    // Form\r\n    const [name, setName] = useState('')\r\n    const [apiToken, setApiToken] = useState('')\r\n    const [selectedProduct, setSelectedProduct] = useState('global')\r\n    const [events, setEvents] = useState<string[]>(['approved', 'initiate_checkout'])\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [integrationsRes, productsRes] = await Promise.all([\r\n                fetch('/api/integrations/utmfy'),\r\n                fetch('/api/products')\r\n            ])\r\n\r\n            if (integrationsRes.ok) setIntegrations(await integrationsRes.json())\r\n            if (productsRes.ok) {\r\n                const pData = await productsRes.json()\r\n                setProducts(pData.produtos || [])\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleCreate = async () => {\r\n        if (!name || !apiToken) return\r\n\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch('/api/integrations/utmfy', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    api_token: apiToken,\r\n                    product_id: selectedProduct === 'global' ? null : selectedProduct,\r\n                    events\r\n                })\r\n            })\r\n\r\n            if (!res.ok) throw new Error('Erro ao criar integra├º├úo')\r\n\r\n            toast.success('Integra├º├úo UTMify criada!')\r\n            setIsDialogOpen(false)\r\n            setName('')\r\n            setApiToken('')\r\n            setSelectedProduct('global')\r\n            setEvents(['approved', 'initiate_checkout'])\r\n            fetchData()\r\n        } catch (err: any) {\r\n            toast.error(err.message)\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Tem certeza?')) return\r\n\r\n        try {\r\n            await fetch(`/api/integrations/utmfy/${id}`, { method: 'DELETE' })\r\n            setIntegrations(integrations.filter(i => i.id !== id))\r\n            toast.success('Integra├º├úo removida')\r\n        } catch {\r\n            toast.error('Erro ao remover')\r\n        }\r\n    }\r\n\r\n    const toggleEvent = (event: string) => {\r\n        setEvents(prev =>\r\n            prev.includes(event) ? prev.filter(e => e !== event) : [...prev, event]\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-medium\">Tracking (UTMify)</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Integra├º├úo nativa para rastreamento avan├ºado</p>\r\n                </div>\r\n                <Button onClick={() => setIsDialogOpen(true)} className=\"bg-purple-600 hover:bg-purple-700\">\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Nova Integra├º├úo\r\n                </Button>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"flex justify-center p-8\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                </div>\r\n            ) : integrations.length === 0 ? (\r\n                <Card>\r\n                    <CardContent className=\"flex flex-col items-center justify-center py-10 text-center text-muted-foreground\">\r\n                        <LineChart className=\"w-10 h-10 mb-4 opacity-50\" />\r\n                        <p>Nenhuma integra├º├úo UTMify configurada</p>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"border rounded-md\">\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <TableRow>\r\n                                <TableHead>Nome</TableHead>\r\n                                <TableHead>Escopo</TableHead>\r\n                                <TableHead>Eventos</TableHead>\r\n                                <TableHead className=\"w-[100px]\"></TableHead>\r\n                            </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                            {integrations.map((item) => (\r\n                                <TableRow key={item.id}>\r\n                                    <TableCell className=\"font-medium\">\r\n                                        {item.name}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <Badge variant=\"outline\">\r\n                                            {item.produto_id ? item.produtos?.nome || 'Produto Espec├¡fico' : 'Global'}\r\n                                        </Badge>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex flex-wrap gap-1\">\r\n                                            {item.event_initiate_checkout && <Badge variant=\"secondary\" className=\"text-[10px]\">IC</Badge>}\r\n                                            {item.event_approved && <Badge variant=\"secondary\" className=\"text-[10px]\">Purchase</Badge>}\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDelete(item.id)}>\r\n                                            <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                                        </Button>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </div>\r\n            )}\r\n\r\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Integra├º├úo UTMify</DialogTitle>\r\n                        <DialogDescription>\r\n                            Conecte com sua conta UTMify para rastreamento preciso.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Nome Identificador</Label>\r\n                            <Input\r\n                                placeholder=\"Ex: Conta Principal\"\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>API Token (UTMify)</Label>\r\n                            <Input\r\n                                type=\"password\"\r\n                                placeholder=\"...\"\r\n                                value={apiToken}\r\n                                onChange={e => setApiToken(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Escopo</Label>\r\n                            <Select value={selectedProduct} onValueChange={setSelectedProduct}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Selecione...\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"global\">Todos os produtos (Global)</SelectItem>\r\n                                    {products.map(p => (\r\n                                        <SelectItem key={p.id} value={p.id}>{p.nome}</SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Eventos para Enviar</Label>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-ic\" checked={events.includes('initiate_checkout')} onCheckedChange={() => toggleEvent('initiate_checkout')} />\r\n                                    <Label htmlFor=\"evt-ic\">Initiate Checkout</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-approved-u\" checked={events.includes('approved')} onCheckedChange={() => toggleEvent('approved')} />\r\n                                    <Label htmlFor=\"evt-approved-u\">Purchase (Aprovada)</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-pending-u\" checked={events.includes('pending')} onCheckedChange={() => toggleEvent('pending')} />\r\n                                    <Label htmlFor=\"evt-pending-u\">Pendente (Pix Gerado)</Label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancelar</Button>\r\n                        <Button onClick={handleCreate} disabled={!name || !apiToken || isSaving}>\r\n                            {isSaving ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Salvar'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\integrations\\webhooks-manager.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":5,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardHeader' is defined but never used.","line":5,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":56},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":5,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":67},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":52,"fix":{"range":[581,581],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/checkbox` import should occur before import of `@/components/ui/dialog`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":52,"fix":{"range":[208,583],"text":"import { Checkbox } from '@/components/ui/checkbox'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":72,"fix":{"range":[16,656],"text":"import { Loader2, Plus, Trash2, Globe, ArrowRight } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":11,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":50},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":31,"fix":{"range":[686,686],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":31,"fix":{"range":[61,688],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, Globe, ArrowRight } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/components/ui/button`","line":14,"column":1,"nodeType":"ImportDeclaration","endLine":14,"endColumn":46,"fix":{"range":[61,838],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, Globe, ArrowRight } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3177,3180],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3177,3180],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":176,"column":84,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":176,"endColumn":93,"fix":{"range":[6919,6970],"text":"className=\"text-[10px]\" key={e} variant=\"secondary\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":181,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":181,"endColumn":69,"fix":{"range":[7228,7296],"text":"size=\"icon\" variant=\"ghost\" onClick={() => handleDelete(webhook.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":230,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":230,"endColumn":72,"fix":{"range":[9717,9820],"text":"checked={events.includes('approved')} id=\"evt-approved\" onCheckedChange={() => toggleEvent('approved')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":234,"column":64,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":234,"endColumn":71,"fix":{"range":[10080,10180],"text":"checked={events.includes('pending')} id=\"evt-pending\" onCheckedChange={() => toggleEvent('pending')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":238,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":238,"endColumn":72,"fix":{"range":[10452,10555],"text":"checked={events.includes('rejected')} id=\"evt-rejected\" onCheckedChange={() => toggleEvent('rejected')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":242,"column":65,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":242,"endColumn":72,"fix":{"range":[10815,10918],"text":"checked={events.includes('refunded')} id=\"evt-refunded\" onCheckedChange={() => toggleEvent('refunded')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":246,"column":69,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":246,"endColumn":76,"fix":{"range":[11173,11288],"text":"checked={events.includes('charged_back')} id=\"evt-charged_back\" onCheckedChange={() => toggleEvent('charged_back')}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":255,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":255,"endColumn":40,"fix":{"range":[11697,11747],"text":"disabled={!url || isSaving} onClick={handleCreate}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":15,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Plus, Trash2, Globe, ArrowRight } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\ninterface Webhook {\r\n    id: string\r\n    url: string\r\n    produto_id: string | null\r\n    produtos?: { nome: string }\r\n    event_approved: boolean\r\n    event_pending: boolean\r\n    event_rejected: boolean\r\n    event_refunded: boolean\r\n    event_charged_back: boolean\r\n    created_at: string\r\n}\r\n\r\ninterface Product {\r\n    id: string\r\n    nome: string\r\n}\r\n\r\nexport function WebhooksManager() {\r\n    const [webhooks, setWebhooks] = useState<Webhook[]>([])\r\n    const [products, setProducts] = useState<Product[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    // Form\r\n    const [url, setUrl] = useState('')\r\n    const [selectedProduct, setSelectedProduct] = useState('global')\r\n    const [events, setEvents] = useState<string[]>(['approved'])\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [webhooksRes, productsRes] = await Promise.all([\r\n                fetch('/api/integrations/webhooks'),\r\n                fetch('/api/products')\r\n            ])\r\n\r\n            if (webhooksRes.ok) setWebhooks(await webhooksRes.json())\r\n            if (productsRes.ok) {\r\n                const pData = await productsRes.json()\r\n                setProducts(pData.produtos || [])\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleCreate = async () => {\r\n        if (!url) return\r\n\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch('/api/integrations/webhooks', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    url,\r\n                    produto_id: selectedProduct === 'global' ? null : selectedProduct,\r\n                    events\r\n                })\r\n            })\r\n\r\n            if (!res.ok) throw new Error('Erro ao criar webhook')\r\n\r\n            toast.success('Webhook criado!')\r\n            setIsDialogOpen(false)\r\n            setUrl('')\r\n            setSelectedProduct('global')\r\n            setEvents(['approved'])\r\n            fetchData() // Reload\r\n        } catch (err: any) {\r\n            toast.error(err.message)\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Tem certeza?')) return\r\n\r\n        try {\r\n            await fetch(`/api/integrations/webhooks/${id}`, { method: 'DELETE' })\r\n            setWebhooks(webhooks.filter(w => w.id !== id))\r\n            toast.success('Webhook removido')\r\n        } catch {\r\n            toast.error('Erro ao remover')\r\n        }\r\n    }\r\n\r\n    const toggleEvent = (event: string) => {\r\n        setEvents(prev =>\r\n            prev.includes(event) ? prev.filter(e => e !== event) : [...prev, event]\r\n        )\r\n    }\r\n\r\n    const getActiveEvents = (w: Webhook) => {\r\n        const events = []\r\n        if (w.event_approved) events.push('Aprovada')\r\n        if (w.event_pending) events.push('Pendente')\r\n        if (w.event_rejected) events.push('Recusada')\r\n        if (w.event_refunded) events.push('Reembolso')\r\n        if (w.event_charged_back) events.push('Chargeback')\r\n        return events\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-medium\">Webhooks</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Envie notifica├º├Áes de vendas para sistemas externos</p>\r\n                </div>\r\n                <Button onClick={() => setIsDialogOpen(true)}>\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Novo Webhook\r\n                </Button>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"flex justify-center p-8\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                </div>\r\n            ) : webhooks.length === 0 ? (\r\n                <Card>\r\n                    <CardContent className=\"flex flex-col items-center justify-center py-10 text-center text-muted-foreground\">\r\n                        <Globe className=\"w-10 h-10 mb-4 opacity-50\" />\r\n                        <p>Nenhum webhook configurado</p>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"border rounded-md\">\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <TableRow>\r\n                                <TableHead>URL</TableHead>\r\n                                <TableHead>Escopo</TableHead>\r\n                                <TableHead>Eventos</TableHead>\r\n                                <TableHead className=\"w-[100px]\"></TableHead>\r\n                            </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                            {webhooks.map((webhook) => (\r\n                                <TableRow key={webhook.id}>\r\n                                    <TableCell className=\"font-mono text-xs truncate max-w-[300px]\" title={webhook.url}>\r\n                                        {webhook.url}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <Badge variant=\"outline\">\r\n                                            {webhook.produto_id ? webhook.produtos?.nome || 'Produto Espec├¡fico' : 'Global (Todos)'}\r\n                                        </Badge>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex flex-wrap gap-1\">\r\n                                            {getActiveEvents(webhook).map(e => (\r\n                                                <Badge key={e} variant=\"secondary\" className=\"text-[10px]\">{e}</Badge>\r\n                                            ))}\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDelete(webhook.id)}>\r\n                                            <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                                        </Button>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </div>\r\n            )}\r\n\r\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Novo Webhook</DialogTitle>\r\n                        <DialogDescription>\r\n                            Configure para onde enviar os dados da venda.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>URL de Destino (POST)</Label>\r\n                            <Input\r\n                                placeholder=\"https://api.seusistema.com/webhook\"\r\n                                value={url}\r\n                                onChange={e => setUrl(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Escopo</Label>\r\n                            <Select value={selectedProduct} onValueChange={setSelectedProduct}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Selecione...\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"global\">Todos os produtos (Global)</SelectItem>\r\n                                    {products.map(p => (\r\n                                        <SelectItem key={p.id} value={p.id}>{p.nome}</SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Eventos</Label>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-approved\" checked={events.includes('approved')} onCheckedChange={() => toggleEvent('approved')} />\r\n                                    <Label htmlFor=\"evt-approved\">Venda Aprovada</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-pending\" checked={events.includes('pending')} onCheckedChange={() => toggleEvent('pending')} />\r\n                                    <Label htmlFor=\"evt-pending\">Venda Pendente (Pix/Boleto)</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-rejected\" checked={events.includes('rejected')} onCheckedChange={() => toggleEvent('rejected')} />\r\n                                    <Label htmlFor=\"evt-rejected\">Venda Recusada</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-refunded\" checked={events.includes('refunded')} onCheckedChange={() => toggleEvent('refunded')} />\r\n                                    <Label htmlFor=\"evt-refunded\">Reembolso</Label>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <Checkbox id=\"evt-charged_back\" checked={events.includes('charged_back')} onCheckedChange={() => toggleEvent('charged_back')} />\r\n                                    <Label htmlFor=\"evt-charged_back\">Chargeback</Label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancelar</Button>\r\n                        <Button onClick={handleCreate} disabled={!url || isSaving}>\r\n                            {isSaving ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Criar Webhook'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\kpi-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\product-actions.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":48,"fix":{"range":[63,63],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur after import of `sonner`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":48,"fix":{"range":[16,344],"text":"import { Edit, Copy, ExternalLink, MoreHorizontal } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":29,"fix":{"range":[166,166],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":39,"fix":{"range":[310,310],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/dropdown-menu` import should occur after import of `sonner`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":39,"fix":{"range":[168,344],"text":"import { toast } from 'sonner'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":29,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":29,"endColumn":45,"fix":{"range":[827,874],"text":"className=\"h-8 w-8\" size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":29,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":29,"endColumn":62,"fix":{"range":[827,874],"text":"className=\"h-8 w-8\" size=\"icon\" variant=\"ghost\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Edit, Copy, ExternalLink, MoreHorizontal } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { toast } from 'sonner'\r\n\r\ninterface ProductActionsProps {\r\n    productId: string\r\n    checkoutHash: string\r\n}\r\n\r\nexport function ProductActions({ productId, checkoutHash }: ProductActionsProps) {\r\n    const handleCopyLink = () => {\r\n        const link = `${window.location.origin}/checkout/${checkoutHash}`\r\n        navigator.clipboard.writeText(link)\r\n        toast.success('Link copiado!')\r\n    }\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n                    <MoreHorizontal className=\"h-4 w-4\" />\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\">\r\n                <DropdownMenuItem asChild>\r\n                    <Link href={`/dashboard/products/${productId}`}>\r\n                        <Edit className=\"w-4 h-4 mr-2\" />\r\n                        Editar\r\n                    </Link>\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem onClick={handleCopyLink}>\r\n                    <Copy className=\"w-4 h-4 mr-2\" />\r\n                    Copiar Link\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem asChild>\r\n                    <Link href={`/checkout/${checkoutHash}`} target=\"_blank\">\r\n                        <ExternalLink className=\"w-4 h-4 mr-2\" />\r\n                        Ver Checkout\r\n                    </Link>\r\n                </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\recent-sales.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@/components/ui/badge` import should occur before import of `@/components/ui/card`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":46,"fix":{"range":[65,193],"text":"import { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":34,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":34,"endColumn":54,"fix":{"range":[864,927],"text":"className=\"text-yellow-600 border-yellow-600\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":61,"column":44,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":61,"endColumn":53,"fix":{"range":[1886,1929],"text":"className=\"flex items-center\" key={sale.id}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { Avatar, AvatarFallback } from '@/components/ui/avatar'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\n\r\ninterface Sale {\r\n    id: string\r\n    customerName: string\r\n    customerEmail: string\r\n    amount: number\r\n    status: string\r\n    date: string\r\n}\r\n\r\ninterface RecentSalesProps {\r\n    sales: Sale[]\r\n}\r\n\r\nfunction getInitials(name: string) {\r\n    return name\r\n        .split(' ')\r\n        .map((n) => n[0])\r\n        .slice(0, 2)\r\n        .join('')\r\n        .toUpperCase()\r\n}\r\n\r\nfunction getStatusBadge(status: string) {\r\n    switch (status.toLowerCase()) {\r\n        case 'approved':\r\n        case 'paid':\r\n            return <Badge className=\"bg-green-500 hover:bg-green-600\">Aprovado</Badge>\r\n        case 'pending':\r\n        case 'waiting':\r\n            return <Badge variant=\"outline\" className=\"text-yellow-600 border-yellow-600\">Pendente</Badge>\r\n        case 'rejected':\r\n        case 'refused':\r\n        case 'cancelled':\r\n            return <Badge variant=\"destructive\">Cancelado</Badge>\r\n        case 'refunded':\r\n            return <Badge variant=\"secondary\">Reembolsado</Badge>\r\n        default:\r\n            return <Badge variant=\"secondary\">{status}</Badge>\r\n    }\r\n}\r\n\r\nexport function RecentSales({ sales }: RecentSalesProps) {\r\n    return (\r\n        <Card className=\"col-span-3\">\r\n            <CardHeader>\r\n                <CardTitle>├Ültimas Vendas</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n                <div className=\"space-y-8\">\r\n                    {sales.length === 0 && (\r\n                        <p className=\"text-muted-foreground text-sm text-center py-8\">\r\n                            Nenhuma venda recente.\r\n                        </p>\r\n                    )}\r\n\r\n                    {sales.map((sale) => (\r\n                        <div key={sale.id} className=\"flex items-center\">\r\n                            <Avatar className=\"h-9 w-9\">\r\n                                <AvatarFallback className=\"bg-primary/10 text-primary\">\r\n                                    {getInitials(sale.customerName || 'Cliente')}\r\n                                </AvatarFallback>\r\n                            </Avatar>\r\n                            <div className=\"ml-4 space-y-1\">\r\n                                <p className=\"text-sm font-medium leading-none\">{sale.customerName}</p>\r\n                                <p className=\"text-xs text-muted-foreground\">\r\n                                    {sale.customerEmail}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"ml-auto font-medium flex flex-col items-end gap-1\">\r\n                                <span>+R$ {sale.amount.toFixed(2)}</span>\r\n                                {getStatusBadge(sale.status)}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\sales-chart.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":80,"fix":{"range":[95,95],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`recharts` import should occur before import of `@/components/ui/card`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":102,"fix":{"range":[16,200],"text":"import { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[241,244],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[241,244],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[304,307],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[304,307],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":37,"column":55,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":37,"endColumn":61,"fix":{"range":[1347,1373],"text":"height=\"100%\" width=\"100%\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":43,"column":79,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":43,"endColumn":81,"fix":{"range":[1645,1688],"text":"id=\"colorValue\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":51,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":51,"endColumn":41,"fix":{"range":[2038,2249],"text":"axisLine={false}\r\n                                dataKey=\"date\"\r\n                                fontSize={12}\r\n                                stroke=\"#888888\"\r\n                                tickLine={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":41,"fix":{"range":[2038,2249],"text":"axisLine={false}\r\n                                dataKey=\"date\"\r\n                                fontSize={12}\r\n                                stroke=\"#888888\"\r\n                                tickLine={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":57,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":57,"endColumn":41,"fix":{"range":[2351,2588],"text":"axisLine={false}\r\n                                fontSize={12}\r\n                                stroke=\"#888888\"\r\n                                tickFormatter={(value) => `R$ ${value}`}\r\n                                tickLine={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":59,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":59,"endColumn":41,"fix":{"range":[2351,2588],"text":"axisLine={false}\r\n                                fontSize={12}\r\n                                stroke=\"#888888\"\r\n                                tickFormatter={(value) => `R$ ${value}`}\r\n                                tickLine={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":60,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":60,"endColumn":46,"fix":{"range":[2351,2588],"text":"axisLine={false}\r\n                                fontSize={12}\r\n                                stroke=\"#888888\"\r\n                                tickFormatter={(value) => `R$ ${value}`}\r\n                                tickLine={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":62,"column":83,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":62,"endColumn":89,"fix":{"range":[2665,2720],"text":"stroke=\"#E5E7EB\" strokeDasharray=\"3 3\" vertical={false}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":66,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":66,"endColumn":40,"fix":{"range":[2861,3131],"text":"dataKey=\"amount\"\r\n                                fill=\"url(#colorValue)\"\r\n                                fillOpacity={1}\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                type=\"monotone\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":67,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":67,"endColumn":39,"fix":{"range":[2861,3131],"text":"dataKey=\"amount\"\r\n                                fill=\"url(#colorValue)\"\r\n                                fillOpacity={1}\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                type=\"monotone\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":68,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":68,"endColumn":44,"fix":{"range":[2861,3131],"text":"dataKey=\"amount\"\r\n                                fill=\"url(#colorValue)\"\r\n                                fillOpacity={1}\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                type=\"monotone\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":69,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":69,"endColumn":44,"fix":{"range":[2861,3131],"text":"dataKey=\"amount\"\r\n                                fill=\"url(#colorValue)\"\r\n                                fillOpacity={1}\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                type=\"monotone\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":70,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":70,"endColumn":37,"fix":{"range":[2861,3131],"text":"dataKey=\"amount\"\r\n                                fill=\"url(#colorValue)\"\r\n                                fillOpacity={1}\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                type=\"monotone\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":15,"source":"'use client'\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts'\r\n\r\ninterface SalesChartProps {\r\n    data: any[]\r\n}\r\n\r\nconst CustomTooltip = ({ active, payload, label }: any) => {\r\n    if (active && payload && payload.length) {\r\n        return (\r\n            <div className=\"bg-background border rounded-lg p-3 shadow-lg text-sm\">\r\n                <p className=\"font-medium text-foreground mb-1\">{label}</p>\r\n                <div className=\"flex flex-col gap-1\">\r\n                    <span className=\"text-primary font-bold\">\r\n                        R$ {payload[0].value.toFixed(2)}\r\n                    </span>\r\n                    <span className=\"text-muted-foreground text-xs\">\r\n                        {payload[0].payload.vendas} vendas\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return null\r\n}\r\n\r\nexport function SalesChart({ data }: SalesChartProps) {\r\n    return (\r\n        <Card className=\"col-span-4\">\r\n            <CardHeader>\r\n                <CardTitle>Vendas Recentes</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"pl-0\">\r\n                <div className=\"h-[300px] w-full\">\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <AreaChart\r\n                            data={data}\r\n                            margin={{ top: 10, right: 30, left: 0, bottom: 0 }}\r\n                        >\r\n                            <defs>\r\n                                <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                    <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\r\n                                    <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\r\n                                </linearGradient>\r\n                            </defs>\r\n                            <XAxis\r\n                                dataKey=\"date\"\r\n                                stroke=\"#888888\"\r\n                                fontSize={12}\r\n                                tickLine={false}\r\n                                axisLine={false}\r\n                            />\r\n                            <YAxis\r\n                                stroke=\"#888888\"\r\n                                fontSize={12}\r\n                                tickLine={false}\r\n                                axisLine={false}\r\n                                tickFormatter={(value) => `R$ ${value}`}\r\n                            />\r\n                            <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#E5E7EB\" />\r\n                            <Tooltip content={<CustomTooltip />} />\r\n                            <Area\r\n                                type=\"monotone\"\r\n                                dataKey=\"amount\"\r\n                                stroke=\"#10b981\"\r\n                                strokeWidth={2}\r\n                                fillOpacity={1}\r\n                                fill=\"url(#colorValue)\"\r\n                            />\r\n                        </AreaChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\sidebar.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":126,"fix":{"range":[218,218],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `next/link`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":126,"fix":{"range":[16,220],"text":"import { Bot, ShoppingCart, Users, Settings, LogOut, Package, BarChart3, Sparkles, Plug, LayoutTemplate } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":5,"column":74,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":82},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[301,301],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/utils`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":48,"fix":{"range":[220,303],"text":"import { Button } from '@/components/ui/button'\r\nimport { cn } from '@/lib/utils'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`next-auth/react` import should occur before import of `@/lib/utils`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":42,"fix":{"range":[220,346],"text":"import { signOut } from 'next-auth/react'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":30,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":30,"endColumn":50,"fix":{"range":[1264,1335],"text":"className=\"flex items-center gap-2 font-bold text-xl\" href=\"/dashboard\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":45,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":45,"endColumn":37,"fix":{"range":[2089,2469],"text":"className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                                href={item.href}\r\n                                key={item.href}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":46,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":46,"endColumn":42,"fix":{"range":[2089,2469],"text":"className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                                href={item.href}\r\n                                key={item.href}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":30,"fix":{"range":[2859,3030],"text":"className=\"w-full justify-start gap-3 text-red-500 hover:text-red-400 hover:bg-red-500/10\"\r\n                    variant=\"ghost\"\r\n                    onClick={handleLogout}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":9,"source":"'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { Bot, ShoppingCart, Users, Settings, LogOut, Package, BarChart3, Sparkles, Plug, LayoutTemplate } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\nimport { signOut } from 'next-auth/react'\r\n\r\nconst menuItems = [\r\n    { icon: BarChart3, label: 'Vis├úo Geral', href: '/dashboard' },\r\n    { icon: ShoppingCart, label: 'Vendas', href: '/dashboard/sales' },\r\n    { icon: Package, label: 'Produtos', href: '/dashboard/products' },\r\n    { icon: LayoutTemplate, label: 'P├íginas', href: '/dashboard/sites' },\r\n    { icon: Users, label: 'Alunos', href: '/dashboard/students' },\r\n    { icon: Plug, label: 'Integra├º├Áes', href: '/dashboard/integrations' },\r\n    { icon: Settings, label: 'Configura├º├Áes', href: '/dashboard/settings' },\r\n]\r\n\r\nexport function Sidebar() {\r\n    const pathname = usePathname()\r\n\r\n    const handleLogout = async () => {\r\n        await signOut({ callbackUrl: '/login' })\r\n    }\r\n\r\n    return (\r\n        <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 sidebar-glass hidden md:flex flex-col\">\r\n            <div className=\"flex h-16 items-center sidebar-header px-6\">\r\n                <Link href=\"/dashboard\" className=\"flex items-center gap-2 font-bold text-xl\">\r\n                    <div className=\"relative flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-[#D4AF37] to-[#F6D764]\">\r\n                        <Bot className=\"w-5 h-5 text-black\" />\r\n                    </div>\r\n                    <span className=\"text-gradient-gold\">AgentiVerso</span>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto py-6 px-4\">\r\n                <nav className=\"space-y-1\">\r\n                    {menuItems.map((item) => {\r\n                        const isActive = pathname === item.href || (item.href !== '/dashboard' && pathname.startsWith(item.href))\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={cn(\r\n                                    \"sidebar-item\",\r\n                                    isActive\r\n                                        ? \"sidebar-item-active\"\r\n                                        : \"sidebar-item-inactive\"\r\n                                )}\r\n                            >\r\n                                <item.icon className=\"w-5 h-5\" />\r\n                                {item.label}\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </nav>\r\n            </div>\r\n\r\n            <div className=\"border-t border-[#D4AF37]/20 p-4\">\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    className=\"w-full justify-start gap-3 text-red-500 hover:text-red-400 hover:bg-red-500/10\"\r\n                    onClick={handleLogout}\r\n                >\r\n                    <LogOut className=\"w-5 h-5\" />\r\n                    Sair\r\n                </Button>\r\n            </div>\r\n        </aside>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\dashboard\\sites\\sites-manager.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":46,"fix":{"range":[384,384],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":80,"fix":{"range":[16,467],"text":"import { Copy, Loader2, Plus, Trash2, ExternalLink, Globe } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":31,"fix":{"range":[497,497],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":31,"fix":{"range":[61,499],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Copy, Loader2, Plus, Trash2, ExternalLink, Globe } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":102,"fix":{"range":[600,600],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":12,"endColumn":29,"fix":{"range":[16,632],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Copy, Loader2, Plus, Trash2, ExternalLink, Globe } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2223,2226],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2223,2226],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":101,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":101,"endColumn":32,"fix":{"range":[3282,3361],"text":"className=\"bg-blue-600 hover:bg-blue-700\" onClick={() => setIsDialogOpen(true)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":69,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":73,"fix":{"range":[5266,5349],"text":"className=\"h-6 w-6\" size=\"icon\" variant=\"ghost\" onClick={() => copyLink(site.slug)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":81,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":90,"fix":{"range":[5266,5349],"text":"className=\"h-6 w-6\" size=\"icon\" variant=\"ghost\" onClick={() => copyLink(site.slug)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":149,"column":73,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":149,"endColumn":77,"fix":{"range":[6115,6142],"text":"size=\"icon\" variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":153,"column":69,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":153,"endColumn":73,"fix":{"range":[6399,6464],"text":"size=\"icon\" variant=\"ghost\" onClick={() => handleDelete(site.id)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":208,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":208,"endColumn":40,"fix":{"range":[9052,9111],"text":"disabled={!url || !slug || isCloning} onClick={handleClone}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":13,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Copy, Loader2, Plus, Trash2, ExternalLink, Globe } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport Link from 'next/link'\r\n\r\ninterface ClonedSite {\r\n    id: string\r\n    title: string\r\n    original_url: string\r\n    slug: string\r\n    created_at: string\r\n}\r\n\r\nexport function SitesManager() {\r\n    const [sites, setSites] = useState<ClonedSite[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [isCloning, setIsCloning] = useState(false)\r\n\r\n    // Form\r\n    const [url, setUrl] = useState('')\r\n    const [slug, setSlug] = useState('')\r\n    const [title, setTitle] = useState('')\r\n\r\n    useEffect(() => {\r\n        fetchSites()\r\n    }, [])\r\n\r\n    const fetchSites = async () => {\r\n        try {\r\n            const res = await fetch('/api/sites/clone')\r\n            if (res.ok) setSites(await res.json())\r\n        } catch (error) {\r\n            console.error(error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleClone = async () => {\r\n        if (!url || !slug) return\r\n\r\n        setIsCloning(true)\r\n        try {\r\n            const res = await fetch('/api/sites/clone', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ url, slug, title })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) throw new Error(data.error || 'Erro ao clonar site')\r\n\r\n            toast.success('Site clonado com sucesso!')\r\n            setIsDialogOpen(false)\r\n            setUrl('')\r\n            setSlug('')\r\n            setTitle('')\r\n            fetchSites()\r\n        } catch (err: any) {\r\n            toast.error(err.message)\r\n        } finally {\r\n            setIsCloning(false)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Tem certeza?')) return\r\n\r\n        try {\r\n            await fetch(`/api/sites/${id}`, { method: 'DELETE' })\r\n            setSites(sites.filter(s => s.id !== id))\r\n            toast.success('Site removido')\r\n        } catch {\r\n            toast.error('Erro ao remover')\r\n        }\r\n    }\r\n\r\n    const copyLink = (slug: string) => {\r\n        const link = `${window.location.origin}/s/${slug}`\r\n        navigator.clipboard.writeText(link)\r\n        toast.success('Link copiado!')\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-medium\">Meus Sites</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Gerencie suas p├íginas clonadas e de alta convers├úo.</p>\r\n                </div>\r\n                <Button onClick={() => setIsDialogOpen(true)} className=\"bg-blue-600 hover:bg-blue-700\">\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Clonar P├ígina\r\n                </Button>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"flex justify-center p-8\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                </div>\r\n            ) : sites.length === 0 ? (\r\n                <Card>\r\n                    <CardContent className=\"flex flex-col items-center justify-center py-10 text-center text-muted-foreground\">\r\n                        <Globe className=\"w-10 h-10 mb-4 opacity-50\" />\r\n                        <p>Nenhuma p├ígina clonada ainda.</p>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"border rounded-md\">\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <TableRow>\r\n                                <TableHead>T├¡tulo</TableHead>\r\n                                <TableHead>Slug / URL Local</TableHead>\r\n                                <TableHead>Origem</TableHead>\r\n                                <TableHead className=\"w-[150px]\"></TableHead>\r\n                            </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                            {sites.map((site) => (\r\n                                <TableRow key={site.id}>\r\n                                    <TableCell className=\"font-medium\">\r\n                                        {site.title || site.slug}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <span className=\"text-sm text-muted-foreground\">/s/{site.slug}</span>\r\n                                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => copyLink(site.slug)}>\r\n                                                <Copy className=\"w-3 h-3\" />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </TableCell>\r\n                                    <TableCell className=\"max-w-[200px] truncate text-muted-foreground text-xs\" title={site.original_url}>\r\n                                        {site.original_url}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <Link href={`/s/${site.slug}`} target=\"_blank\">\r\n                                                <Button variant=\"ghost\" size=\"icon\">\r\n                                                    <ExternalLink className=\"w-4 h-4\" />\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDelete(site.id)}>\r\n                                                <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </div>\r\n            )}\r\n\r\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Clonar P├ígina</DialogTitle>\r\n                        <DialogDescription>\r\n                            Copie qualquer p├ígina da web para usar em suas campanhas.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>URL Original</Label>\r\n                            <Input\r\n                                placeholder=\"https://exemplo.com/pagina-vendas\"\r\n                                value={url}\r\n                                onChange={e => setUrl(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Slug (URL Amig├ível)</Label>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-sm text-muted-foreground whitespace-nowrap\">seudominio.com/s/</span>\r\n                                <Input\r\n                                    placeholder=\"minha-oferta\"\r\n                                    value={slug}\r\n                                    onChange={e => setSlug(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>T├¡tulo Interno</Label>\r\n                            <Input\r\n                                placeholder=\"P├ígina de Vendas Produto X\"\r\n                                value={title}\r\n                                onChange={e => setTitle(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancelar</Button>\r\n                        <Button onClick={handleClone} disabled={!url || !slug || isCloning}>\r\n                            {isCloning ? (\r\n                                <>\r\n                                    <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                                    Clonando...\r\n                                </>\r\n                            ) : 'Clonar Agora'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\members\\course-sidebar.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`next/link` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":29,"fix":{"range":[16,91],"text":"import Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":46,"fix":{"range":[136,136],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":46,"fix":{"range":[16,138],"text":"import { usePathname } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":33,"fix":{"range":[170,170],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":67,"fix":{"range":[238,238],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":67,"fix":{"range":[16,240],"text":"import { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { cn } from '@/lib/utils'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/scroll-area` import should occur before import of `@/lib/utils`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":57,"fix":{"range":[138,298],"text":"import { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/utils`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":48,"fix":{"range":[138,347],"text":"import { Button } from '@/components/ui/button'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/sheet` import should occur before import of `@/lib/utils`","line":10,"column":1,"nodeType":"ImportDeclaration","endLine":10,"endColumn":74,"fix":{"range":[138,422],"text":"import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/progress` import should occur before import of `@/lib/utils`","line":11,"column":1,"nodeType":"ImportDeclaration","endLine":11,"endColumn":52,"fix":{"range":[138,475],"text":"import { Progress } from '@/components/ui/progress'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/accordion` import should occur before import of `@/lib/utils`","line":12,"column":1,"nodeType":"ImportDeclaration","endLine":17,"endColumn":35,"fix":{"range":[138,603],"text":"import {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'\r\nimport { Progress } from '@/components/ui/progress'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[648,651],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[648,651],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isClient' is assigned a value but never used.","line":29,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":29,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1623,1626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1623,1626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":66,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":66,"endColumn":60,"fix":{"range":[2755,2790],"text":"className=\"h-2\" value={porcentagem}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":71,"column":44,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":71,"endColumn":56,"fix":{"range":[2913,2977],"text":"className=\"w-full\" defaultValue={[defaultValue]} type=\"multiple\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":71,"column":74,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":71,"endColumn":83,"fix":{"range":[2913,2977],"text":"className=\"w-full\" defaultValue={[defaultValue]} type=\"multiple\""}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3028,3031],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3028,3031],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3339,3342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3339,3342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4766,4769],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4766,4769],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":106,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":106,"endColumn":57,"fix":{"range":[5451,6394],"text":"className={cn(\r\n                                                        \"flex items-center gap-x-2 text-sm font-medium pl-6 pr-4 py-3 transition-all hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800\",\r\n                                                        isActive && \"bg-slate-100 dark:bg-slate-800 text-primary border-r-2 border-primary\",\r\n                                                        isCompleted && !isActive && \"text-emerald-700\",\r\n                                                        isLocked && \"opacity-50 cursor-not-allowed hover:bg-transparent hover:text-inherit\"\r\n                                                    )}\r\n                                                    href={isLocked ? '#' : `/members/${produtoId}/lesson/${aula.id}`}\r\n                                                    key={aula.id}\r\n                                                    onClick={(e) => isLocked && e.preventDefault()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":107,"column":53,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":107,"endColumn":60,"fix":{"range":[5451,6394],"text":"className={cn(\r\n                                                        \"flex items-center gap-x-2 text-sm font-medium pl-6 pr-4 py-3 transition-all hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800\",\r\n                                                        isActive && \"bg-slate-100 dark:bg-slate-800 text-primary border-r-2 border-primary\",\r\n                                                        isCompleted && !isActive && \"text-emerald-700\",\r\n                                                        isLocked && \"opacity-50 cursor-not-allowed hover:bg-transparent hover:text-inherit\"\r\n                                                    )}\r\n                                                    href={isLocked ? '#' : `/members/${produtoId}/lesson/${aula.id}`}\r\n                                                    key={aula.id}\r\n                                                    onClick={(e) => isLocked && e.preventDefault()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":43,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":47,"fix":{"range":[7912,7966],"text":"asChild className=\"w-full\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":138,"column":53,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":138,"endColumn":62,"fix":{"range":[7912,7966],"text":"asChild className=\"w-full\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":138,"column":72,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":138,"endColumn":79,"fix":{"range":[7912,7966],"text":"asChild className=\"w-full\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":158,"column":51,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":158,"endColumn":55,"fix":{"range":[8580,8638],"text":"className=\"bg-white shadow-md\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":158,"column":61,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":158,"endColumn":70,"fix":{"range":[8580,8638],"text":"className=\"bg-white shadow-md\" size=\"sm\" variant=\"outline\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":163,"column":47,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":163,"endColumn":56,"fix":{"range":[8845,8886],"text":"className=\"p-0 bg-white w-80\" side=\"left\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":29,"fixableErrorCount":0,"fixableWarningCount":22,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { cn } from '@/lib/utils'\r\nimport { CheckCircle, PlayCircle, Lock, Menu } from 'lucide-react'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\n\r\ninterface CourseSidebarProps {\r\n    curso: any\r\n    produtoId: string\r\n    diasDesdeAcesso?: number // Dias desde a data de acesso do aluno\r\n    progressoIds?: string[] // IDs das aulas conclu├¡das\r\n}\r\n\r\nexport function CourseSidebar({ curso, produtoId, diasDesdeAcesso = 0, progressoIds = [] }: CourseSidebarProps) {\r\n    const pathname = usePathname()\r\n    const [progress, setProgress] = useState<string[]>(progressoIds)\r\n    const [isClient, setIsClient] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setIsClient(true)\r\n        // Buscar progresso do servidor\r\n        fetch(`/api/members/progress?produtoId=${produtoId}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.progresso) {\r\n                    setProgress(data.progresso.map((p: any) => p.aula_id))\r\n                }\r\n            })\r\n            .catch(console.error)\r\n    }, [produtoId])\r\n\r\n    // Contar total de aulas e aulas conclu├¡das\r\n    const totalAulas = curso.modulos.reduce((acc: number, m: any) => acc + m.aulas.length, 0)\r\n    const aulasCompletas = progress.length\r\n    const porcentagem = totalAulas > 0 ? Math.round((aulasCompletas / totalAulas) * 100) : 0\r\n\r\n    const defaultValue = curso.modulos.length > 0 ? curso.modulos[0].id : undefined\r\n\r\n    const SidebarContent = () => (\r\n        <div className=\"h-full flex flex-col border-r bg-white dark:bg-gray-950 w-full\">\r\n            <div className=\"p-4 border-b\">\r\n                <h2 className=\"font-semibold text-lg line-clamp-1\" title={curso.titulo}>\r\n                    {curso.titulo}\r\n                </h2>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                    {totalAulas} aulas ÔÇó {aulasCompletas} conclu├¡das\r\n                </p>\r\n                {/* Barra de Progresso */}\r\n                <div className=\"mt-3 space-y-1\">\r\n                    <div className=\"flex justify-between text-xs\">\r\n                        <span className=\"text-muted-foreground\">Progresso</span>\r\n                        <span className=\"font-medium text-primary\">{porcentagem}%</span>\r\n                    </div>\r\n                    <Progress value={porcentagem} className=\"h-2\" />\r\n                </div>\r\n            </div>\r\n\r\n            <ScrollArea className=\"flex-1\">\r\n                <Accordion type=\"multiple\" defaultValue={[defaultValue]} className=\"w-full\">\r\n                    {curso.modulos.map((modulo: any) => {\r\n                        // Verificar se o m├│dulo est├í bloqueado\r\n                        const moduloLocked = diasDesdeAcesso < (modulo.release_days || 0)\r\n                        const aulasDoModulo = modulo.aulas.length\r\n                        const aulasCompletasModulo = modulo.aulas.filter((a: any) => progress.includes(a.id)).length\r\n\r\n                        return (\r\n                            <AccordionItem key={modulo.id} value={modulo.id}>\r\n                                <AccordionTrigger className=\"px-4 py-3 hover:no-underline hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors\">\r\n                                    <div className=\"text-left flex-1\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            {moduloLocked && <Lock className=\"h-3 w-3 text-muted-foreground\" />}\r\n                                            <span className={cn(\"text-sm font-medium\", moduloLocked && \"text-muted-foreground\")}>\r\n                                                {modulo.titulo}\r\n                                            </span>\r\n                                        </div>\r\n                                        <span className=\"text-xs text-muted-foreground block font-normal\">\r\n                                            {aulasCompletasModulo}/{aulasDoModulo} aulas\r\n                                        </span>\r\n                                    </div>\r\n                                </AccordionTrigger>\r\n                                <AccordionContent className=\"pt-0 pb-0\">\r\n                                    <div className=\"flex flex-col\">\r\n                                        {modulo.aulas.map((aula: any) => {\r\n                                            const isActive = pathname.includes(`/lesson/${aula.id}`)\r\n                                            const isCompleted = progress.includes(aula.id)\r\n\r\n                                            // Verificar release_days da aula e do m├│dulo\r\n                                            const aulaReleaseDays = Math.max(modulo.release_days || 0, aula.release_days || 0)\r\n                                            const isLocked = diasDesdeAcesso < aulaReleaseDays\r\n\r\n                                            return (\r\n                                                <Link\r\n                                                    key={aula.id}\r\n                                                    href={isLocked ? '#' : `/members/${produtoId}/lesson/${aula.id}`}\r\n                                                    onClick={(e) => isLocked && e.preventDefault()}\r\n                                                    className={cn(\r\n                                                        \"flex items-center gap-x-2 text-sm font-medium pl-6 pr-4 py-3 transition-all hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800\",\r\n                                                        isActive && \"bg-slate-100 dark:bg-slate-800 text-primary border-r-2 border-primary\",\r\n                                                        isCompleted && !isActive && \"text-emerald-700\",\r\n                                                        isLocked && \"opacity-50 cursor-not-allowed hover:bg-transparent hover:text-inherit\"\r\n                                                    )}\r\n                                                >\r\n                                                    <div className=\"flex items-center gap-x-2 w-full\">\r\n                                                        {isLocked ? (\r\n                                                            <Lock className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\r\n                                                        ) : isCompleted ? (\r\n                                                            <CheckCircle className=\"h-4 w-4 text-emerald-600 shrink-0\" />\r\n                                                        ) : (\r\n                                                            <PlayCircle className={cn(\"h-4 w-4 shrink-0\", isActive ? \"fill-primary text-white\" : \"text-slate-500\")} />\r\n                                                        )}\r\n                                                        <span className=\"line-clamp-1\">{aula.titulo}</span>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n                        )\r\n                    })}\r\n                </Accordion>\r\n            </ScrollArea>\r\n\r\n            {/* Link para voltar */}\r\n            <div className=\"p-4 border-t\">\r\n                <Button variant=\"outline\" size=\"sm\" className=\"w-full\" asChild>\r\n                    <Link href=\"/members\">\r\n                        ÔåÉ Voltar aos Cursos\r\n                    </Link>\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {/* Desktop Sidebar */}\r\n            <div className=\"hidden md:flex h-full w-80 flex-col fixed inset-y-0 z-50 mt-16\">\r\n                <SidebarContent />\r\n            </div>\r\n\r\n            {/* Mobile Sheet */}\r\n            <div className=\"md:hidden fixed top-[70px] right-4 z-50\">\r\n                <Sheet>\r\n                    <SheetTrigger asChild>\r\n                        <Button variant=\"outline\" size=\"sm\" className=\"bg-white shadow-md\">\r\n                            <Menu className=\"h-4 w-4 mr-2\" />\r\n                            Aulas\r\n                        </Button>\r\n                    </SheetTrigger>\r\n                    <SheetContent side=\"left\" className=\"p-0 bg-white w-80\">\r\n                        <SidebarContent />\r\n                    </SheetContent>\r\n                </Sheet>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\members\\lesson-complete-button.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[93,93],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":44,"fix":{"range":[16,95],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":48,"fix":{"range":[142,142],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":60,"fix":{"range":[203,203],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":60,"fix":{"range":[16,205],"text":"import { CheckCircle, Circle, Loader2 } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":59,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":59,"endColumn":17,"fix":{"range":[1992,2294],"text":"className={cn(\r\n                \"transition-all gap-2\",\r\n                isCompleted && \"bg-green-600 hover:bg-green-700 text-white\"\r\n            )}\r\n            disabled={isLoading}\r\n            size=\"sm\"\r\n            variant={isCompleted ? \"default\" : \"outline\"}\r\n            onClick={toggleComplete}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":60,"column":13,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":60,"endColumn":20,"fix":{"range":[1992,2294],"text":"className={cn(\r\n                \"transition-all gap-2\",\r\n                isCompleted && \"bg-green-600 hover:bg-green-700 text-white\"\r\n            )}\r\n            disabled={isLoading}\r\n            size=\"sm\"\r\n            variant={isCompleted ? \"default\" : \"outline\"}\r\n            onClick={toggleComplete}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { CheckCircle, Circle, Loader2 } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface LessonCompleteButtonProps {\r\n    aulaId: string\r\n    isCompleted: boolean\r\n    onComplete?: (completed: boolean) => void\r\n}\r\n\r\nexport function LessonCompleteButton({ aulaId, isCompleted: initialCompleted, onComplete }: LessonCompleteButtonProps) {\r\n    const [isCompleted, setIsCompleted] = useState(initialCompleted)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const router = useRouter()\r\n\r\n    async function toggleComplete() {\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            if (isCompleted) {\r\n                // Remover progresso\r\n                const res = await fetch(`/api/members/progress?aulaId=${aulaId}`, {\r\n                    method: 'DELETE'\r\n                })\r\n                if (res.ok) {\r\n                    setIsCompleted(false)\r\n                    onComplete?.(false)\r\n                    // Atualizar a p├ígina para refletir a mudan├ºa no sidebar\r\n                    router.refresh()\r\n                }\r\n            } else {\r\n                // Marcar como conclu├¡da\r\n                const res = await fetch('/api/members/progress', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ aulaId })\r\n                })\r\n                if (res.ok) {\r\n                    setIsCompleted(true)\r\n                    onComplete?.(true)\r\n                    // Atualizar a p├ígina para refletir a mudan├ºa no sidebar\r\n                    router.refresh()\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Erro ao atualizar progresso:', error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            variant={isCompleted ? \"default\" : \"outline\"}\r\n            size=\"sm\"\r\n            onClick={toggleComplete}\r\n            disabled={isLoading}\r\n            className={cn(\r\n                \"transition-all gap-2\",\r\n                isCompleted && \"bg-green-600 hover:bg-green-700 text-white\"\r\n            )}\r\n        >\r\n            {isLoading ? (\r\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n            ) : isCompleted ? (\r\n                <CheckCircle className=\"w-4 h-4\" />\r\n            ) : (\r\n                <Circle className=\"w-4 h-4\" />\r\n            )}\r\n            {isCompleted ? 'Conclu├¡da' : 'Marcar como Conclu├¡da'}\r\n        </Button>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\members\\lesson-files-list.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":89,"fix":{"range":[104,104],"text":"\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":21,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":30,"fix":{"range":[1924,2094],"text":"className=\"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border hover:border-primary/50 transition-colors\"\r\n                    key={file.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":68,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":68,"endColumn":29,"fix":{"range":[2756,2839],"text":"asChild\r\n                        size=\"sm\"\r\n                        variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":69,"column":25,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":69,"endColumn":32,"fix":{"range":[2756,2839],"text":"asChild\r\n                        size=\"sm\"\r\n                        variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":71,"column":67,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":71,"endColumn":75,"fix":{"range":[2891,2938],"text":"download href={`/api/members/files/${file.id}`}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":5,"source":"'use client'\r\n\r\nimport { Download, FileText, FileImage, FileVideo, FileAudio, File } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\n\r\ninterface LessonFile {\r\n    id: string\r\n    nome_original: string\r\n    tipo_mime: string | null\r\n    tamanho_bytes: number | null\r\n}\r\n\r\ninterface LessonFilesListProps {\r\n    files: LessonFile[]\r\n}\r\n\r\nfunction getFileIcon(mimeType: string | null) {\r\n    if (!mimeType) return <File className=\"w-5 h-5\" />\r\n\r\n    if (mimeType.startsWith('image/')) return <FileImage className=\"w-5 h-5 text-purple-600\" />\r\n    if (mimeType.startsWith('video/')) return <FileVideo className=\"w-5 h-5 text-red-600\" />\r\n    if (mimeType.startsWith('audio/')) return <FileAudio className=\"w-5 h-5 text-orange-600\" />\r\n    if (mimeType.includes('pdf')) return <FileText className=\"w-5 h-5 text-red-500\" />\r\n    if (mimeType.includes('document') || mimeType.includes('word')) return <FileText className=\"w-5 h-5 text-blue-600\" />\r\n    if (mimeType.includes('spreadsheet') || mimeType.includes('excel')) return <FileText className=\"w-5 h-5 text-green-600\" />\r\n\r\n    return <File className=\"w-5 h-5 text-gray-500\" />\r\n}\r\n\r\nfunction formatFileSize(bytes: number | null): string {\r\n    if (!bytes) return ''\r\n\r\n    if (bytes < 1024) return `${bytes} B`\r\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`\r\n    if (bytes < 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(1)} MB`\r\n    return `${(bytes / (1024 * 1024 * 1024)).toFixed(1)} GB`\r\n}\r\n\r\nexport function LessonFilesList({ files }: LessonFilesListProps) {\r\n    if (!files || files.length === 0) {\r\n        return (\r\n            <div className=\"text-sm text-muted-foreground italic\">\r\n                Nenhum arquivo anexado a esta aula.\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            {files.map((file) => (\r\n                <div\r\n                    key={file.id}\r\n                    className=\"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border hover:border-primary/50 transition-colors\"\r\n                >\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {getFileIcon(file.tipo_mime)}\r\n                        <div>\r\n                            <p className=\"text-sm font-medium line-clamp-1\">{file.nome_original}</p>\r\n                            {file.tamanho_bytes && (\r\n                                <p className=\"text-xs text-muted-foreground\">\r\n                                    {formatFileSize(file.tamanho_bytes)}\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        asChild\r\n                    >\r\n                        <a href={`/api/members/files/${file.id}`} download>\r\n                            <Download className=\"w-4 h-4 mr-2\" />\r\n                            Baixar\r\n                        </a>\r\n                    </Button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\members\\video-player.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":81,"fix":{"range":[162,162],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":81,"fix":{"range":[16,164],"text":"import { Play, Pause, Volume2, VolumeX, Maximize, Minimize } from 'lucide-react'\r\nimport { useState, useRef, useEffect, useCallback } from 'react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":15,"column":1,"nodeType":"ImportDeclaration","endLine":15,"endColumn":33,"fix":{"range":[475,475],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/dynamic` import should occur before import of `react`","line":16,"column":1,"nodeType":"ImportDeclaration","endLine":16,"endColumn":35,"fix":{"range":[16,513],"text":"import dynamic from 'next/dynamic'\r\nimport { useState, useRef, useEffect, useCallback } from 'react'\r\nimport { Play, Pause, Volume2, VolumeX, Maximize, Minimize } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuRadioGroup,\r\n    DropdownMenuRadioItem,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { cn } from '@/lib/utils'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1550,1553],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1550,1553],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3073,3076],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3073,3076],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":155,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":155,"endColumn":32,"fix":{"range":[5293,5477],"text":"className=\"mt-4 text-sm bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90\"\r\n                        onClick={() => { setHasError(false); setIsReady(false); }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":169,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":169,"endColumn":22,"fix":{"range":[5757,5991],"text":"className=\"relative aspect-video bg-black group overflow-hidden rounded-lg shadow-xl\"\r\n            ref={playerContainerRef}\r\n            onMouseLeave={() => playing && setShowControls(false)}\r\n            onMouseMove={handleMouseMove}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":171,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":171,"endColumn":25,"fix":{"range":[5757,5991],"text":"className=\"relative aspect-video bg-black group overflow-hidden rounded-lg shadow-xl\"\r\n            ref={playerContainerRef}\r\n            onMouseLeave={() => playing && setShowControls(false)}\r\n            onMouseMove={handleMouseMove}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":177,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":177,"endColumn":23,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":178,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":178,"endColumn":24,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":179,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":179,"endColumn":23,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":180,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":180,"endColumn":22,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":181,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":181,"endColumn":29,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":184,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":184,"endColumn":27,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":185,"column":17,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":185,"endColumn":24,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":186,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":186,"endColumn":23,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":187,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":187,"endColumn":24,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":188,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":188,"endColumn":24,"fix":{"range":[6046,6819],"text":"controls={false}\r\n                height=\"100%\"\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                playing={playing}\r\n                ref={playerRef}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                url={url}\r\n                volume={volume}\r\n                width=\"100%\"\r\n                onDuration={handleDuration}\r\n                onEnded={onEnded}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                onPause={() => setPlaying(false)}\r\n                onPlay={() => setPlaying(true)}\r\n                onProgress={handleProgress}\r\n                onReady={handleReady}"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":188,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6588,6591],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6588,6591],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":231,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":231,"endColumn":28,"fix":{"range":[8650,9677],"text":"className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        max={0.999999}\r\n                        min={0}\r\n                        step=\"any\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                        type=\"range\"\r\n                        value={played}\r\n                        onChange={handleSeekChange}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onMouseUp={handleSeekMouseUp}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":232,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":232,"endColumn":28,"fix":{"range":[8650,9677],"text":"className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        max={0.999999}\r\n                        min={0}\r\n                        step=\"any\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                        type=\"range\"\r\n                        value={played}\r\n                        onChange={handleSeekChange}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onMouseUp={handleSeekMouseUp}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":233,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":233,"endColumn":29,"fix":{"range":[8650,9677],"text":"className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        max={0.999999}\r\n                        min={0}\r\n                        step=\"any\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                        type=\"range\"\r\n                        value={played}\r\n                        onChange={handleSeekChange}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onMouseUp={handleSeekMouseUp}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":236,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":236,"endColumn":33,"fix":{"range":[8650,9677],"text":"className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        max={0.999999}\r\n                        min={0}\r\n                        step=\"any\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                        type=\"range\"\r\n                        value={played}\r\n                        onChange={handleSeekChange}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onMouseUp={handleSeekMouseUp}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":237,"column":25,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":237,"endColumn":34,"fix":{"range":[8650,9677],"text":"className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        max={0.999999}\r\n                        min={0}\r\n                        step=\"any\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                        type=\"range\"\r\n                        value={played}\r\n                        onChange={handleSeekChange}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onMouseUp={handleSeekMouseUp}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":250,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":250,"endColumn":36,"fix":{"range":[9959,10077],"text":"className=\"text-white hover:text-primary transition-colors p-1\"\r\n                            onClick={handlePlayPause}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":262,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":262,"endColumn":40,"fix":{"range":[10552,10681],"text":"className=\"text-white hover:text-primary transition-colors p-1\"\r\n                                onClick={() => setMuted(!muted)}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":273,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":273,"endColumn":36,"fix":{"range":[11094,11841],"text":"className=\"w-0 group-hover/volume:w-24 transition-all duration-300 h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full\"\r\n                                max={1}\r\n                                min={0}\r\n                                step=\"any\"\r\n                                type=\"range\"\r\n                                value={muted ? 0 : volume}\r\n                                onChange={e => {\r\n                                    setVolume(parseFloat(e.target.value))\r\n                                    setMuted(false)\r\n                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":274,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":274,"endColumn":36,"fix":{"range":[11094,11841],"text":"className=\"w-0 group-hover/volume:w-24 transition-all duration-300 h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full\"\r\n                                max={1}\r\n                                min={0}\r\n                                step=\"any\"\r\n                                type=\"range\"\r\n                                value={muted ? 0 : volume}\r\n                                onChange={e => {\r\n                                    setVolume(parseFloat(e.target.value))\r\n                                    setMuted(false)\r\n                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":275,"column":33,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":275,"endColumn":37,"fix":{"range":[11094,11841],"text":"className=\"w-0 group-hover/volume:w-24 transition-all duration-300 h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full\"\r\n                                max={1}\r\n                                min={0}\r\n                                step=\"any\"\r\n                                type=\"range\"\r\n                                value={muted ? 0 : volume}\r\n                                onChange={e => {\r\n                                    setVolume(parseFloat(e.target.value))\r\n                                    setMuted(false)\r\n                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":277,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":277,"endColumn":41,"fix":{"range":[11094,11841],"text":"className=\"w-0 group-hover/volume:w-24 transition-all duration-300 h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full\"\r\n                                max={1}\r\n                                min={0}\r\n                                step=\"any\"\r\n                                type=\"range\"\r\n                                value={muted ? 0 : volume}\r\n                                onChange={e => {\r\n                                    setVolume(parseFloat(e.target.value))\r\n                                    setMuted(false)\r\n                                }}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":295,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":295,"endColumn":41,"fix":{"range":[12386,12579],"text":"className=\"text-white hover:text-primary hover:bg-white/10 h-8 px-3 min-w-[3.5rem] font-bold\"\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":296,"column":37,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":296,"endColumn":46,"fix":{"range":[12386,12579],"text":"className=\"text-white hover:text-primary hover:bg-white/10 h-8 px-3 min-w-[3.5rem] font-bold\"\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":312,"column":45,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":312,"endColumn":54,"fix":{"range":[13541,13712],"text":"className=\"focus:bg-primary/30 cursor-pointer\"\r\n                                            key={rate}\r\n                                            value={rate.toString()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":322,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":322,"endColumn":36,"fix":{"range":[14203,14322],"text":"className=\"text-white hover:text-primary transition-colors p-1\"\r\n                            onClick={toggleFullscreen}"}}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[598,601],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[598,601],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":35,"fixableErrorCount":0,"fixableWarningCount":32,"source":"'use client'\r\n\r\nimport { useState, useRef, useEffect, useCallback } from 'react'\r\nimport { Play, Pause, Volume2, VolumeX, Maximize, Minimize } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuRadioGroup,\r\n    DropdownMenuRadioItem,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { cn } from '@/lib/utils'\r\nimport dynamic from 'next/dynamic'\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst ReactPlayer: any = dynamic(\r\n    () => import('react-player').then((mod) => mod.default),\r\n    { ssr: false }\r\n)\r\n\r\ninterface VideoPlayerProps {\r\n    url: string\r\n    title: string\r\n    onEnded?: () => void\r\n}\r\n\r\nexport function VideoPlayer({ url, title, onEnded }: VideoPlayerProps) {\r\n    const [isClient, setIsClient] = useState(false)\r\n    const [playing, setPlaying] = useState(false)\r\n    const [volume, setVolume] = useState(0.8)\r\n    const [muted, setMuted] = useState(false)\r\n    const [playbackRate, setPlaybackRate] = useState(1.0)\r\n    const [played, setPlayed] = useState(0)\r\n    const [duration, setDuration] = useState(0)\r\n    const [seeking, setSeeking] = useState(false)\r\n    const [showControls, setShowControls] = useState(true)\r\n    const [isFullscreen, setIsFullscreen] = useState(false)\r\n    const [isReady, setIsReady] = useState(false)\r\n    const [hasError, setHasError] = useState(false)\r\n\r\n    // Refer├¬ncias\r\n    const playerRef = useRef<any>(null)\r\n    const playerContainerRef = useRef<HTMLDivElement>(null)\r\n    const controlsTimeoutRef = useRef<NodeJS.Timeout | null>(null)\r\n\r\n    useEffect(() => {\r\n        setIsClient(true)\r\n    }, [])\r\n\r\n    const handleMouseMove = useCallback(() => {\r\n        setShowControls(true)\r\n        if (controlsTimeoutRef.current) {\r\n            clearTimeout(controlsTimeoutRef.current)\r\n        }\r\n        if (playing) {\r\n            controlsTimeoutRef.current = setTimeout(() => {\r\n                setShowControls(false)\r\n            }, 3000)\r\n        }\r\n    }, [playing])\r\n\r\n    const handlePlayPause = () => {\r\n        setPlaying(!playing)\r\n        if (!playing) {\r\n            setShowControls(true)\r\n            if (controlsTimeoutRef.current) clearTimeout(controlsTimeoutRef.current)\r\n            controlsTimeoutRef.current = setTimeout(() => setShowControls(false), 3000)\r\n        } else {\r\n            setShowControls(true)\r\n            if (controlsTimeoutRef.current) clearTimeout(controlsTimeoutRef.current)\r\n        }\r\n    }\r\n\r\n    const handleSeekChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setPlayed(parseFloat(e.target.value))\r\n    }\r\n\r\n    const handleSeekMouseDown = () => {\r\n        setSeeking(true)\r\n    }\r\n\r\n    const handleSeekMouseUp = (e: React.MouseEvent<HTMLInputElement>) => {\r\n        setSeeking(false)\r\n        if (playerRef.current) {\r\n            playerRef.current.seekTo(parseFloat((e.target as HTMLInputElement).value))\r\n        }\r\n    }\r\n\r\n    const handleProgress = (state: any) => {\r\n        if (!seeking) {\r\n            setPlayed(state.played)\r\n        }\r\n    }\r\n\r\n    const handleDuration = (dur: number) => {\r\n        setDuration(dur)\r\n    }\r\n\r\n    const handleReady = () => {\r\n        setIsReady(true)\r\n        setHasError(false)\r\n    }\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const date = new Date(seconds * 1000)\r\n        const hh = date.getUTCHours()\r\n        const mm = date.getUTCMinutes()\r\n        const ss = date.getUTCSeconds().toString().padStart(2, '0')\r\n        if (hh) {\r\n            return `${hh}:${mm.toString().padStart(2, '0')}:${ss}`\r\n        }\r\n        return `${mm}:${ss}`\r\n    }\r\n\r\n    const toggleFullscreen = () => {\r\n        if (!document.fullscreenElement) {\r\n            playerContainerRef.current?.requestFullscreen()\r\n            setIsFullscreen(true)\r\n        } else {\r\n            document.exitFullscreen()\r\n            setIsFullscreen(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const handleFullscreenChange = () => {\r\n            setIsFullscreen(!!document.fullscreenElement)\r\n        }\r\n        document.addEventListener('fullscreenchange', handleFullscreenChange)\r\n        return () => document.removeEventListener('fullscreenchange', handleFullscreenChange)\r\n    }, [])\r\n\r\n    // Renderiza├º├úo condicional para SSR\r\n    if (!isClient) {\r\n        return (\r\n            <div className=\"aspect-video bg-zinc-900 animate-pulse rounded-lg flex items-center justify-center\">\r\n                <div className=\"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // Se houve erro\r\n    if (hasError) {\r\n        return (\r\n            <div className=\"aspect-video bg-zinc-900 rounded-lg flex flex-col items-center justify-center gap-4 border border-zinc-800\">\r\n                <div className=\"w-20 h-20 rounded-full bg-red-900/20 flex items-center justify-center\">\r\n                    <Play className=\"w-8 h-8 text-red-500\" />\r\n                </div>\r\n                <div className=\"text-center px-4\">\r\n                    <p className=\"text-zinc-300 font-medium\">N├úo foi poss├¡vel carregar o v├¡deo</p>\r\n                    <button\r\n                        onClick={() => { setHasError(false); setIsReady(false); }}\r\n                        className=\"mt-4 text-sm bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90\"\r\n                    >\r\n                        Tentar novamente\r\n                    </button>\r\n                    <p className=\"text-zinc-600 text-xs mt-4\">URL: {url}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={playerContainerRef}\r\n            className=\"relative aspect-video bg-black group overflow-hidden rounded-lg shadow-xl\"\r\n            onMouseMove={handleMouseMove}\r\n            onMouseLeave={() => playing && setShowControls(false)}\r\n        >\r\n            <ReactPlayer\r\n                ref={playerRef}\r\n                url={url}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                playing={playing}\r\n                volume={volume}\r\n                muted={muted}\r\n                playbackRate={playbackRate}\r\n                onEnded={onEnded}\r\n                onProgress={handleProgress}\r\n                onDuration={handleDuration}\r\n                onReady={handleReady}\r\n                onPlay={() => setPlaying(true)}\r\n                onPause={() => setPlaying(false)}\r\n                onError={(e: any) => {\r\n                    console.error(\"ReactPlayer Error:\", e);\r\n                    setHasError(true);\r\n                }}\r\n                style={{ position: 'absolute', top: 0, left: 0 }}\r\n                controls={false}\r\n            />\r\n\r\n            {/* Loading Overlay */}\r\n            {!isReady && !hasError && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 z-30 pointer-events-none\">\r\n                    <div className=\"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin\" />\r\n                </div>\r\n            )}\r\n\r\n            {/* Click to Play/Pause overlay - apenas se estiver pronto */}\r\n            {isReady && (\r\n                <div\r\n                    className=\"absolute inset-0 z-10 cursor-pointer\"\r\n                    onClick={handlePlayPause}\r\n                />\r\n            )}\r\n\r\n            {/* Overlay Play Button (Central) */}\r\n            {!playing && showControls && isReady && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/40 z-20 transition-opacity pointer-events-none\">\r\n                    <div className=\"p-5 rounded-full bg-primary/90 text-primary-foreground hover:scale-110 transition-transform shadow-2xl pointer-events-auto\">\r\n                        <Play className=\"w-12 h-12 ml-1 fill-current\" />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Controls Bar */}\r\n            <div\r\n                className={cn(\r\n                    \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent pt-16 pb-4 px-4 z-30 transition-all duration-300 flex flex-col gap-3\",\r\n                    showControls ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-4 pointer-events-none\"\r\n                )}\r\n            >\r\n                {/* Progress Bar */}\r\n                <div className=\"flex items-center gap-2 group/slider\" onClick={(e) => e.stopPropagation()}>\r\n                    <input\r\n                        type=\"range\"\r\n                        min={0}\r\n                        max={0.999999}\r\n                        step=\"any\"\r\n                        value={played}\r\n                        onMouseDown={handleSeekMouseDown}\r\n                        onChange={handleSeekChange}\r\n                        onMouseUp={handleSeekMouseUp}\r\n                        className=\"w-full h-1.5 bg-white/30 rounded-full appearance-none cursor-pointer hover:h-2 transition-all [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:shadow-lg hover:[&::-webkit-slider-thumb]:scale-110\"\r\n                        style={{\r\n                            backgroundSize: `${played * 100}% 100%`,\r\n                            backgroundImage: `linear-gradient(to right, rgb(212, 175, 55) 0%, rgb(212, 175, 55) 100%)`,\r\n                            backgroundRepeat: 'no-repeat'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between\" onClick={(e) => e.stopPropagation()}>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <button\r\n                            onClick={handlePlayPause}\r\n                            className=\"text-white hover:text-primary transition-colors p-1\"\r\n                        >\r\n                            {playing ? (\r\n                                <Pause className=\"w-6 h-6 fill-current\" />\r\n                            ) : (\r\n                                <Play className=\"w-6 h-6 fill-current\" />\r\n                            )}\r\n                        </button>\r\n\r\n                        <div className=\"flex items-center gap-2 group/volume\">\r\n                            <button\r\n                                onClick={() => setMuted(!muted)}\r\n                                className=\"text-white hover:text-primary transition-colors p-1\"\r\n                            >\r\n                                {muted || volume === 0 ? (\r\n                                    <VolumeX className=\"w-5 h-5\" />\r\n                                ) : (\r\n                                    <Volume2 className=\"w-5 h-5\" />\r\n                                )}\r\n                            </button>\r\n                            <input\r\n                                type=\"range\"\r\n                                min={0}\r\n                                max={1}\r\n                                step=\"any\"\r\n                                value={muted ? 0 : volume}\r\n                                onChange={e => {\r\n                                    setVolume(parseFloat(e.target.value))\r\n                                    setMuted(false)\r\n                                }}\r\n                                className=\"w-0 group-hover/volume:w-24 transition-all duration-300 h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full\"\r\n                            />\r\n                        </div>\r\n\r\n                        <span className=\"text-sm text-white/90 font-mono tabular-nums\">\r\n                            {formatTime(duration * played)} / {formatTime(duration)}\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <DropdownMenu>\r\n                            <DropdownMenuTrigger asChild>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"sm\"\r\n                                    className=\"text-white hover:text-primary hover:bg-white/10 h-8 px-3 min-w-[3.5rem] font-bold\"\r\n                                >\r\n                                    {playbackRate}x\r\n                                </Button>\r\n                            </DropdownMenuTrigger>\r\n                            <DropdownMenuContent align=\"end\" className=\"bg-zinc-900/95 border-zinc-700 text-white backdrop-blur-sm\">\r\n                                <DropdownMenuLabel className=\"text-zinc-400\">Velocidade</DropdownMenuLabel>\r\n                                <DropdownMenuSeparator className=\"bg-zinc-700\" />\r\n                                <DropdownMenuRadioGroup\r\n                                    value={playbackRate.toString()}\r\n                                    onValueChange={(v) => setPlaybackRate(parseFloat(v))}\r\n                                >\r\n                                    {[0.5, 0.75, 1.0, 1.25, 1.5, 1.75, 2.0].map(rate => (\r\n                                        <DropdownMenuRadioItem\r\n                                            key={rate}\r\n                                            value={rate.toString()}\r\n                                            className=\"focus:bg-primary/30 cursor-pointer\"\r\n                                        >\r\n                                            {rate}x {rate === 1.0 && <span className=\"text-zinc-400 ml-2\">(Normal)</span>}\r\n                                        </DropdownMenuRadioItem>\r\n                                    ))}\r\n                                </DropdownMenuRadioGroup>\r\n                            </DropdownMenuContent>\r\n                        </DropdownMenu>\r\n\r\n                        <button\r\n                            onClick={toggleFullscreen}\r\n                            className=\"text-white hover:text-primary transition-colors p-1\"\r\n                        >\r\n                            {isFullscreen ? (\r\n                                <Minimize className=\"w-5 h-5\" />\r\n                            ) : (\r\n                                <Maximize className=\"w-5 h-5\" />\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Title Overlay (Top) */}\r\n            <div className={cn(\r\n                \"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/80 to-transparent transition-opacity duration-300 pointer-events-none z-20\",\r\n                showControls ? \"opacity-100\" : \"opacity-0\"\r\n            )}>\r\n                <h3 className=\"text-white font-medium text-lg drop-shadow-md line-clamp-1\">{title}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\pricing\\pricing-cards.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":33,"fix":{"range":[48,48],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":48,"fix":{"range":[207,207],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/components/ui/card`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":48,"fix":{"range":[50,209],"text":"import { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[254,254],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":46,"fix":{"range":[16,256],"text":"import { Check, Loader2 } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":33,"fix":{"range":[288,288],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":44,"fix":{"range":[333,333],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":8,"column":1,"nodeType":"ImportDeclaration","endLine":8,"endColumn":44,"fix":{"range":[16,335],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Check, Loader2 } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/tabs` import should occur before import of `@/lib/utils`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":67,"fix":{"range":[256,403],"text":"import { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { cn } from '@/lib/utils'\r\nimport { useRouter } from 'next/navigation'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":52,"column":38,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":52,"endColumn":51,"fix":{"range":[2008,2085],"text":"className=\"w-[400px]\" value={period} onValueChange={(v: any) => setPeriod(v)}"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2042,2045],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2042,2045],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":62,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":62,"endColumn":50,"fix":{"range":[2552,2811],"text":"className={cn(\r\n                        \"flex flex-col relative overflow-hidden transition-all hover:scale-105\",\r\n                        plan.is_free ? \"border-zinc-800\" : \"border-[#D4AF37] shadow-lg shadow-[#D4AF37]/10\"\r\n                    )} key={plan.id}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":121,"column":33,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":121,"endColumn":40,"fix":{"range":[6335,6536],"text":"className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\"\r\n                                disabled={!!isLoading}\r\n                                onClick={() => handleSubscribe(plan.id)}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":12,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Check, Loader2 } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n\r\ninterface SaasPlan {\r\n    id: string\r\n    nome: string\r\n    descricao: string\r\n    preco: number\r\n    periodo: string\r\n    max_produtos: number | null\r\n    max_pedidos_mes: number | null\r\n    is_free: boolean\r\n}\r\n\r\ninterface PricingCardsProps {\r\n    plans: SaasPlan[]\r\n}\r\n\r\nexport function PricingCards({ plans }: PricingCardsProps) {\r\n    const router = useRouter()\r\n    const [period, setPeriod] = useState<'mensal' | 'anual'>('mensal')\r\n    const [isLoading, setIsLoading] = useState<string | null>(null)\r\n\r\n    // Filtrar planos pelo per├¡odo selecionado (ou mostrar todos se n├úo tiver flag de periodo no banco para diferenciar - na verdade o banco tem campo 'periodo')\r\n    // Se tivermos planos de mesmo nome com periodos diferentes, agrupamos.\r\n    // Mas aqui vou assumir que cada plano tem um periodo fixo no banco. \r\n    // Se o usu├írio quiser mensal e anual, ele cria 2 planos \"Pro Mensal\" e \"Pro Anual\".\r\n\r\n    // Para simplificar a UI, vamos mostrar abas se houver planos mensais e anuais.\r\n    const monthlyPlans = plans.filter(p => p.periodo === 'mensal' || p.is_free)\r\n    const annualPlans = plans.filter(p => p.periodo === 'anual')\r\n\r\n    const displayedPlans = period === 'mensal' ? monthlyPlans : annualPlans\r\n\r\n    const handleSubscribe = async (planId: string) => {\r\n        setIsLoading(planId)\r\n        // Redireciona para checkout do plano\r\n        // Se for free, processa direto (futuro)\r\n        router.push(`/dashboard/subscribe/${planId}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex justify-center\">\r\n                <Tabs value={period} onValueChange={(v: any) => setPeriod(v)} className=\"w-[400px]\">\r\n                    <TabsList className=\"grid w-full grid-cols-2\">\r\n                        <TabsTrigger value=\"mensal\">Mensal</TabsTrigger>\r\n                        <TabsTrigger value=\"anual\">Anual (Desconto)</TabsTrigger>\r\n                    </TabsList>\r\n                </Tabs>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                {displayedPlans.map((plan) => (\r\n                    <Card key={plan.id} className={cn(\r\n                        \"flex flex-col relative overflow-hidden transition-all hover:scale-105\",\r\n                        plan.is_free ? \"border-zinc-800\" : \"border-[#D4AF37] shadow-lg shadow-[#D4AF37]/10\"\r\n                    )}>\r\n                        {plan.nome.toLowerCase().includes('pro') && (\r\n                            <div className=\"absolute top-0 right-0 bg-[#D4AF37] text-black text-xs font-bold px-3 py-1 rounded-bl-lg\">\r\n                                POPULAR\r\n                            </div>\r\n                        )}\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-2xl\">{plan.nome}</CardTitle>\r\n                            <CardDescription>{plan.descricao}</CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"flex-1\">\r\n                            <div className=\"mb-6\">\r\n                                <span className=\"text-4xl font-bold\">\r\n                                    {plan.is_free ? 'Gr├ítis' : `R$ ${plan.preco.toFixed(2)}`}\r\n                                </span>\r\n                                {!plan.is_free && <span className=\"text-muted-foreground ml-2\">/{plan.periodo === 'mensal' ? 'm├¬s' : 'ano'}</span>}\r\n                            </div>\r\n\r\n                            <ul className=\"space-y-3\">\r\n                                <li className=\"flex items-center gap-2\">\r\n                                    <Check className=\"w-5 h-5 text-green-500\" />\r\n                                    <span className=\"text-sm\">\r\n                                        {plan.max_produtos === 0 || !plan.max_produtos\r\n                                            ? 'Infoprodutos Ilimitados'\r\n                                            : `At├® ${plan.max_produtos} Infoprodutos`}\r\n                                    </span>\r\n                                </li>\r\n                                <li className=\"flex items-center gap-2\">\r\n                                    <Check className=\"w-5 h-5 text-green-500\" />\r\n                                    <span className=\"text-sm\">\r\n                                        {plan.max_pedidos_mes === 0 || !plan.max_pedidos_mes\r\n                                            ? 'Vendas Ilimitadas'\r\n                                            : `At├® ${plan.max_pedidos_mes} vendas/m├¬s`}\r\n                                    </span>\r\n                                </li>\r\n                                <li className=\"flex items-center gap-2\">\r\n                                    <Check className=\"w-5 h-5 text-green-500\" />\r\n                                    <span className=\"text-sm\">Dashboard Completo</span>\r\n                                </li>\r\n                                {plan.nome.toLowerCase().includes('pro') && (\r\n                                    <>\r\n                                        <li className=\"flex items-center gap-2\">\r\n                                            <Check className=\"w-5 h-5 text-green-500\" />\r\n                                            <span className=\"text-sm\">Suporte Priorit├írio</span>\r\n                                        </li>\r\n                                        <li className=\"flex items-center gap-2\">\r\n                                            <Check className=\"w-5 h-5 text-green-500\" />\r\n                                            <span className=\"text-sm\">Checkout Personalizado</span>\r\n                                        </li>\r\n                                    </>\r\n                                )}\r\n                            </ul>\r\n                        </CardContent>\r\n                        <CardFooter>\r\n                            <Button\r\n                                className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\"\r\n                                onClick={() => handleSubscribe(plan.id)}\r\n                                disabled={!!isLoading}\r\n                            >\r\n                                {isLoading === plan.id ? <Loader2 className=\"animate-spin\" /> : (plan.is_free ? 'Come├ºar Gr├ítis' : 'Assinar Agora')}\r\n                            </Button>\r\n                        </CardFooter>\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\providers.tsx","messages":[{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":17,"column":17,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":17,"endColumn":29,"fix":{"range":[351,480],"text":"disableTransitionOnChange\r\n                enableSystem\r\n                attribute=\"class\"\r\n                defaultTheme=\"system\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Shorthand props must be listed before all other props","line":18,"column":17,"nodeType":"JSXIdentifier","messageId":"listShorthandFirst","endLine":18,"endColumn":42,"fix":{"range":[351,480],"text":"disableTransitionOnChange\r\n                enableSystem\r\n                attribute=\"class\"\r\n                defaultTheme=\"system\""}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"'use client'\r\n\r\nimport { SessionProvider } from 'next-auth/react'\r\nimport { ThemeProvider } from 'next-themes'\r\nimport { ReactNode } from 'react'\r\n\r\ninterface ProvidersProps {\r\n    children: ReactNode\r\n}\r\n\r\nexport function Providers({ children }: ProvidersProps) {\r\n    return (\r\n        <SessionProvider>\r\n            <ThemeProvider\r\n                attribute=\"class\"\r\n                defaultTheme=\"system\"\r\n                enableSystem\r\n                disableTransitionOnChange\r\n            >\r\n                {children}\r\n            </ThemeProvider>\r\n        </SessionProvider>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\pwa\\push-manager.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":44,"fix":{"range":[59,59],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[108,108],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":54,"fix":{"range":[16,165],"text":"import { Bell, BellOff, Loader2 } from 'lucide-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":31,"fix":{"range":[61,197],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Bell, BellOff, Loader2 } from 'lucide-react'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2318,2321],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2318,2321],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":17,"fix":{"range":[2565,2808],"text":"className={!isSubscribed ? \"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" : \"\"}\r\n            disabled={isSubscribed || loading}\r\n            size=\"sm\"\r\n            variant={isSubscribed ? \"secondary\" : \"default\"}\r\n            onClick={subscribe}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":81,"column":13,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":81,"endColumn":20,"fix":{"range":[2565,2808],"text":"className={!isSubscribed ? \"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" : \"\"}\r\n            disabled={isSubscribed || loading}\r\n            size=\"sm\"\r\n            variant={isSubscribed ? \"secondary\" : \"default\"}\r\n            onClick={subscribe}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":6,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Bell, BellOff, Loader2 } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\nfunction urlBase64ToUint8Array(base64String: string) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n        .replace(/\\-/g, '+')\r\n        .replace(/_/g, '/');\r\n\r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n}\r\n\r\ninterface PushManagerProps {\r\n    vapidPublicKey?: string\r\n}\r\n\r\nexport function PushManager({ vapidPublicKey }: PushManagerProps) {\r\n    const [isSubscribed, setIsSubscribed] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [isSupported, setIsSupported] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if ('serviceWorker' in navigator && 'PushManager' in window && vapidPublicKey) {\r\n            setIsSupported(true)\r\n            navigator.serviceWorker.ready.then(registration => {\r\n                registration.pushManager.getSubscription().then(sub => {\r\n                    if (sub) {\r\n                        setIsSubscribed(true)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }, [vapidPublicKey])\r\n\r\n    const subscribe = async () => {\r\n        if (!vapidPublicKey) return toast.error(\"Chave p├║blica VAPID n├úo configurada.\")\r\n\r\n        setLoading(true)\r\n        try {\r\n            const registration = await navigator.serviceWorker.ready\r\n            const sub = await registration.pushManager.subscribe({\r\n                userVisibleOnly: true,\r\n                applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\r\n            })\r\n\r\n            // Gravar no backend\r\n            const res = await fetch('/api/pwa/subscribe', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(sub)\r\n            })\r\n\r\n            if (!res.ok) throw new Error('Falha ao salvar inscri├º├úo')\r\n\r\n            setIsSubscribed(true)\r\n            toast.success('Voc├¬ receber├í notifica├º├Áes!')\r\n        } catch (e: any) {\r\n            console.error(e)\r\n            toast.error('Erro ao ativar: ' + e.message)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    if (!isSupported) return null\r\n\r\n    return (\r\n        <Button\r\n            variant={isSubscribed ? \"secondary\" : \"default\"}\r\n            size=\"sm\"\r\n            onClick={subscribe}\r\n            disabled={isSubscribed || loading}\r\n            className={!isSubscribed ? \"bg-[#D4AF37] hover:bg-[#B5952F] text-black\" : \"\"}\r\n        >\r\n            {loading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : (\r\n                isSubscribed ? <Bell className=\"mr-2 h-4 w-4 text-green-600\" /> : <BellOff className=\"mr-2 h-4 w-4\" />\r\n            )}\r\n            {isSubscribed ? 'Notifica├º├Áes Ativas' : 'Receber Notifica├º├Áes'}\r\n        </Button>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\saas\\subscribe-form.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":33,"fix":{"range":[48,48],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[97,97],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":57,"fix":{"range":[16,157],"text":"import { Loader2, CreditCard, Lock } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`sonner` import should occur before import of `@/components/ui/button`","line":6,"column":1,"nodeType":"ImportDeclaration","endLine":6,"endColumn":31,"fix":{"range":[50,189],"text":"import { toast } from 'sonner'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Loader2, CreditCard, Lock } from 'lucide-react'\r\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":44,"fix":{"range":[232,232],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`next/navigation` import should occur before import of `react`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":44,"fix":{"range":[16,234],"text":"import { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Loader2, CreditCard, Lock } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/label` import should occur before import of `@/components/ui/radio-group`","line":9,"column":1,"nodeType":"ImportDeclaration","endLine":9,"endColumn":46,"fix":{"range":[234,355],"text":"import { Label } from \"@/components/ui/label\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1528,1531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1528,1531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":58,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":58,"endColumn":28,"fix":{"range":[1881,2041],"text":"className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\"\r\n                    disabled={isLoading}\r\n                    onClick={handleSubscribe}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":69,"column":52,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":69,"endColumn":65,"fix":{"range":[2305,2379],"text":"className=\"space-y-3\" defaultValue=\"mercadopago\" onValueChange={setMethod}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":71,"column":57,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":71,"endColumn":59,"fix":{"range":[2575,2602],"text":"id=\"mp\" value=\"mercadopago\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":72,"column":41,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":72,"endColumn":50,"fix":{"range":[2634,2720],"text":"className=\"flex items-center gap-2 cursor-pointer font-medium text-white\" htmlFor=\"mp\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":82,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":82,"endColumn":28,"fix":{"range":[3017,3190],"text":"className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold h-12 text-lg\"\r\n                    disabled={isLoading}\r\n                    onClick={handleSubscribe}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":12,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Loader2, CreditCard, Lock } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { useRouter } from 'next/navigation'\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\ninterface SubscribeFormProps {\r\n    planId: string\r\n    planName: string\r\n    price: number\r\n    isFree: boolean\r\n}\r\n\r\nexport function SubscribeForm({ planId, price, isFree }: SubscribeFormProps) {\r\n    const router = useRouter()\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [method, setMethod] = useState('mercadopago')\r\n\r\n    const handleSubscribe = async () => {\r\n        setIsLoading(true)\r\n        try {\r\n            const res = await fetch('/api/saas/checkout', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ planId, method })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) throw new Error(data.error || 'Erro ao processar')\r\n\r\n            if (data.url) {\r\n                // Redireciona para checkout externo\r\n                window.location.href = data.url\r\n            } else if (data.success) {\r\n                // Assinatura gr├ítis ou sucesso imediato\r\n                toast.success('Assinatura ativada com sucesso!')\r\n                router.push('/dashboard')\r\n            }\r\n\r\n        } catch (error: any) {\r\n            toast.error(error.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    if (isFree) {\r\n        return (\r\n            <div className=\"space-y-4\">\r\n                <p className=\"text-zinc-400 text-sm\">Este plano ├® gratuito. Clique abaixo para ativar.</p>\r\n                <Button\r\n                    className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold\"\r\n                    onClick={handleSubscribe}\r\n                    disabled={isLoading}\r\n                >\r\n                    {isLoading ? <Loader2 className=\"animate-spin mr-2\" /> : 'Ativar Plano Gr├ítis'}\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <RadioGroup defaultValue=\"mercadopago\" onValueChange={setMethod} className=\"space-y-3\">\r\n                <div className=\"flex items-center space-x-3 border border-zinc-800 p-4 rounded-lg cursor-pointer hover:border-[#D4AF37] transition-colors\">\r\n                    <RadioGroupItem value=\"mercadopago\" id=\"mp\" />\r\n                    <Label htmlFor=\"mp\" className=\"flex items-center gap-2 cursor-pointer font-medium text-white\">\r\n                        <CreditCard className=\"w-5 h-5 text-blue-500\" />\r\n                        Mercado Pago (Cart├úo/Pix)\r\n                    </Label>\r\n                </div>\r\n            </RadioGroup>\r\n\r\n            <div className=\"space-y-2\">\r\n                <Button\r\n                    className=\"w-full bg-[#D4AF37] hover:bg-[#B5952F] text-black font-bold h-12 text-lg\"\r\n                    onClick={handleSubscribe}\r\n                    disabled={isLoading}\r\n                >\r\n                    {isLoading ? <Loader2 className=\"animate-spin mr-2\" /> : `Pagar R$ ${price.toFixed(2)}`}\r\n                </Button>\r\n                <div className=\"flex justify-center items-center gap-2 text-xs text-zinc-500\">\r\n                    <Lock className=\"w-3 h-3\" />\r\n                    Pagamento seguro e criptografado\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\system-banner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\accordion.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,157],"text":"import * as AccordionPrimitive from \"@radix-ui/react-accordion\"\r\nimport { ChevronDown } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":17,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":17,"endColumn":18,"fix":{"range":[481,537],"text":"className={cn(\"border-b\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":30,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":30,"endColumn":22,"fix":{"range":[939,1164],"text":"className={cn(\r\n                \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\r\n                className\r\n            )}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":49,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":49,"endColumn":18,"fix":{"range":[1730,1881],"text":"className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\r\nimport { ChevronDown } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Accordion = AccordionPrimitive.Root\r\n\r\nconst AccordionItem = React.forwardRef<\r\n    React.ElementRef<typeof AccordionPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n    <AccordionPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\"border-b\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAccordionItem.displayName = \"AccordionItem\"\r\n\r\nconst AccordionTrigger = React.forwardRef<\r\n    React.ElementRef<typeof AccordionPrimitive.Trigger>,\r\n    React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n    <AccordionPrimitive.Header className=\"flex\">\r\n        <AccordionPrimitive.Trigger\r\n            ref={ref}\r\n            className={cn(\r\n                \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\r\n                className\r\n            )}\r\n            {...props}\r\n        >\r\n            {children}\r\n            <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\r\n        </AccordionPrimitive.Trigger>\r\n    </AccordionPrimitive.Header>\r\n))\r\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\r\n\r\nconst AccordionContent = React.forwardRef<\r\n    React.ElementRef<typeof AccordionPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n    <AccordionPrimitive.Content\r\n        ref={ref}\r\n        className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\r\n        {...props}\r\n    >\r\n        <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\r\n    </AccordionPrimitive.Content>\r\n))\r\n\r\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\r\n\r\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\alert-dialog.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-alert-dialog` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":69,"fix":{"range":[16,118],"text":"import * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"import/order","severity":1,"message":"`@/components/ui/button` import should occur before import of `@/lib/utils`","line":7,"column":1,"nodeType":"ImportDeclaration","endLine":7,"endColumn":56,"fix":{"range":[120,211],"text":"import { buttonVariants } from \"@/components/ui/button\"\r\nimport { cn } from \"@/lib/utils\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":38,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":38,"endColumn":22,"fix":{"range":[1311,1919],"text":"className={cn(\r\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n                className\r\n            )}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":82,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":82,"endColumn":18,"fix":{"range":[2984,3053],"text":"className={cn(\"text-lg font-semibold\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":94,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":94,"endColumn":18,"fix":{"range":[3437,3514],"text":"className={cn(\"text-sm text-muted-foreground\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":107,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":107,"endColumn":18,"fix":{"range":[3895,3957],"text":"className={cn(buttonVariants(), className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":119,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":119,"endColumn":18,"fix":{"range":[4323,4473],"text":"className={cn(\r\n            buttonVariants({ variant: \"outline\" }),\r\n            \"mt-2 sm:mt-0\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":7,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { buttonVariants } from \"@/components/ui/button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPrimitive.Overlay\r\n        className={cn(\r\n            \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n        ref={ref}\r\n    />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPortal>\r\n        <AlertDialogOverlay />\r\n        <AlertDialogPrimitive.Content\r\n            ref={ref}\r\n            className={cn(\r\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col space-y-2 text-center sm:text-left\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPrimitive.Title\r\n        ref={ref}\r\n        className={cn(\"text-lg font-semibold\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPrimitive.Description\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertDialogDescription.displayName =\r\n    AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPrimitive.Action\r\n        ref={ref}\r\n        className={cn(buttonVariants(), className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n    React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n    React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n    <AlertDialogPrimitive.Cancel\r\n        ref={ref}\r\n        className={cn(\r\n            buttonVariants({ variant: \"outline\" }),\r\n            \"mt-2 sm:mt-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n    AlertDialog,\r\n    AlertDialogPortal,\r\n    AlertDialogOverlay,\r\n    AlertDialogTrigger,\r\n    AlertDialogContent,\r\n    AlertDialogHeader,\r\n    AlertDialogFooter,\r\n    AlertDialogTitle,\r\n    AlertDialogDescription,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\alert.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`class-variance-authority` import should occur before import of `react`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":66,"fix":{"range":[0,99],"text":"import { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":29,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":29,"endColumn":18,"fix":{"range":[892,986],"text":"className={cn(alertVariants({ variant }), className)}\r\n        ref={ref}\r\n        role=\"alert\""}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":41,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":41,"endColumn":18,"fix":{"range":[1218,1310],"text":"className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":18,"fix":{"range":[1561,1638],"text":"className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n    \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-background text-foreground\",\r\n                destructive:\r\n                    \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        role=\"alert\"\r\n        className={cn(alertVariants({ variant }), className)}\r\n        {...props}\r\n    />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h5\r\n        ref={ref}\r\n        className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\avatar.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-avatar` import should occur before import of `react`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":58,"fix":{"range":[0,91],"text":"import * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":12,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":12,"endColumn":18,"fix":{"range":[354,500],"text":"className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":27,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":27,"endColumn":18,"fix":{"range":[824,899],"text":"className={cn(\"aspect-square h-full w-full\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":39,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":39,"endColumn":18,"fix":{"range":[1241,1394],"text":"className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\badge.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":66,"fix":{"range":[97,97],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`class-variance-authority` import should occur before import of `react`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":66,"fix":{"range":[0,99],"text":"import { cva, type VariantProps } from \"class-variance-authority\"\r\nimport * as React from \"react\"\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n    \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n                secondary:\r\n                    \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                destructive:\r\n                    \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n                outline: \"text-foreground\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface BadgeProps\r\n    extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> { }\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n    return (\r\n        <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n    )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\button.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `class-variance-authority`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":31,"fix":{"range":[0,144],"text":"import { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\nimport * as React from 'react'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n    'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n                destructive:\r\n                    'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n                outline:\r\n                    'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\r\n                secondary:\r\n                    'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n                ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n                link: 'text-primary underline-offset-4 hover:underline',\r\n            },\r\n            size: {\r\n                default: 'h-10 px-4 py-2',\r\n                sm: 'h-9 rounded-md px-3',\r\n                lg: 'h-11 rounded-md px-8',\r\n                icon: 'h-10 w-10',\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: 'default',\r\n            size: 'default',\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : 'button'\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = 'Button'\r\n\r\nexport { Button, buttonVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\card.tsx","messages":[{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":11,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":11,"endColumn":18,"fix":{"range":[222,363],"text":"className={cn(\r\n            'rounded-lg border bg-card text-card-foreground shadow-sm',\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":26,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":26,"endColumn":18,"fix":{"range":[584,661],"text":"className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":38,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":38,"endColumn":18,"fix":{"range":[902,1037],"text":"className={cn(\r\n            'text-2xl font-semibold leading-none tracking-tight',\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":53,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":53,"endColumn":18,"fix":{"range":[1283,1360],"text":"className={cn('text-sm text-muted-foreground', className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":63,"column":20,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":63,"endColumn":29,"fix":{"range":[1595,1642],"text":"className={cn('p-6 pt-0', className)} ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":73,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":73,"endColumn":18,"fix":{"range":[1863,1937],"text":"className={cn('flex items-center p-6 pt-0', className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":6,"source":"import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            'rounded-lg border bg-card text-card-foreground shadow-sm',\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = 'Card'\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = 'CardHeader'\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            'text-2xl font-semibold leading-none tracking-tight',\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = 'CardTitle'\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn('text-sm text-muted-foreground', className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = 'CardDescription'\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n))\r\nCardContent.displayName = 'CardContent'\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn('flex items-center p-6 pt-0', className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = 'CardFooter'\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\checkbox.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,149],"text":"import * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":15,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":15,"endColumn":18,"fix":{"range":[420,807],"text":"className={cn(\r\n            \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Checkbox = React.forwardRef<\r\n    React.ElementRef<typeof CheckboxPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <CheckboxPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <CheckboxPrimitive.Indicator\r\n            className={cn(\"flex items-center justify-center text-current\")}\r\n        >\r\n            <Check className=\"h-4 w-4\" />\r\n        </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n))\r\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\r\n\r\nexport { Checkbox }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\dialog.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,141],"text":"import * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":23,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":23,"endColumn":18,"fix":{"range":[600,835],"text":"className={cn(\r\n            \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":40,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":40,"endColumn":22,"fix":{"range":[1242,1850],"text":"className={cn(\r\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n                className\r\n            )}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":90,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":90,"endColumn":18,"fix":{"range":[3367,3501],"text":"className={cn(\r\n            \"text-lg font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":105,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":105,"endColumn":18,"fix":{"range":[3855,3932],"text":"className={cn(\"text-sm text-muted-foreground\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":5,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Overlay\r\n        ref={ref}\r\n        className={cn(\r\n            \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n    <DialogPortal>\r\n        <DialogOverlay />\r\n        <DialogPrimitive.Content\r\n            ref={ref}\r\n            className={cn(\r\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n                className\r\n            )}\r\n            {...props}\r\n        >\r\n            {children}\r\n            <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n                <X className=\"h-4 w-4\" />\r\n                <span className=\"sr-only\">Close</span>\r\n            </DialogPrimitive.Close>\r\n        </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Title>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Title\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-lg font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n    React.ElementRef<typeof DialogPrimitive.Description>,\r\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n    <DialogPrimitive.Description\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n    Dialog,\r\n    DialogPortal,\r\n    DialogOverlay,\r\n    DialogClose,\r\n    DialogTrigger,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogFooter,\r\n    DialogTitle,\r\n    DialogDescription,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\dropdown-menu.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":31,"fix":{"range":[0,164],"text":"import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":27,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":27,"endColumn":18,"fix":{"range":[880,1127],"text":"className={cn(\r\n            \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":47,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":47,"endColumn":18,"fix":{"range":[1642,2164],"text":"className={cn(\r\n            \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":65,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":65,"endColumn":22,"fix":{"range":[2613,3188],"text":"className={cn(\r\n                \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                className\r\n            )}\r\n            ref={ref}\r\n            sideOffset={sideOffset}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":83,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":83,"endColumn":18,"fix":{"range":[3642,3980],"text":"className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":99,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":99,"endColumn":18,"fix":{"range":[4391,4731],"text":"checked={checked}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":103,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":103,"endColumn":16,"fix":{"range":[4391,4731],"text":"checked={checked}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":123,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":123,"endColumn":18,"fix":{"range":[5460,5773],"text":"className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":147,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":147,"endColumn":18,"fix":{"range":[6519,6667],"text":"className={cn(\r\n            \"px-2 py-1.5 text-sm font-semibold\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":163,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":163,"endColumn":18,"fix":{"range":[7049,7121],"text":"className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":10,"source":"import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        {children}\r\n        <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n    DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.SubContent\r\n        ref={ref}\r\n        className={cn(\r\n            \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n    DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Portal>\r\n        <DropdownMenuPrimitive.Content\r\n            ref={ref}\r\n            sideOffset={sideOffset}\r\n            className={cn(\r\n                \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        checked={checked}\r\n        {...props}\r\n    >\r\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n            <DropdownMenuPrimitive.ItemIndicator>\r\n                <Check className=\"h-4 w-4\" />\r\n            </DropdownMenuPrimitive.ItemIndicator>\r\n        </span>\r\n        {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n    DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.RadioItem\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n            <DropdownMenuPrimitive.ItemIndicator>\r\n                <Circle className=\"h-2 w-2 fill-current\" />\r\n            </DropdownMenuPrimitive.ItemIndicator>\r\n        </span>\r\n        {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Label\r\n        ref={ref}\r\n        className={cn(\r\n            \"px-2 py-1.5 text-sm font-semibold\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Separator\r\n        ref={ref}\r\n        className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n    return (\r\n        <span\r\n            className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n    DropdownMenu,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuCheckboxItem,\r\n    DropdownMenuRadioItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuShortcut,\r\n    DropdownMenuGroup,\r\n    DropdownMenuPortal,\r\n    DropdownMenuSub,\r\n    DropdownMenuSubContent,\r\n    DropdownMenuSubTrigger,\r\n    DropdownMenuRadioGroup,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\image-upload.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[56,56],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":48,"fix":{"range":[105,105],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":70,"fix":{"range":[176,176],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`lucide-react` import should occur before import of `react`","line":5,"column":1,"nodeType":"ImportDeclaration","endLine":5,"endColumn":70,"fix":{"range":[16,178],"text":"import { Upload, X, Loader2, Image as ImageIcon } from 'lucide-react'\r\nimport { useState, useRef } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1354,1357],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1354,1357],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":23,"fix":{"range":[1826,1988],"text":"accept=\"image/*\"\r\n                className=\"hidden\"\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                onChange={handleFileChange}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":65,"column":17,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":65,"endColumn":25,"fix":{"range":[1826,1988],"text":"accept=\"image/*\"\r\n                className=\"hidden\"\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                onChange={handleFileChange}"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":71,"column":21,"nodeType":"JSXOpeningElement","endLine":75,"endColumn":23},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":73,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":73,"endColumn":28,"fix":{"range":[2182,2306],"text":"alt=\"Imagem do produto\"\r\n                        className=\"w-full h-full object-cover\"\r\n                        src={value}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":74,"column":25,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":74,"endColumn":34,"fix":{"range":[2182,2306],"text":"alt=\"Imagem do produto\"\r\n                        className=\"w-full h-full object-cover\"\r\n                        src={value}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":80,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":80,"endColumn":33,"fix":{"range":[2547,2775],"text":"disabled={isUploading}\r\n                            size=\"sm\"\r\n                            type=\"button\"\r\n                            variant=\"secondary\"\r\n                            onClick={() => fileInputRef.current?.click()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":81,"column":29,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":81,"endColumn":36,"fix":{"range":[2547,2775],"text":"disabled={isUploading}\r\n                            size=\"sm\"\r\n                            type=\"button\"\r\n                            variant=\"secondary\"\r\n                            onClick={() => fileInputRef.current?.click()}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":96,"column":29,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":96,"endColumn":33,"fix":{"range":[3282,3437],"text":"size=\"sm\"\r\n                            type=\"button\"\r\n                            variant=\"destructive\"\r\n                            onClick={handleRemove}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Callbacks must be listed after all other props","line":105,"column":21,"nodeType":"JSXIdentifier","messageId":"listCallbacksLast","endLine":105,"endColumn":28,"fix":{"range":[3669,3947],"text":"className=\"aspect-video rounded-lg border-2 border-dashed border-muted-foreground/25 bg-muted/50 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-muted transition-colors\"\r\n                    onClick={() => fileInputRef.current?.click()}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":12,"source":"'use client'\r\n\r\nimport { useState, useRef } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Upload, X, Loader2, Image as ImageIcon } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface ImageUploadProps {\r\n    value?: string | null\r\n    onChange: (url: string | null) => void\r\n    type?: 'product' | 'course' | 'profile'\r\n    className?: string\r\n}\r\n\r\nexport function ImageUpload({ value, onChange, type = 'product', className }: ImageUploadProps) {\r\n    const [isUploading, setIsUploading] = useState(false)\r\n    const [error, setError] = useState('')\r\n    const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n    async function handleFileChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n        const file = e.target.files?.[0]\r\n        if (!file) return\r\n\r\n        setIsUploading(true)\r\n        setError('')\r\n\r\n        try {\r\n            const formData = new FormData()\r\n            formData.append('file', file)\r\n            formData.append('type', type)\r\n\r\n            const res = await fetch('/api/upload', {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Erro ao fazer upload')\r\n            }\r\n\r\n            onChange(data.url)\r\n        } catch (err: any) {\r\n            setError(err.message)\r\n        } finally {\r\n            setIsUploading(false)\r\n            // Limpar input para permitir selecionar o mesmo arquivo novamente\r\n            if (fileInputRef.current) {\r\n                fileInputRef.current.value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleRemove() {\r\n        onChange(null)\r\n    }\r\n\r\n    return (\r\n        <div className={cn(\"space-y-2\", className)}>\r\n            <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileChange}\r\n                className=\"hidden\"\r\n            />\r\n\r\n            {value ? (\r\n                <div className=\"relative aspect-video rounded-lg overflow-hidden border bg-muted\">\r\n                    <img\r\n                        src={value}\r\n                        alt=\"Imagem do produto\"\r\n                        className=\"w-full h-full object-cover\"\r\n                    />\r\n                    <div className=\"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\r\n                        <Button\r\n                            type=\"button\"\r\n                            variant=\"secondary\"\r\n                            size=\"sm\"\r\n                            onClick={() => fileInputRef.current?.click()}\r\n                            disabled={isUploading}\r\n                        >\r\n                            {isUploading ? (\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                                <>\r\n                                    <Upload className=\"w-4 h-4 mr-2\" />\r\n                                    Alterar\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n                        <Button\r\n                            type=\"button\"\r\n                            variant=\"destructive\"\r\n                            size=\"sm\"\r\n                            onClick={handleRemove}\r\n                        >\r\n                            <X className=\"w-4 h-4\" />\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    className=\"aspect-video rounded-lg border-2 border-dashed border-muted-foreground/25 bg-muted/50 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-muted transition-colors\"\r\n                >\r\n                    {isUploading ? (\r\n                        <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                    ) : (\r\n                        <>\r\n                            <ImageIcon className=\"w-8 h-8 text-muted-foreground mb-2\" />\r\n                            <p className=\"text-sm text-muted-foreground\">Clique para adicionar imagem</p>\r\n                            <p className=\"text-xs text-muted-foreground mt-1\">JPG, PNG ou WebP (max 5MB)</p>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {error && (\r\n                <p className=\"text-sm text-red-500\">{error}</p>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\input.tsx","messages":[{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":13,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":13,"endColumn":26,"fix":{"range":[326,820],"text":"className={cn(\r\n                    'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                type={type}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":17,"column":17,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":17,"endColumn":20,"fix":{"range":[326,820],"text":"className={cn(\r\n                    'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                type={type}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = 'Input'\r\n\r\nexport { Input }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\label.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `class-variance-authority`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,172],"text":"import * as LabelPrimitive from '@radix-ui/react-label'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\nimport * as React from 'react'\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":20,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":20,"endColumn":18,"fix":{"range":[604,665],"text":"className={cn(labelVariants(), className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst labelVariants = cva(\r\n    'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n    React.ElementRef<typeof LabelPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n    <LabelPrimitive.Root\r\n        ref={ref}\r\n        className={cn(labelVariants(), className)}\r\n        {...props}\r\n    />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\progress.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-progress` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":62,"fix":{"range":[16,111],"text":"import * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":14,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":14,"endColumn":18,"fix":{"range":[389,535],"text":"className={cn(\r\n            \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n    React.ElementRef<typeof ProgressPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n    <ProgressPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <ProgressPrimitive.Indicator\r\n            className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n            style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n        />\r\n    </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\radio-group.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,155],"text":"import * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\r\nimport { Circle } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":27,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":27,"endColumn":18,"fix":{"range":[836,1153],"text":"className={cn(\r\n            \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\r\nimport { Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst RadioGroup = React.forwardRef<\r\n    React.ElementRef<typeof RadioGroupPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <RadioGroupPrimitive.Root\r\n        className={cn(\"grid gap-2\", className)}\r\n        {...props}\r\n        ref={ref}\r\n    />\r\n))\r\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\r\n\r\nconst RadioGroupItem = React.forwardRef<\r\n    React.ElementRef<typeof RadioGroupPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n    <RadioGroupPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\r\n            \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\r\n            <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\r\n        </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n))\r\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\scroll-area.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-scroll-area` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":67,"fix":{"range":[16,116],"text":"import * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":14,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":14,"endColumn":18,"fix":{"range":[405,477],"text":"className={cn(\"relative overflow-hidden\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":32,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":32,"endColumn":20,"fix":{"range":[1101,1490],"text":"className={cn(\r\n            \"flex touch-none select-none transition-colors\",\r\n            orientation === \"vertical\" &&\r\n            \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n            orientation === \"horizontal\" &&\r\n            \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n            className\r\n        )}\r\n        orientation={orientation}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":33,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":33,"endColumn":18,"fix":{"range":[1101,1490],"text":"className={cn(\r\n            \"flex touch-none select-none transition-colors\",\r\n            orientation === \"vertical\" &&\r\n            \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n            orientation === \"horizontal\" &&\r\n            \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n            className\r\n        )}\r\n        orientation={orientation}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n    React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n    <ScrollAreaPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\"relative overflow-hidden\", className)}\r\n        {...props}\r\n    >\r\n        <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n            {children}\r\n        </ScrollAreaPrimitive.Viewport>\r\n        <ScrollBar />\r\n        <ScrollAreaPrimitive.Corner />\r\n    </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n    React.ElementRef<typeof ScrollAreaPrimitive.Scrollbar>,\r\n    React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Scrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n    <ScrollAreaPrimitive.Scrollbar\r\n        ref={ref}\r\n        orientation={orientation}\r\n        className={cn(\r\n            \"flex touch-none select-none transition-colors\",\r\n            orientation === \"vertical\" &&\r\n            \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n            orientation === \"horizontal\" &&\r\n            \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <ScrollAreaPrimitive.Thumb className=\"relative flex-1 rounded-full bg-border\" />\r\n    </ScrollAreaPrimitive.Scrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.Scrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\select.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,169],"text":"import * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":21,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":21,"endColumn":18,"fix":{"range":[587,975],"text":"className={cn(\r\n            \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":41,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":41,"endColumn":18,"fix":{"range":[1529,1666],"text":"className={cn(\r\n            \"flex cursor-default items-center justify-center py-1\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":58,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":58,"endColumn":18,"fix":{"range":[2139,2276],"text":"className={cn(\r\n            \"flex cursor-default items-center justify-center py-1\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":77,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":77,"endColumn":22,"fix":{"range":[2795,3570],"text":"className={cn(\r\n                \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                position === \"popper\" &&\r\n                \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n                className\r\n            )}\r\n            position={position}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":83,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":83,"endColumn":21,"fix":{"range":[2795,3570],"text":"className={cn(\r\n                \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                position === \"popper\" &&\r\n                \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n                className\r\n            )}\r\n            position={position}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":108,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":108,"endColumn":18,"fix":{"range":[4416,4502],"text":"className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":120,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":120,"endColumn":18,"fix":{"range":[4838,5140],"text":"className={cn(\r\n            \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":143,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":143,"endColumn":18,"fix":{"range":[5831,5903],"text":"className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":9,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Select = SelectPrimitive.Root\r\n\r\nconst SelectGroup = SelectPrimitive.Group\r\n\r\nconst SelectValue = SelectPrimitive.Value\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n    <SelectPrimitive.Trigger\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        {children}\r\n        <SelectPrimitive.Icon asChild>\r\n            <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n        </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n))\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n    <SelectPrimitive.ScrollUpButton\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex cursor-default items-center justify-center py-1\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <ChevronUp className=\"h-4 w-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n))\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n    <SelectPrimitive.ScrollDownButton\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex cursor-default items-center justify-center py-1\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <ChevronDown className=\"h-4 w-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n))\r\nSelectScrollDownButton.displayName =\r\n    SelectPrimitive.ScrollDownButton.displayName\r\n\r\nconst SelectContent = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => (\r\n    <SelectPrimitive.Portal>\r\n        <SelectPrimitive.Content\r\n            ref={ref}\r\n            className={cn(\r\n                \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                position === \"popper\" &&\r\n                \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n                className\r\n            )}\r\n            position={position}\r\n            {...props}\r\n        >\r\n            <SelectScrollUpButton />\r\n            <SelectPrimitive.Viewport\r\n                className={cn(\r\n                    \"p-1\",\r\n                    position === \"popper\" &&\r\n                    \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\r\n                )}\r\n            >\r\n                {children}\r\n            </SelectPrimitive.Viewport>\r\n            <SelectScrollDownButton />\r\n        </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n))\r\nSelectContent.displayName = SelectPrimitive.Content.displayName\r\n\r\nconst SelectLabel = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.Label>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n    <SelectPrimitive.Label\r\n        ref={ref}\r\n        className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\r\n        {...props}\r\n    />\r\n))\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName\r\n\r\nconst SelectItem = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n    <SelectPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n            <SelectPrimitive.ItemIndicator>\r\n                <Check className=\"h-4 w-4\" />\r\n            </SelectPrimitive.ItemIndicator>\r\n        </span>\r\n\r\n        <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n))\r\nSelectItem.displayName = SelectPrimitive.Item.displayName\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n    React.ElementRef<typeof SelectPrimitive.Separator>,\r\n    React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n    <SelectPrimitive.Separator\r\n        ref={ref}\r\n        className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n        {...props}\r\n    />\r\n))\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\r\n\r\nexport {\r\n    Select,\r\n    SelectGroup,\r\n    SelectValue,\r\n    SelectTrigger,\r\n    SelectContent,\r\n    SelectLabel,\r\n    SelectItem,\r\n    SelectSeparator,\r\n    SelectScrollUpButton,\r\n    SelectScrollDownButton,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\separator.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-separator` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":64,"fix":{"range":[16,113],"text":"import * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":18,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":18,"endColumn":23,"fix":{"range":[474,754],"text":"className={cn(\r\n                \"shrink-0 bg-border\",\r\n                orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n                className\r\n            )}\r\n            decorative={decorative}\r\n            orientation={orientation}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":19,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":19,"endColumn":24,"fix":{"range":[474,754],"text":"className={cn(\r\n                \"shrink-0 bg-border\",\r\n                orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n                className\r\n            )}\r\n            decorative={decorative}\r\n            orientation={orientation}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":20,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":20,"endColumn":22,"fix":{"range":[474,754],"text":"className={cn(\r\n                \"shrink-0 bg-border\",\r\n                orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n                className\r\n            )}\r\n            decorative={decorative}\r\n            orientation={orientation}\r\n            ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n    React.ElementRef<typeof SeparatorPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\r\n>(\r\n    (\r\n        { className, orientation = \"horizontal\", decorative = true, ...props },\r\n        ref\r\n    ) => (\r\n        <SeparatorPrimitive.Root\r\n            ref={ref}\r\n            decorative={decorative}\r\n            orientation={orientation}\r\n            className={cn(\r\n                \"shrink-0 bg-border\",\r\n                orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    )\r\n)\r\nSeparator.displayName = SeparatorPrimitive.Root.displayName\r\n\r\nexport { Separator }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\sheet.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`react` import should occur after import of `lucide-react`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":31,"fix":{"range":[16,207],"text":"import * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":64,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":64,"endColumn":22,"fix":{"range":[2406,2479],"text":"className={cn(sheetVariants({ side }), className)}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":111,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":111,"endColumn":18,"fix":{"range":[3941,4026],"text":"className={cn(\"text-lg font-semibold text-foreground\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":123,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":123,"endColumn":18,"fix":{"range":[4374,4451],"text":"className={cn(\"text-sm text-muted-foreground\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Sheet = SheetPrimitive.Root\r\n\r\nconst SheetTrigger = SheetPrimitive.Trigger\r\n\r\nconst SheetClose = SheetPrimitive.Close\r\n\r\nconst SheetPortal = SheetPrimitive.Portal\r\n\r\nconst SheetOverlay = React.forwardRef<\r\n    React.ElementRef<typeof SheetPrimitive.Overlay>,\r\n    React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n    <SheetPrimitive.Overlay\r\n        className={cn(\r\n            \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n        ref={ref}\r\n    />\r\n))\r\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\r\n\r\nconst sheetVariants = cva(\r\n    \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n    {\r\n        variants: {\r\n            side: {\r\n                top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\r\n                bottom:\r\n                    \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\r\n                left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\r\n                right:\r\n                    \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            side: \"right\",\r\n        },\r\n    }\r\n)\r\n\r\ninterface SheetContentProps\r\n    extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\r\n    VariantProps<typeof sheetVariants> { }\r\n\r\nconst SheetContent = React.forwardRef<\r\n    React.ElementRef<typeof SheetPrimitive.Content>,\r\n    SheetContentProps\r\n>(({ side = \"right\", className, children, ...props }, ref) => (\r\n    <SheetPortal>\r\n        <SheetOverlay />\r\n        <SheetPrimitive.Content\r\n            ref={ref}\r\n            className={cn(sheetVariants({ side }), className)}\r\n            {...props}\r\n        >\r\n            {children}\r\n            <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\r\n                <X className=\"h-4 w-4\" />\r\n                <span className=\"sr-only\">Close</span>\r\n            </SheetPrimitive.Close>\r\n        </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n))\r\nSheetContent.displayName = SheetPrimitive.Content.displayName\r\n\r\nconst SheetHeader = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col space-y-2 text-center sm:text-left\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nSheetHeader.displayName = \"SheetHeader\"\r\n\r\nconst SheetFooter = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n    <div\r\n        className={cn(\r\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n)\r\nSheetFooter.displayName = \"SheetFooter\"\r\n\r\nconst SheetTitle = React.forwardRef<\r\n    React.ElementRef<typeof SheetPrimitive.Title>,\r\n    React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n    <SheetPrimitive.Title\r\n        ref={ref}\r\n        className={cn(\"text-lg font-semibold text-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nSheetTitle.displayName = SheetPrimitive.Title.displayName\r\n\r\nconst SheetDescription = React.forwardRef<\r\n    React.ElementRef<typeof SheetPrimitive.Description>,\r\n    React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n    <SheetPrimitive.Description\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nSheetDescription.displayName = SheetPrimitive.Description.displayName\r\n\r\nexport {\r\n    Sheet,\r\n    SheetPortal,\r\n    SheetOverlay,\r\n    SheetTrigger,\r\n    SheetClose,\r\n    SheetContent,\r\n    SheetHeader,\r\n    SheetFooter,\r\n    SheetTitle,\r\n    SheetDescription,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\sonner.tsx","messages":[{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":12,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":12,"endColumn":22,"fix":{"range":[247,912],"text":"className=\"toaster group\"\r\n            theme=\"system\"\r\n            toastOptions={{\r\n                classNames: {\r\n                    toast:\r\n                        'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',\r\n                    description: 'group-[.toast]:text-muted-foreground',\r\n                    actionButton:\r\n                        'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',\r\n                    cancelButton:\r\n                        'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',\r\n                },\r\n            }}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"'use client'\r\n\r\nimport * as React from 'react'\r\nimport { Toaster as Sonner } from 'sonner'\r\n\r\ntype ToasterProps = React.ComponentProps<typeof Sonner>\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n    return (\r\n        <Sonner\r\n            theme=\"system\"\r\n            className=\"toaster group\"\r\n            toastOptions={{\r\n                classNames: {\r\n                    toast:\r\n                        'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',\r\n                    description: 'group-[.toast]:text-muted-foreground',\r\n                    actionButton:\r\n                        'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',\r\n                    cancelButton:\r\n                        'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',\r\n                },\r\n            }}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\n\r\nexport { Toaster }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\switch.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-switch` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":59,"fix":{"range":[16,108],"text":"import * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\nimport * as React from \"react\"\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n    React.ElementRef<typeof SwitchPrimitives.Root>,\r\n    React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <SwitchPrimitives.Root\r\n        className={cn(\r\n            \"peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n            className\r\n        )}\r\n        {...props}\r\n        ref={ref}\r\n    >\r\n        <SwitchPrimitives.Thumb\r\n            className={cn(\r\n                \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n            )}\r\n        />\r\n    </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\table.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":31,"fix":{"range":[30,30],"text":"\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":11,"column":13,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":11,"endColumn":22,"fix":{"range":[288,369],"text":"className={cn(\"w-full caption-bottom text-sm\", className)}\r\n            ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":22,"column":22,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":22,"endColumn":31,"fix":{"range":[624,678],"text":"className={cn(\"[&_tr]:border-b\", className)} ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":32,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":32,"endColumn":18,"fix":{"range":[918,992],"text":"className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":44,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":44,"endColumn":18,"fix":{"range":[1244,1384],"text":"className={cn(\r\n            \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":59,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":59,"endColumn":18,"fix":{"range":[1626,1786],"text":"className={cn(\r\n            \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":74,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":74,"endColumn":18,"fix":{"range":[2027,2208],"text":"className={cn(\r\n            \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":89,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":89,"endColumn":18,"fix":{"range":[2451,2545],"text":"className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":101,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":101,"endColumn":18,"fix":{"range":[2800,2882],"text":"className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":9,"source":"import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n    HTMLTableElement,\r\n    React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div className=\"relative w-full overflow-auto\">\r\n        <table\r\n            ref={ref}\r\n            className={cn(\"w-full caption-bottom text-sm\", className)}\r\n            {...props}\r\n        />\r\n    </div>\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n    HTMLTableSectionElement,\r\n    React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n    <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n    HTMLTableSectionElement,\r\n    React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n    <tbody\r\n        ref={ref}\r\n        className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n    HTMLTableSectionElement,\r\n    React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n    <tfoot\r\n        ref={ref}\r\n        className={cn(\r\n            \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n    HTMLTableRowElement,\r\n    React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n    <tr\r\n        ref={ref}\r\n        className={cn(\r\n            \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n    HTMLTableCellElement,\r\n    React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n    <th\r\n        ref={ref}\r\n        className={cn(\r\n            \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n    HTMLTableCellElement,\r\n    React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n    <td\r\n        ref={ref}\r\n        className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n    HTMLTableCaptionElement,\r\n    React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n    <caption\r\n        ref={ref}\r\n        className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n    Table,\r\n    TableHeader,\r\n    TableBody,\r\n    TableFooter,\r\n    TableHead,\r\n    TableRow,\r\n    TableCell,\r\n    TableCaption,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\tabs.tsx","messages":[{"ruleId":"import/order","severity":1,"message":"`@radix-ui/react-tabs` import should occur before import of `react`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":54,"fix":{"range":[16,103],"text":"import * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\nimport * as React from \"react\"\r\n"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":16,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":16,"endColumn":18,"fix":{"range":[397,572],"text":"className={cn(\r\n            \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":31,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":31,"endColumn":18,"fix":{"range":[896,1368],"text":"className={cn(\r\n            \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n            className\r\n        )}\r\n        ref={ref}"}},{"ruleId":"react/jsx-sort-props","severity":1,"message":"Props should be sorted alphabetically","line":46,"column":9,"nodeType":"JSXIdentifier","messageId":"sortPropsByAlpha","endLine":46,"endColumn":18,"fix":{"range":[1698,1910],"text":"className={cn(\r\n            \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n            className\r\n        )}\r\n        ref={ref}"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n    React.ElementRef<typeof TabsPrimitive.List>,\r\n    React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n    <TabsPrimitive.List\r\n        ref={ref}\r\n        className={cn(\r\n            \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n    React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n    React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n    <TabsPrimitive.Trigger\r\n        ref={ref}\r\n        className={cn(\r\n            \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n    React.ElementRef<typeof TabsPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n    <TabsPrimitive.Content\r\n        ref={ref}\r\n        className={cn(\r\n            \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\hooks\\useMercadoPago.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[139,142],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[139,142],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[622,625],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[622,625],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1166,1169],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1166,1169],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":63,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1713,1716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1713,1716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3965,3968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3965,3968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useEffect, useState, useCallback } from 'react'\r\n\r\ndeclare global {\r\n    interface Window {\r\n        MercadoPago: any\r\n    }\r\n}\r\n\r\ninterface CardFormData {\r\n    cardNumber: string\r\n    cardholderName: string\r\n    cardExpirationMonth: string\r\n    cardExpirationYear: string\r\n    securityCode: string\r\n    identificationType: string\r\n    identificationNumber: string\r\n}\r\n\r\ninterface TokenResult {\r\n    token: string\r\n    issuerId: string\r\n    paymentMethodId: string\r\n    lastFourDigits: string\r\n}\r\n\r\nexport function useMercadoPago(publicKey: string | undefined) {\r\n    const [mp, setMp] = useState<any>(null)\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n    const [error, setError] = useState<string | null>(null)\r\n\r\n    // Carregar SDK do Mercado Pago\r\n    useEffect(() => {\r\n        if (!publicKey) return\r\n\r\n        // Verificar se j├í foi carregado\r\n        if (window.MercadoPago) {\r\n            try {\r\n                const mpInstance = new window.MercadoPago(publicKey, {\r\n                    locale: 'pt-BR',\r\n                })\r\n                setMp(mpInstance)\r\n                setIsLoaded(true)\r\n            } catch (err: any) {\r\n                setError(err.message)\r\n            }\r\n            return\r\n        }\r\n\r\n        // Carregar script\r\n        const script = document.createElement('script')\r\n        script.src = 'https://sdk.mercadopago.com/js/v2'\r\n        script.async = true\r\n\r\n        script.onload = () => {\r\n            try {\r\n                const mpInstance = new window.MercadoPago(publicKey, {\r\n                    locale: 'pt-BR',\r\n                })\r\n                setMp(mpInstance)\r\n                setIsLoaded(true)\r\n            } catch (err: any) {\r\n                setError(err.message)\r\n            }\r\n        }\r\n\r\n        script.onerror = () => {\r\n            setError('Erro ao carregar SDK do Mercado Pago')\r\n        }\r\n\r\n        document.head.appendChild(script)\r\n\r\n        return () => {\r\n            // N├úo remover script pois pode ser usado por outros componentes\r\n        }\r\n    }, [publicKey])\r\n\r\n    // Criar token do cart├úo\r\n    const createCardToken = useCallback(async (\r\n        cardData: CardFormData\r\n    ): Promise<TokenResult> => {\r\n        if (!mp) {\r\n            throw new Error('SDK do Mercado Pago n├úo carregado')\r\n        }\r\n\r\n        try {\r\n            // Buscar issuer e payment method pelo n├║mero do cart├úo\r\n            const bin = cardData.cardNumber.replace(/\\D/g, '').slice(0, 6)\r\n\r\n            // Obter m├®todo de pagamento\r\n            const paymentMethodsResponse = await fetch(\r\n                `https://api.mercadopago.com/v1/payment_methods/search?public_key=${mp.publicKey}&bins=${bin}`\r\n            )\r\n            const paymentMethodsData = await paymentMethodsResponse.json()\r\n\r\n            const paymentMethodId = paymentMethodsData.results?.[0]?.id || 'visa'\r\n            const issuerId = paymentMethodsData.results?.[0]?.issuer?.id || ''\r\n\r\n            // Criar token usando cardTokenObject\r\n            const cardNumber = cardData.cardNumber.replace(/\\D/g, '')\r\n\r\n            const response = await mp.createCardToken({\r\n                cardNumber: cardNumber,\r\n                cardholderName: cardData.cardholderName,\r\n                cardExpirationMonth: cardData.cardExpirationMonth,\r\n                cardExpirationYear: '20' + cardData.cardExpirationYear,\r\n                securityCode: cardData.securityCode,\r\n                identificationType: cardData.identificationType,\r\n                identificationNumber: cardData.identificationNumber.replace(/\\D/g, ''),\r\n            })\r\n\r\n            if (response.error) {\r\n                throw new Error(response.error || 'Erro ao tokenizar cart├úo')\r\n            }\r\n\r\n            return {\r\n                token: response.id,\r\n                issuerId: issuerId.toString(),\r\n                paymentMethodId,\r\n                lastFourDigits: cardNumber.slice(-4),\r\n            }\r\n        } catch (err: any) {\r\n            console.error('[MP SDK] Erro ao criar token:', err)\r\n            throw new Error(\r\n                err.message || 'Erro ao processar dados do cart├úo'\r\n            )\r\n        }\r\n    }, [mp])\r\n\r\n    // Obter tipos de documento\r\n    const getIdentificationTypes = useCallback(async () => {\r\n        if (!mp) return []\r\n\r\n        try {\r\n            const types = await mp.getIdentificationTypes()\r\n            return types\r\n        } catch (err) {\r\n            console.error('[MP SDK] Erro ao buscar tipos de documento:', err)\r\n            return [{ id: 'CPF', name: 'CPF' }]\r\n        }\r\n    }, [mp])\r\n\r\n    // Obter parcelas\r\n    const getInstallments = useCallback(async (\r\n        amount: number,\r\n        bin: string\r\n    ) => {\r\n        if (!mp || bin.length < 6) return []\r\n\r\n        try {\r\n            const installments = await mp.getInstallments({\r\n                amount: amount.toString(),\r\n                bin,\r\n            })\r\n            return installments[0]?.payer_costs || []\r\n        } catch (err) {\r\n            console.error('[MP SDK] Erro ao buscar parcelas:', err)\r\n            return []\r\n        }\r\n    }, [mp])\r\n\r\n    return {\r\n        mp,\r\n        isLoaded,\r\n        error,\r\n        createCardToken,\r\n        getIdentificationTypes,\r\n        getInstallments,\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\auth-member.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[271,274],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[271,274],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":19,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { SignJWT, jwtVerify } from 'jose'\r\nimport { cookies } from 'next/headers'\r\n\r\nconst secretKey = process.env.JWT_SECRET_KEY || 'default-secret-key-checkout-platform'\r\nconst key = new TextEncoder().encode(secretKey)\r\n\r\nexport async function signMemberToken(payload: any) {\r\n    return new SignJWT(payload)\r\n        .setProtectedHeader({ alg: 'HS256' })\r\n        .setIssuedAt()\r\n        .setExpirationTime('30d') // Login persistente\r\n        .sign(key)\r\n}\r\n\r\nexport async function verifyMemberToken(token: string) {\r\n    try {\r\n        const { payload } = await jwtVerify(token, key)\r\n        return payload\r\n    } catch (error) {\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function getMemberSession() {\r\n    const cookieStore = cookies()\r\n    const token = cookieStore.get('member_session')?.value\r\n    if (!token) return null\r\n    return await verifyMemberToken(token)\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\auth.ts","messages":[{"ruleId":"import/order","severity":1,"message":"`@auth/prisma-adapter` import should occur before import of `next-auth`","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":53,"fix":{"range":[0,166],"text":"import { PrismaAdapter } from '@auth/prisma-adapter'\r\nimport { NextAuthOptions } from 'next-auth'\r\nimport CredentialsProvider from 'next-auth/providers/credentials'\r\n"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PrismaAdapter' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":23},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":35,"fix":{"range":[200,200],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`bcryptjs` import should occur before import of `next-auth`","line":4,"column":1,"nodeType":"ImportDeclaration","endLine":4,"endColumn":35,"fix":{"range":[0,202],"text":"import { compare } from 'bcryptjs'\r\nimport { NextAuthOptions } from 'next-auth'\r\nimport CredentialsProvider from 'next-auth/providers/credentials'\r\nimport { PrismaAdapter } from '@auth/prisma-adapter'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1891,1894],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1891,1894],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":79,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":79,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2563,2618],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":82,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":82,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2680,2725],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { NextAuthOptions } from 'next-auth'\r\nimport CredentialsProvider from 'next-auth/providers/credentials'\r\nimport { PrismaAdapter } from '@auth/prisma-adapter'\r\nimport { compare } from 'bcryptjs'\r\nimport prisma from '@/lib/db'\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n    session: {\r\n        strategy: 'jwt',\r\n        maxAge: 30 * 24 * 60 * 60, // 30 dias (equivalente ao PHP)\r\n    },\r\n    pages: {\r\n        signIn: '/login',\r\n        signOut: '/logout',\r\n        error: '/login',\r\n    },\r\n    providers: [\r\n        CredentialsProvider({\r\n            name: 'credentials',\r\n            credentials: {\r\n                email: { label: 'Email', type: 'email' },\r\n                password: { label: 'Senha', type: 'password' },\r\n            },\r\n            async authorize(credentials) {\r\n                if (!credentials?.email || !credentials?.password) {\r\n                    throw new Error('Email e senha s├úo obrigat├│rios')\r\n                }\r\n\r\n                const user = await prisma.usuarios.findUnique({\r\n                    where: { usuario: credentials.email },\r\n                })\r\n\r\n                if (!user) {\r\n                    throw new Error('Credenciais incorretas')\r\n                }\r\n\r\n                const isPasswordValid = await compare(credentials.password, user.senha)\r\n\r\n                if (!isPasswordValid) {\r\n                    throw new Error('Credenciais incorretas')\r\n                }\r\n\r\n                return {\r\n                    id: user.id,\r\n                    email: user.usuario,\r\n                    name: user.nome,\r\n                    type: user.tipo,\r\n                    image: user.foto_perfil,\r\n                }\r\n            },\r\n        }),\r\n    ],\r\n    callbacks: {\r\n        async jwt({ token, user, trigger, session }) {\r\n            if (user) {\r\n                token.id = user.id\r\n                token.type = (user as any).type\r\n            }\r\n\r\n            // Atualizar sess├úo quando solicitado\r\n            if (trigger === 'update' && session) {\r\n                token.name = session.name\r\n                token.picture = session.image\r\n            }\r\n\r\n            return token\r\n        },\r\n        async session({ session, token }) {\r\n            if (session.user) {\r\n                session.user.id = token.id as string\r\n                session.user.type = token.type as string\r\n            }\r\n            return session\r\n        },\r\n    },\r\n    events: {\r\n        async signIn({ user }) {\r\n            // Log de login bem-sucedido (equivalente ao PHP log_security_event)\r\n            console.log(`[AUTH] Login bem-sucedido: ${user.email}`)\r\n        },\r\n        async signOut({ token }) {\r\n            console.log(`[AUTH] Logout: ${token?.email}`)\r\n        },\r\n    },\r\n}\r\n\r\n// Tipos estendidos para TypeScript\r\ndeclare module 'next-auth' {\r\n    interface Session {\r\n        user: {\r\n            id: string\r\n            email: string\r\n            name?: string | null\r\n            image?: string | null\r\n            type: string\r\n        }\r\n    }\r\n\r\n    interface User {\r\n        type: string\r\n    }\r\n}\r\n\r\ndeclare module 'next-auth/jwt' {\r\n    interface JWT {\r\n        id: string\r\n        type: string\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\email.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":36,"fix":{"range":[35,35],"text":"\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":114,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":114,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3317,3386],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import nodemailer from 'nodemailer'\r\nimport { prisma } from '@/lib/db'\r\n\r\n// Tipos\r\ninterface EmailOptions {\r\n    to: string\r\n    subject: string\r\n    html: string\r\n    attachments?: Array<{\r\n        filename: string\r\n        path: string\r\n    }>\r\n}\r\n\r\ninterface DeliveryEmailData {\r\n    customerName: string\r\n    customerEmail: string\r\n    products: Array<{\r\n        name: string\r\n        type: 'link' | 'pdf' | 'area_membros' | 'produto_fisico'\r\n        content?: string\r\n    }>\r\n    memberPassword?: string\r\n    loginUrl?: string\r\n    setupToken?: string\r\n    address?: {\r\n        cep: string\r\n        street: string\r\n        number: string\r\n        complement?: string\r\n        neighborhood: string\r\n        city: string\r\n        state: string\r\n    }\r\n}\r\n\r\n/**\r\n * Cria o transporter do nodemailer com as configs do banco\r\n */\r\nasync function createTransporter() {\r\n    // Buscar configura├º├Áes SMTP do banco\r\n    const configs = await prisma.config.findMany({\r\n        where: {\r\n            key: {\r\n                in: [\r\n                    'smtp_host',\r\n                    'smtp_port',\r\n                    'smtp_username',\r\n                    'smtp_password',\r\n                    'smtp_encryption',\r\n                    'smtp_from_email',\r\n                    'smtp_from_name',\r\n                ],\r\n            },\r\n        },\r\n    })\r\n\r\n    const configMap = Object.fromEntries(configs.map((c) => [c.key, c.value]))\r\n\r\n    // Se n├úo houver config SMTP, usar env vars\r\n    const host = configMap.smtp_host || process.env.SMTP_HOST\r\n    const port = parseInt(configMap.smtp_port || process.env.SMTP_PORT || '465')\r\n    const user = configMap.smtp_username || process.env.SMTP_USER\r\n    const pass = configMap.smtp_password || process.env.SMTP_PASS\r\n    const encryption = configMap.smtp_encryption || 'ssl'\r\n\r\n    if (!host || !user || !pass) {\r\n        throw new Error('Configura├º├Áes SMTP n├úo encontradas')\r\n    }\r\n\r\n    return nodemailer.createTransport({\r\n        host,\r\n        port,\r\n        secure: encryption === 'ssl',\r\n        auth: {\r\n            user,\r\n            pass,\r\n        },\r\n        tls: {\r\n            // Em produ├º├úo, manter verifica├º├úo de SSL\r\n            rejectUnauthorized: process.env.NODE_ENV === 'production',\r\n        },\r\n    })\r\n}\r\n\r\n/**\r\n * Envia email usando as configura├º├Áes SMTP do banco\r\n */\r\nexport async function sendEmail(options: EmailOptions): Promise<boolean> {\r\n    try {\r\n        const transporter = await createTransporter()\r\n\r\n        // Buscar nome e email do remetente\r\n        const configs = await prisma.config.findMany({\r\n            where: {\r\n                key: {\r\n                    in: ['smtp_from_email', 'smtp_from_name', 'smtp_username'],\r\n                },\r\n            },\r\n        })\r\n\r\n        const configMap = Object.fromEntries(configs.map((c) => [c.key, c.value]))\r\n        const fromEmail = configMap.smtp_from_email || configMap.smtp_username || process.env.SMTP_FROM_EMAIL\r\n        const fromName = configMap.smtp_from_name || process.env.SMTP_FROM_NAME || 'Checkout Platform'\r\n\r\n        await transporter.sendMail({\r\n            from: `\"${fromName}\" <${fromEmail}>`,\r\n            to: options.to,\r\n            subject: options.subject,\r\n            html: options.html,\r\n            attachments: options.attachments,\r\n        })\r\n\r\n        console.log(`[EMAIL] Enviado para ${options.to}: ${options.subject}`)\r\n        return true\r\n    } catch (error) {\r\n        console.error('[EMAIL] Erro ao enviar:', error)\r\n        return false\r\n    }\r\n}\r\n\r\n/**\r\n * Envia email de entrega de produto (equivalente ao send_delivery_email_consolidated do PHP)\r\n */\r\nexport async function sendDeliveryEmail(data: DeliveryEmailData): Promise<boolean> {\r\n    try {\r\n        // Buscar template do banco\r\n        const templateConfig = await prisma.config.findFirst({\r\n            where: { key: 'email_template_delivery_html' },\r\n        })\r\n\r\n        const subjectConfig = await prisma.config.findFirst({\r\n            where: { key: 'email_template_delivery_subject' },\r\n        })\r\n\r\n        let template = templateConfig?.value || getDefaultDeliveryTemplate()\r\n        const subject = subjectConfig?.value || 'Seu acesso chegou!'\r\n\r\n        // Buscar logo da plataforma\r\n        const logoConfig = await prisma.systemConfig.findFirst({\r\n            where: { key: 'logo_url' },\r\n        })\r\n\r\n        const logoUrl = logoConfig?.value\r\n            ? `${process.env.NEXT_PUBLIC_APP_URL}/${logoConfig.value}`\r\n            : ''\r\n\r\n        // Substituir vari├íveis\r\n        template = template\r\n            .replace(/{CLIENT_NAME}/g, data.customerName)\r\n            .replace(/{CLIENT_EMAIL}/g, data.customerEmail)\r\n            .replace(/{MEMBER_AREA_PASSWORD}/g, data.memberPassword || 'N/A')\r\n            .replace(/{MEMBER_AREA_LOGIN_URL}/g, data.loginUrl || `${process.env.NEXT_PUBLIC_APP_URL}/member/login`)\r\n            .replace(/{LOGO_URL}/g, logoUrl)\r\n\r\n        // URL de setup de senha\r\n        if (data.setupToken) {\r\n            const setupUrl = `${process.env.NEXT_PUBLIC_APP_URL}/member/setup-password?token=${data.setupToken}`\r\n            template = template.replace(/{SETUP_PASSWORD_URL}/g, setupUrl)\r\n        }\r\n\r\n        // Processar endere├ºo\r\n        if (data.address) {\r\n            const addressHtml = `\r\n        <div style=\"margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 5px; border-left: 4px solid #4CAF50;\">\r\n          <h3 style=\"margin-top: 0; color: #333; font-size: 16px;\">Endere├ºo de Entrega</h3>\r\n          <p style=\"margin: 5px 0; color: #666; font-size: 14px;\"><strong>CEP:</strong> ${data.address.cep}</p>\r\n          <p style=\"margin: 5px 0; color: #666; font-size: 14px;\"><strong>Endere├ºo:</strong> ${data.address.street}, ${data.address.number}${data.address.complement ? ' - ' + data.address.complement : ''}</p>\r\n          <p style=\"margin: 5px 0; color: #666; font-size: 14px;\"><strong>Bairro:</strong> ${data.address.neighborhood}</p>\r\n          <p style=\"margin: 5px 0; color: #666; font-size: 14px;\"><strong>Cidade/UF:</strong> ${data.address.city} - ${data.address.state}</p>\r\n        </div>\r\n      `\r\n            template = template.replace(/{DELIVERY_ADDRESS}/g, addressHtml)\r\n        } else {\r\n            template = template.replace(/{DELIVERY_ADDRESS}/g, '')\r\n        }\r\n\r\n        // Processar loop de produtos\r\n        const loopStart = '<!-- LOOP_PRODUCTS_START -->'\r\n        const loopEnd = '<!-- LOOP_PRODUCTS_END -->'\r\n\r\n        if (template.includes(loopStart)) {\r\n            const startIdx = template.indexOf(loopStart) + loopStart.length\r\n            const endIdx = template.indexOf(loopEnd)\r\n            const productTemplate = template.substring(startIdx, endIdx)\r\n\r\n            let productsHtml = ''\r\n            for (const product of data.products) {\r\n                let productItem = productTemplate\r\n                    .replace(/{PRODUCT_NAME}/g, product.name)\r\n                    .replace(/{PRODUCT_LINK}/g, product.type === 'link' ? product.content || '' : '')\r\n\r\n                // Processar condicionais de tipo\r\n                const types = ['link', 'pdf', 'area_membros', 'produto_fisico']\r\n                for (const type of types) {\r\n                    const tagName = `PRODUCT_TYPE_${type === 'area_membros' ? 'MEMBER_AREA' : type === 'produto_fisico' ? 'PHYSICAL_PRODUCT' : type.toUpperCase()}`\r\n                    if (product.type === type) {\r\n                        productItem = productItem\r\n                            .replace(new RegExp(`<!-- IF_${tagName} -->`, 'g'), '')\r\n                            .replace(new RegExp(`<!-- END_IF_${tagName} -->`, 'g'), '')\r\n                    } else {\r\n                        productItem = productItem.replace(\r\n                            new RegExp(`<!-- IF_${tagName} -->.*?<!-- END_IF_${tagName} -->`, 'gs'),\r\n                            ''\r\n                        )\r\n                    }\r\n                }\r\n\r\n                productsHtml += productItem\r\n            }\r\n\r\n            template = template.replace(loopStart + productTemplate + loopEnd, productsHtml)\r\n        }\r\n\r\n        // Coletar anexos (PDFs)\r\n        const attachments = data.products\r\n            .filter((p) => p.type === 'pdf' && p.content)\r\n            .map((p) => ({\r\n                filename: p.content!.split('/').pop() || 'arquivo.pdf',\r\n                path: `${process.cwd()}/public/${p.content}`,\r\n            }))\r\n\r\n        return await sendEmail({\r\n            to: data.customerEmail,\r\n            subject,\r\n            html: template,\r\n            attachments,\r\n        })\r\n    } catch (error) {\r\n        console.error('[EMAIL] Erro ao enviar email de entrega:', error)\r\n        return false\r\n    }\r\n}\r\n\r\n/**\r\n * Envia email de recupera├º├úo de senha\r\n */\r\nexport async function sendPasswordResetEmail(\r\n    email: string,\r\n    name: string,\r\n    resetToken: string\r\n): Promise<boolean> {\r\n    const resetUrl = `${process.env.NEXT_PUBLIC_APP_URL}/reset-password?token=${resetToken}`\r\n\r\n    const html = `\r\n    <!DOCTYPE html>\r\n    <html>\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <style>\r\n        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }\r\n        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 8px; overflow: hidden; }\r\n        .header { background: linear-gradient(135deg, #32e768 0%, #28c058 100%); padding: 30px; text-align: center; }\r\n        .header h1 { color: white; margin: 0; font-size: 24px; }\r\n        .content { padding: 30px; }\r\n        .button { display: inline-block; background: #32e768; color: white; padding: 14px 28px; border-radius: 6px; text-decoration: none; font-weight: bold; margin: 20px 0; }\r\n        .footer { text-align: center; padding: 20px; color: #666; font-size: 12px; }\r\n      </style>\r\n    </head>\r\n    <body>\r\n      <div class=\"container\">\r\n        <div class=\"header\">\r\n          <h1>Recupera├º├úo de Senha</h1>\r\n        </div>\r\n        <div class=\"content\">\r\n          <p>Ol├í ${name || 'usu├írio'},</p>\r\n          <p>Recebemos uma solicita├º├úo para redefinir sua senha. Clique no bot├úo abaixo para criar uma nova senha:</p>\r\n          <p style=\"text-align: center;\">\r\n            <a href=\"${resetUrl}\" class=\"button\">Redefinir Senha</a>\r\n          </p>\r\n          <p>Se voc├¬ n├úo solicitou esta altera├º├úo, ignore este email. O link expira em 1 hora.</p>\r\n          <p>Por seguran├ºa, n├úo compartilhe este link com ningu├®m.</p>\r\n        </div>\r\n        <div class=\"footer\">\r\n          <p>Este ├® um email autom├ítico. Por favor, n├úo responda.</p>\r\n        </div>\r\n      </div>\r\n    </body>\r\n    </html>\r\n  `\r\n\r\n    return await sendEmail({\r\n        to: email,\r\n        subject: 'Recupera├º├úo de Senha',\r\n        html,\r\n    })\r\n}\r\n\r\n/**\r\n * Template padr├úo de email de entrega\r\n */\r\nfunction getDefaultDeliveryTemplate(): string {\r\n    return `\r\n    <!DOCTYPE html>\r\n    <html>\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <style>\r\n        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }\r\n        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 8px; overflow: hidden; }\r\n        .header { background: linear-gradient(135deg, #32e768 0%, #28c058 100%); padding: 30px; text-align: center; }\r\n        .logo { max-height: 50px; margin-bottom: 10px; }\r\n        .header h1 { color: white; margin: 0; font-size: 24px; }\r\n        .content { padding: 30px; }\r\n        .product-card { background: #f8f9fa; border-radius: 8px; padding: 20px; margin: 15px 0; border-left: 4px solid #32e768; }\r\n        .button { display: inline-block; background: #32e768; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; }\r\n        .footer { text-align: center; padding: 20px; color: #666; font-size: 12px; }\r\n      </style>\r\n    </head>\r\n    <body>\r\n      <div class=\"container\">\r\n        <div class=\"header\">\r\n          <img src=\"{LOGO_URL}\" alt=\"Logo\" class=\"logo\">\r\n          <h1>Seu acesso chegou! ­ƒÄë</h1>\r\n        </div>\r\n        <div class=\"content\">\r\n          <p>Ol├í <strong>{CLIENT_NAME}</strong>,</p>\r\n          <p>Sua compra foi aprovada com sucesso! Aqui est├úo os detalhes do seu acesso:</p>\r\n          \r\n          <!-- LOOP_PRODUCTS_START -->\r\n          <div class=\"product-card\">\r\n            <h3 style=\"margin: 0 0 10px 0; color: #333;\">{PRODUCT_NAME}</h3>\r\n            <!-- IF_PRODUCT_TYPE_LINK -->\r\n            <p><a href=\"{PRODUCT_LINK}\" class=\"button\">Acessar Conte├║do</a></p>\r\n            <!-- END_IF_PRODUCT_TYPE_LINK -->\r\n            <!-- IF_PRODUCT_TYPE_MEMBER_AREA -->\r\n            <p>Acesse a ├írea de membros com seu email: <strong>{CLIENT_EMAIL}</strong></p>\r\n            <!-- IF_NEW_USER_SETUP -->\r\n            <p><a href=\"{SETUP_PASSWORD_URL}\" class=\"button\">Criar sua Senha</a></p>\r\n            <!-- END_IF_NEW_USER_SETUP -->\r\n            <!-- IF_EXISTING_USER -->\r\n            <p><a href=\"{MEMBER_AREA_LOGIN_URL}\" class=\"button\">Acessar ├ürea de Membros</a></p>\r\n            <!-- END_IF_EXISTING_USER -->\r\n            <!-- END_IF_PRODUCT_TYPE_MEMBER_AREA -->\r\n            <!-- IF_PRODUCT_TYPE_PDF -->\r\n            <p>O arquivo PDF est├í anexo a este email.</p>\r\n            <!-- END_IF_PRODUCT_TYPE_PDF -->\r\n            <!-- IF_PRODUCT_TYPE_PHYSICAL_PRODUCT -->\r\n            <p>Seu produto f├¡sico ser├í enviado para o endere├ºo informado.</p>\r\n            <!-- END_IF_PRODUCT_TYPE_PHYSICAL_PRODUCT -->\r\n          </div>\r\n          <!-- LOOP_PRODUCTS_END -->\r\n          \r\n          {DELIVERY_ADDRESS}\r\n          \r\n          <p style=\"margin-top: 30px;\">Qualquer d├║vida, entre em contato conosco.</p>\r\n        </div>\r\n        <div class=\"footer\">\r\n          <p>Este ├® um email autom├ítico. Por favor, n├úo responda.</p>\r\n        </div>\r\n      </div>\r\n    </body>\r\n    </html>\r\n  `\r\n}\r\n\r\n/**\r\n * Adiciona email ├á fila (para processamento em background)\r\n */\r\nexport async function queueEmail(options: EmailOptions): Promise<void> {\r\n    await prisma.emailQueue.create({\r\n        data: {\r\n            recipientEmail: options.to,\r\n            subject: options.subject,\r\n            body: options.html,\r\n            status: 'PENDING',\r\n        },\r\n    })\r\n}\r\n\r\n/**\r\n * Processa fila de emails (chamar via cron job)\r\n */\r\nexport async function processEmailQueue(): Promise<void> {\r\n    const pendingEmails = await prisma.emailQueue.findMany({\r\n        where: {\r\n            status: 'PENDING',\r\n            attempts: { lt: 3 },\r\n        },\r\n        take: 10,\r\n    })\r\n\r\n    for (const email of pendingEmails) {\r\n        await prisma.emailQueue.update({\r\n            where: { id: email.id },\r\n            data: { status: 'PROCESSING' },\r\n        })\r\n\r\n        const success = await sendEmail({\r\n            to: email.recipientEmail,\r\n            subject: email.subject,\r\n            html: email.body,\r\n        })\r\n\r\n        await prisma.emailQueue.update({\r\n            where: { id: email.id },\r\n            data: {\r\n                status: success ? 'SENT' : 'FAILED',\r\n                attempts: { increment: 1 },\r\n                sentAt: success ? new Date() : null,\r\n                errorMessage: success ? null : 'Falha ao enviar',\r\n            },\r\n        })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\beehive.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'input' is defined but never used. Allowed unused args must match /^_/u.","line":13,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":30},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[328,331],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[328,331],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"interface BeehiveConfig {\r\n    apiToken: string\r\n}\r\n\r\nexport class BeehiveGateway {\r\n    private config: BeehiveConfig\r\n    private baseUrl = 'https://api.beehive.com/v1' // URL fict├¡cia, ajustar quando tiver doc\r\n\r\n    constructor(config: BeehiveConfig) {\r\n        this.config = config\r\n    }\r\n\r\n    async createPayment(input: any) {\r\n        // Placeholder\r\n        if (process.env.NODE_ENV === 'development') {\r\n            return {\r\n                paymentId: 'mock_beehive_' + Date.now(),\r\n                status: 'pending',\r\n                qrCode: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg',\r\n                qrCodeBase64: '',\r\n                copyPaste: '00020126330014BR.GOV.BCB.PIX0111BEEHIVE',\r\n                expiresAt: new Date(Date.now() + 30 * 60 * 1000).toISOString()\r\n            }\r\n        }\r\n        throw new Error('Beehive Gateway ainda n├úo implementado (aguardando documenta├º├úo/chaves)')\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\efi.ts","messages":[{"ruleId":"import/order","severity":1,"message":"`fs` import should occur before import of `https`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":20,"fix":{"range":[0,48],"text":"import fs from 'fs'\r\nimport https from 'https'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":138,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4570,4573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4570,4573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import https from 'https'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\ninterface EfiConfig {\r\n    clientId: string\r\n    clientSecret: string\r\n    pixKey: string\r\n    certificateName: string // Nome do arquivo .p12 na pasta 'certs'\r\n}\r\n\r\ninterface EfiPaymentInput {\r\n    amount: number\r\n    paymentMethod: 'pix'\r\n    customer: {\r\n        name: string\r\n        cpf: string\r\n    }\r\n    externalReference: string\r\n}\r\n\r\nexport class EfiGateway {\r\n    private config: EfiConfig\r\n    private baseUrl: string\r\n\r\n    constructor(config: EfiConfig, sandbox = false) {\r\n        this.config = config\r\n        this.baseUrl = sandbox\r\n            ? 'https://pix-h.api.efipay.com.br'\r\n            : 'https://pix.api.efipay.com.br'\r\n    }\r\n\r\n    private async getAgent() {\r\n        try {\r\n            const certPath = path.join(process.cwd(), 'certs', this.config.certificateName)\r\n\r\n            if (!fs.existsSync(certPath)) {\r\n                throw new Error(`Certificado n├úo encontrado: ${certPath}`)\r\n            }\r\n\r\n            const cert = fs.readFileSync(certPath)\r\n\r\n            return new https.Agent({\r\n                pfx: cert,\r\n                passphrase: '' // Ef├¡ geralmente fornece certificado sem senha ou deve ser configurada\r\n            })\r\n        } catch (error) {\r\n            console.error('[EFI] Erro ao carregar certificado:', error)\r\n            throw error\r\n        }\r\n    }\r\n\r\n    private async authenticate(agent: https.Agent) {\r\n        const credentials = Buffer.from(`${this.config.clientId}:${this.config.clientSecret}`).toString('base64')\r\n\r\n        const response = await fetch(`${this.baseUrl}/oauth/token`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': `Basic ${credentials}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ grant_type: 'client_credentials' }),\r\n            // @ts-ignore - Next.js fetch extendido n├úo tipa 'agent' nativamente, mas node-fetch suporta\r\n            agent\r\n        })\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Falha na autentica├º├úo Ef├¡')\r\n        }\r\n\r\n        const data = await response.json()\r\n        return data.access_token\r\n    }\r\n\r\n    async createPayment(input: EfiPaymentInput) {\r\n        if (input.paymentMethod !== 'pix') {\r\n            throw new Error('Integra├º├úo Ef├¡ suporta apenas Pix neste momento')\r\n        }\r\n\r\n        try {\r\n            // Em produ├º├úo real, voc├¬ deve gerenciar o cache do agent e token\r\n            const agent = await this.getAgent()\r\n            const token = await this.authenticate(agent)\r\n\r\n            const payload = {\r\n                calendario: {\r\n                    expiracao: 3600 // 1 hora\r\n                },\r\n                devedor: {\r\n                    cpf: input.customer.cpf.replace(/\\D/g, ''),\r\n                    nome: input.customer.name\r\n                },\r\n                valor: {\r\n                    original: input.amount.toFixed(2)\r\n                },\r\n                chave: this.config.pixKey,\r\n                solicitacaoPagador: `Pedido ${input.externalReference}`\r\n            }\r\n\r\n            const response = await fetch(`${this.baseUrl}/v2/cob`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(payload),\r\n                // @ts-ignore\r\n                agent\r\n            })\r\n\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Erro ao criar cobran├ºa Ef├¡')\r\n            }\r\n\r\n            // Gerar QR Code (endpoint separado loc/{id}/qrcode)\r\n            const locId = data.loc.id\r\n            const qrResponse = await fetch(`${this.baseUrl}/v2/loc/${locId}/qrcode`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                // @ts-ignore\r\n                agent\r\n            })\r\n\r\n            const qrData = await qrResponse.json()\r\n\r\n            return {\r\n                paymentId: data.txid,\r\n                status: 'pending',\r\n                qrCode: qrData.imagemQrcode,\r\n                qrCodeBase64: qrData.imagemQrcode, // Ef├¡ retorna base64 direto em imagemQrcode? Verificar doc. Geralmente retorna link ou base64.\r\n                copyPaste: qrData.qrcode,\r\n                expiresAt: new Date(Date.now() + 3600 * 1000).toISOString()\r\n            }\r\n\r\n        } catch (error: any) {\r\n            console.error('[EFI] Erro:', error)\r\n            // Mock para desenvolvimento se falhar certificado\r\n            if (process.env.NODE_ENV === 'development') {\r\n                return {\r\n                    paymentId: 'mock_efi_' + Date.now(),\r\n                    status: 'pending',\r\n                    qrCode: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg',\r\n                    qrCodeBase64: '',\r\n                    copyPaste: '00020126330014BR.GOV.BCB.PIX...',\r\n                    expiresAt: new Date(Date.now() + 3600 * 1000).toISOString()\r\n                }\r\n            }\r\n            throw new Error('Erro na integra├º├úo Ef├¡: ' + error.message)\r\n        }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\hypercash.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'input' is defined but never used. Allowed unused args must match /^_/u.","line":14,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":30},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[333,336],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[333,336],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"interface HypercashConfig {\r\n    secretKey: string\r\n    publicKey: string\r\n}\r\n\r\nexport class HypercashGateway {\r\n    private config: HypercashConfig\r\n    private baseUrl = 'https://api.hypercash.com' // URL fict├¡cia\r\n\r\n    constructor(config: HypercashConfig) {\r\n        this.config = config\r\n    }\r\n\r\n    async createPayment(input: any) {\r\n        // Placeholder\r\n        if (process.env.NODE_ENV === 'development') {\r\n            return {\r\n                paymentId: 'mock_hyper_' + Date.now(),\r\n                status: 'pending',\r\n                qrCode: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg',\r\n                qrCodeBase64: '',\r\n                copyPaste: '00020126330014BR.GOV.BCB.PIX0111HYPER',\r\n                expiresAt: new Date(Date.now() + 30 * 60 * 1000).toISOString()\r\n            }\r\n        }\r\n        throw new Error('Hypercash Gateway ainda n├úo implementado (aguardando documenta├º├úo/chaves)')\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\index.ts","messages":[{"ruleId":"import/order","severity":1,"message":"`./types` import should occur after import of `./pushinpay`","line":17,"column":1,"nodeType":"ImportDeclaration","endLine":17,"endColumn":76,"fix":{"range":[373,538],"text":"import * as mercadopago from './mercadopago'\r\nimport * as pushinpay from './pushinpay'\r\nimport { GatewayCredentials, PaymentRequest, PaymentResult } from './types'\r\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/**\r\n * Arquivo de exporta├º├úo central dos gateways\r\n */\r\n\r\n// Tipos compartilhados\r\nexport * from './types'\r\n\r\n// Gateways\r\nexport * as mercadopago from './mercadopago'\r\nexport * as pushinpay from './pushinpay'\r\n\r\n// TODO: Implementar demais gateways\r\n// export * as efi from './efi'\r\n// export * as beehive from './beehive'\r\n// export * as hypercash from './hypercash'\r\n\r\nimport { GatewayCredentials, PaymentRequest, PaymentResult } from './types'\r\nimport * as mercadopago from './mercadopago'\r\nimport * as pushinpay from './pushinpay'\r\n\r\n/**\r\n * Processa pagamento usando o gateway apropriado\r\n */\r\nexport async function processPayment(\r\n    gateway: string,\r\n    paymentMethod: 'pix' | 'credit_card' | 'boleto',\r\n    credentials: GatewayCredentials,\r\n    request: PaymentRequest\r\n): Promise<PaymentResult> {\r\n    switch (gateway) {\r\n        case 'mercadopago':\r\n            if (paymentMethod === 'pix') {\r\n                return mercadopago.createPixPayment(\r\n                    { accessToken: credentials.mpAccessToken! },\r\n                    request\r\n                )\r\n            } else if (paymentMethod === 'credit_card') {\r\n                return mercadopago.createCardPayment(\r\n                    { accessToken: credentials.mpAccessToken! },\r\n                    request\r\n                )\r\n            } else {\r\n                return mercadopago.createBoletoPayment(\r\n                    { accessToken: credentials.mpAccessToken! },\r\n                    request\r\n                )\r\n            }\r\n\r\n        case 'pushinpay':\r\n            if (paymentMethod === 'pix') {\r\n                return pushinpay.createPixPayment(\r\n                    { token: credentials.pushinpayToken! },\r\n                    request\r\n                )\r\n            }\r\n            throw new Error('PushinPay suporta apenas Pix')\r\n\r\n        // TODO: Implementar demais gateways\r\n        case 'efi':\r\n            throw new Error('Gateway Ef├¡ ainda n├úo implementado')\r\n\r\n        case 'beehive':\r\n            throw new Error('Gateway Beehive ainda n├úo implementado')\r\n\r\n        case 'hypercash':\r\n            throw new Error('Gateway Hypercash ainda n├úo implementado')\r\n\r\n        default:\r\n            throw new Error(`Gateway desconhecido: ${gateway}`)\r\n    }\r\n}\r\n\r\n/**\r\n * Consulta status de pagamento\r\n */\r\nexport async function getPaymentStatus(\r\n    gateway: string,\r\n    credentials: GatewayCredentials,\r\n    paymentId: string\r\n): Promise<{ status: string; statusDetail?: string }> {\r\n    switch (gateway) {\r\n        case 'mercadopago':\r\n            return mercadopago.getPaymentStatus(\r\n                { accessToken: credentials.mpAccessToken! },\r\n                paymentId\r\n            )\r\n\r\n        case 'pushinpay':\r\n            const result = await pushinpay.getPaymentStatus(\r\n                { token: credentials.pushinpayToken! },\r\n                paymentId\r\n            )\r\n            return { status: pushinpay.normalizeStatus(result.status) }\r\n\r\n        default:\r\n            return { status: 'unknown' }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\mercadopago.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1396,1399],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1396,1399],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4039,4042],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4039,4042],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":120,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4293,4296],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4293,4296],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":132,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":132,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4745,4748],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4745,4748],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5006,5009],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5006,5009],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { MercadoPagoConfig, Payment } from 'mercadopago'\r\n\r\ninterface PaymentInput {\r\n    amount: number\r\n    description: string\r\n    paymentMethod: 'pix' | 'credit_card' | 'boleto'\r\n    customer: {\r\n        email: string\r\n        name: string\r\n        cpf: string\r\n        address?: {\r\n            zip_code: string\r\n            street_name: string\r\n            street_number: string\r\n            neighborhood: string\r\n            city: string\r\n            federal_unit: string\r\n        }\r\n    }\r\n    externalReference: string\r\n    cardToken?: string\r\n    installments?: number\r\n}\r\n\r\ninterface PaymentResult {\r\n    paymentId: string\r\n    status: string\r\n    qrCode?: string\r\n    qrCodeBase64?: string\r\n    copyPaste?: string\r\n    barcode?: string\r\n    boletoUrl?: string\r\n    expiresAt?: string\r\n}\r\n\r\nexport class MercadoPagoGateway {\r\n    private client: MercadoPagoConfig\r\n    private payment: Payment\r\n\r\n    constructor(accessToken: string) {\r\n        this.client = new MercadoPagoConfig({\r\n            accessToken,\r\n            options: { timeout: 10000 },\r\n        })\r\n        this.payment = new Payment(this.client)\r\n    }\r\n\r\n    async createPayment(input: PaymentInput): Promise<PaymentResult> {\r\n        const { amount, description, paymentMethod, customer, externalReference, cardToken, installments } = input\r\n\r\n        // Criar pagamento baseado no m├®todo\r\n        const paymentData: any = {\r\n            transaction_amount: amount,\r\n            description,\r\n            external_reference: externalReference,\r\n            payer: {\r\n                email: customer.email,\r\n                first_name: customer.name.split(' ')[0],\r\n                last_name: customer.name.split(' ').slice(1).join(' ') || customer.name,\r\n                identification: {\r\n                    type: 'CPF',\r\n                    number: customer.cpf.replace(/\\D/g, ''),\r\n                },\r\n                address: customer.address ? {\r\n                    zip_code: customer.address.zip_code,\r\n                    street_name: customer.address.street_name,\r\n                    street_number: customer.address.street_number,\r\n                    neighborhood: customer.address.neighborhood,\r\n                    city: customer.address.city,\r\n                    federal_unit: customer.address.federal_unit\r\n                } : undefined\r\n            },\r\n        }\r\n\r\n        switch (paymentMethod) {\r\n            case 'pix':\r\n                paymentData.payment_method_id = 'pix'\r\n                paymentData.date_of_expiration = this.getExpirationDate(30) // 30 minutos\r\n                break\r\n\r\n            case 'credit_card':\r\n                if (!cardToken) {\r\n                    throw new Error('Token do cart├úo n├úo fornecido')\r\n                }\r\n                paymentData.token = cardToken\r\n                paymentData.installments = installments || 1\r\n                paymentData.capture = true\r\n                break\r\n\r\n            case 'boleto':\r\n                paymentData.payment_method_id = 'bolbradesco'\r\n                paymentData.date_of_expiration = this.getExpirationDate(72 * 60) // 3 dias\r\n                break\r\n        }\r\n\r\n        try {\r\n            const response = await this.payment.create({ body: paymentData })\r\n\r\n            const result: PaymentResult = {\r\n                paymentId: response.id?.toString() || '',\r\n                status: this.mapStatus(response.status || 'pending'),\r\n            }\r\n\r\n            // Dados adicionais baseados no m├®todo\r\n            if (paymentMethod === 'pix' && response.point_of_interaction?.transaction_data) {\r\n                const txData = response.point_of_interaction.transaction_data\r\n                result.qrCode = txData.qr_code\r\n                result.qrCodeBase64 = txData.qr_code_base64\r\n                result.copyPaste = txData.qr_code\r\n                result.expiresAt = response.date_of_expiration?.toString()\r\n            }\r\n\r\n            if (paymentMethod === 'boleto' && response.transaction_details) {\r\n                result.barcode = (response as any).barcode?.content\r\n                result.boletoUrl = response.transaction_details.external_resource_url\r\n                result.expiresAt = response.date_of_expiration?.toString()\r\n            }\r\n\r\n            return result\r\n        } catch (error: any) {\r\n            console.error('[MERCADOPAGO] Erro ao criar pagamento:', error)\r\n\r\n            // Extrair mensagem de erro do Mercado Pago\r\n            const errorMessage = error?.cause?.[0]?.description\r\n                || error?.message\r\n                || 'Erro ao processar pagamento no Mercado Pago'\r\n\r\n            throw new Error(errorMessage)\r\n        }\r\n    }\r\n\r\n    async getPaymentStatus(paymentId: string): Promise<{ status: string; raw: any }> {\r\n        try {\r\n            const response = await this.payment.get({ id: paymentId })\r\n            return {\r\n                status: this.mapStatus(response.status || 'pending'),\r\n                raw: response,\r\n            }\r\n        } catch (error: any) {\r\n            console.error('[MERCADOPAGO] Erro ao buscar status:', error)\r\n            throw new Error('Erro ao consultar status do pagamento')\r\n        }\r\n    }\r\n\r\n    private mapStatus(mpStatus: string): string {\r\n        const statusMap: Record<string, string> = {\r\n            pending: 'PENDING',\r\n            approved: 'APPROVED',\r\n            authorized: 'APPROVED',\r\n            in_process: 'PENDING',\r\n            in_mediation: 'PENDING',\r\n            rejected: 'REJECTED',\r\n            cancelled: 'CANCELLED',\r\n            refunded: 'REFUNDED',\r\n            charged_back: 'CHARGED_BACK',\r\n        }\r\n        return statusMap[mpStatus] || 'PENDING'\r\n    }\r\n\r\n    private getExpirationDate(minutes: number): string {\r\n        const date = new Date()\r\n        date.setMinutes(date.getMinutes() + minutes)\r\n        return date.toISOString()\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\pushinpay.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":83,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3127,3130],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3127,3130],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"interface PushinPayPaymentInput {\r\n    amount: number\r\n    paymentMethod: 'pix'\r\n    customer: {\r\n        email: string\r\n        name: string\r\n        cpf: string\r\n    }\r\n    externalReference: string\r\n}\r\n\r\ninterface PushinPayPaymentResult {\r\n    paymentId: string\r\n    status: string\r\n    qrCode: string\r\n    qrCodeBase64: string\r\n    copyPaste: string\r\n    expiresAt: string\r\n}\r\n\r\nexport class PushinPayGateway {\r\n    private token: string\r\n    private baseUrl = 'https://api.pushinpay.com.br/api'\r\n\r\n    constructor(token: string) {\r\n        this.token = token\r\n    }\r\n\r\n    async createPayment(input: PushinPayPaymentInput): Promise<PushinPayPaymentResult> {\r\n        if (input.paymentMethod !== 'pix') {\r\n            throw new Error('PushinPay suporta apenas Pix no momento')\r\n        }\r\n\r\n        try {\r\n            const payload = {\r\n                value: Math.round(input.amount * 100), // converter para centavos\r\n                webhook_url: `${process.env.NEXT_PUBLIC_APP_URL}/api/webhooks/pushinpay`,\r\n                external_reference: input.externalReference,\r\n                payer: {\r\n                    name: input.customer.name,\r\n                    document: input.customer.cpf.replace(/\\D/g, ''),\r\n                    email: input.customer.email\r\n                }\r\n            }\r\n\r\n            const response = await fetch(`${this.baseUrl}/pix/cashIn`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.token}`,\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify(payload)\r\n            })\r\n\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                // Simular sucesso se for ambiente de teste e n├úo tiver credencial v├ílida\r\n                if (process.env.NODE_ENV === 'development' && this.token === 'TEST_TOKEN') {\r\n                    console.warn('[PUSHINPAY] Usando mock de teste devido a credenciais inv├ílidas')\r\n                    return {\r\n                        paymentId: 'mock_tx_' + Date.now(),\r\n                        status: 'pending',\r\n                        qrCode: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg',\r\n                        qrCodeBase64: '',\r\n                        copyPaste: '00020126330014BR.GOV.BCB.PIX0111test@test.com5204000053039865802BR5913Leonardo Teste6008Brasilia62070503***6304E2CA',\r\n                        expiresAt: new Date(Date.now() + 30 * 60 * 1000).toISOString()\r\n                    }\r\n                }\r\n                throw new Error(data.message || 'Erro ao criar Pix na PushinPay')\r\n            }\r\n\r\n            return {\r\n                paymentId: data.id,\r\n                status: 'pending',\r\n                qrCode: data.qr_code_url || '',\r\n                qrCodeBase64: data.qr_code_base64 || '',\r\n                copyPaste: data.qr_code || '',\r\n                expiresAt: new Date(Date.now() + 30 * 60 * 1000).toISOString()\r\n            }\r\n\r\n        } catch (error: any) {\r\n            console.error('[PUSHINPAY] Erro:', error)\r\n            throw new Error(error.message || 'Erro de comunica├º├úo com PushinPay')\r\n        }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\gateways\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\mail\\mailer.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[591,763],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":33,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":33,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1051,1102],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1185,1188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1185,1188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import nodemailer from 'nodemailer'\r\n\r\nconst transporter = nodemailer.createTransport({\r\n    host: process.env.SMTP_HOST || 'smtp.example.com',\r\n    port: Number(process.env.SMTP_PORT) || 587,\r\n    secure: process.env.SMTP_SECURE === 'true',\r\n    auth: {\r\n        user: process.env.SMTP_USER || 'user',\r\n        pass: process.env.SMTP_PASS || 'pass',\r\n    },\r\n})\r\n\r\nexport async function sendEmail(to: string, subject: string, html: string) {\r\n    // Modo Desenvolvimento sem SMTP configurado: Log apenas\r\n    if (process.env.NODE_ENV === 'development' && !process.env.SMTP_HOST) {\r\n        console.log(`\r\n========== [DEV EMAIL MOCK] ==========\r\nTo: ${to}\r\nSubject: ${subject}\r\nHTML Length: ${html.length} chars\r\n======================================\r\n        `)\r\n        return { success: true, message: 'Mock sent' }\r\n    }\r\n\r\n    try {\r\n        const info = await transporter.sendMail({\r\n            from: process.env.SMTP_FROM || '\"Checkout\" <noreply@checkout.com>',\r\n            to,\r\n            subject,\r\n            html,\r\n        })\r\n        console.log(`[MAIL] Email sent: ${info.messageId}`)\r\n        return { success: true, messageId: info.messageId }\r\n    } catch (error: any) {\r\n        console.error('[MAIL] Error sending email:', error)\r\n        return { success: false, error: error.message }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\mail\\templates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\saas-limits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\services\\sales-service.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":1,"nodeType":"ImportDeclaration","endLine":1,"endColumn":34,"fix":{"range":[33,33],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":28,"fix":{"range":[62,62],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `@/lib/db`","line":2,"column":1,"nodeType":"ImportDeclaration","endLine":2,"endColumn":28,"fix":{"range":[0,64],"text":"import crypto from 'crypto'\r\nimport { prisma } from '@/lib/db'\r\n"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[257,260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[257,260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[294,297],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[294,297],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":19,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":19,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[598,703],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1135,1138],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1135,1138],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":37,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":37,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1162,1234],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1964,1967],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1964,1967],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":77,"column":17,"nodeType":"MemberExpression","messageId":"unexpected","endLine":77,"endColumn":28,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2986,3048],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":118,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":118,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[4519,4573],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4810,4813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4810,4813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4844,4847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4844,4847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":153,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":153,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6167,6170],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6167,6170],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":197,"column":21,"nodeType":"MemberExpression","messageId":"unexpected","endLine":197,"endColumn":32,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[8378,8446],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":3,"source":"import { prisma } from '@/lib/db'\r\nimport crypto from 'crypto'\r\nimport { getWelcomeEmailTemplate } from '@/lib/mail/templates'\r\n\r\n/**\r\n * Processa a atualiza├º├úo de status de uma venda vinda de um webhook\r\n */\r\nexport async function processSaleUpdate(venda: any, newStatus: string, paymentData: any, gateway: string) {\r\n    if (newStatus === venda.status_pagamento) {\r\n        return false\r\n    }\r\n\r\n    // Atualizar status da venda no banco\r\n    await prisma.$executeRaw`\r\n        UPDATE vendas \r\n        SET status_pagamento = ${newStatus}::sale_status\r\n        WHERE id = ${venda.id}\r\n    `\r\n    console.log(`[SALES_SERVICE] Status da venda ${venda.id} atualizado para: ${newStatus} (via ${gateway})`)\r\n\r\n    // Se aprovado, executar a├º├Áes p├│s-pagamento (Member area, notifica├º├Áes, pixels)\r\n    if (newStatus === 'approved') {\r\n        await handleApprovedPayment(venda)\r\n    }\r\n\r\n    // Disparar webhooks configurados pelo vendedor e UTMfy\r\n    await dispatchVendorWebhooks(venda, newStatus, paymentData)\r\n\r\n    return true\r\n}\r\n\r\n/**\r\n * Executa a├º├Áes quando o pagamento ├® aprovado\r\n */\r\nasync function handleApprovedPayment(venda: any) {\r\n    try {\r\n        console.log('[SALES_SERVICE] Processando pagamento aprovado:', venda.id)\r\n\r\n        // 1. Marcar email de entrega como pendente (para ser enviado pelo worker/cron)\r\n        // Se ainda n├úo foi enviado\r\n        await prisma.$executeRaw`\r\n            UPDATE vendas \r\n            SET email_entrega_enviado = false\r\n            WHERE id = ${venda.id} AND email_entrega_enviado = true -- Resetar se necess├írio ou manter false\r\n            -- Na verdade, se a venda acabou de ser aprovada, o padr├úo ├® false ou null.\r\n            -- Vamos garantir que seja setado para envio.\r\n        `\r\n\r\n        // 2. Se for ├írea de membros, criar acesso\r\n        let tempPassword = ''\r\n\r\n        if (venda.tipo_entrega === 'area_membros') {\r\n            // Verificar se j├í existe acesso\r\n            const existingAccess: any[] = await prisma.$queryRaw`\r\n                SELECT id FROM alunos_acessos \r\n                WHERE email_aluno = ${venda.comprador_email} \r\n                AND produto_id = ${venda.produto_id}\r\n            `\r\n\r\n            if (existingAccess.length === 0) {\r\n                // Gerar senha tempor├íria\r\n                tempPassword = crypto.randomBytes(4).toString('hex')\r\n                const hashedPassword = crypto.createHash('sha256').update(tempPassword).digest('hex')\r\n                const acessoId = crypto.randomUUID()\r\n\r\n                await prisma.$executeRaw`\r\n                    INSERT INTO alunos_acessos (id, email_aluno, produto_id, senha, venda_id, data_acesso)\r\n                    VALUES (\r\n                        ${acessoId},\r\n                        ${venda.comprador_email},\r\n                        ${venda.produto_id},\r\n                        ${hashedPassword},\r\n                        ${venda.id},\r\n                        NOW()\r\n                    )\r\n                `\r\n                console.log('[SALES_SERVICE] Acesso ├á ├írea de membros criado')\r\n            }\r\n        }\r\n\r\n        // 3. Criar notifica├º├úo interna para o vendedor (Dash)\r\n        const notifId = crypto.randomUUID()\r\n        await prisma.$executeRaw`\r\n            INSERT INTO notificacoes (id, usuario_id, tipo, mensagem, venda_id_fk, data_notificacao)\r\n            SELECT \r\n                ${notifId},\r\n                p.usuario_id,\r\n                'venda_aprovada',\r\n                ${'Venda aprovada: ' + venda.produto_nome},\r\n                ${venda.id},\r\n                NOW()\r\n            FROM produtos p\r\n            WHERE p.id = ${venda.produto_id}\r\n        `\r\n\r\n        // 4. Adicionar email de boas-vindas ├á fila usando template\r\n        const accessUrl = (process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000') + '/login'\r\n        const emailBody = getWelcomeEmailTemplate(\r\n            venda.produto_nome,\r\n            venda.comprador_nome || 'Cliente',\r\n            accessUrl,\r\n            venda.comprador_email,\r\n            tempPassword || '(Use sua senha existente)'\r\n        )\r\n\r\n        const queueId = crypto.randomUUID()\r\n        await prisma.$executeRaw`\r\n            INSERT INTO email_queue (id, recipient_email, subject, body, status, created_at)\r\n            VALUES (\r\n                ${queueId},\r\n                ${venda.comprador_email},\r\n                ${'Acesso Liberado: ' + venda.produto_nome},\r\n                ${emailBody},\r\n                'pending',\r\n                NOW()\r\n            )\r\n        `\r\n        console.log('[SALES_SERVICE] Email adicionado ├á fila')\r\n\r\n    } catch (error) {\r\n        console.error('[SALES_SERVICE] Erro ao processar a├º├Áes de aprova├º├úo:', error)\r\n    }\r\n}\r\n\r\n/**\r\n * Dispara webhooks externos configurados pelo usu├írio\r\n */\r\nasync function dispatchVendorWebhooks(venda: any, status: string, paymentData: any) {\r\n    try {\r\n        // Mapear status db ('approved') para nome da coluna no db ('event_approved')\r\n        // Assumindo que o banco tem colunas booleanas como event_approved, event_pending, etc.\r\n        // Se a coluna for string/enum, a query seria diferente.\r\n        // Baseado no c├│digo anterior do webhooks/mercadopago, as colunas existem.\r\n\r\n        let eventColumn = ''\r\n        switch (status) {\r\n            case 'approved': eventColumn = 'event_approved'; break;\r\n            case 'pending': eventColumn = 'event_pending'; break;\r\n            case 'rejected': eventColumn = 'event_rejected'; break;\r\n            case 'refunded': eventColumn = 'event_refunded'; break;\r\n            case 'charged_back': eventColumn = 'event_charged_back'; break;\r\n        }\r\n\r\n        if (!eventColumn) return\r\n\r\n        // Eu n├úo deveria usar sql din├ómico para colunas, mas prisma raw exige cuidado.\r\n        // Como eventColumn vem de um switch hardcoded, ├® seguro.\r\n\r\n        // Por├®m, prisma.$queryRaw n├úo aceita identifiers din├ómicos diretamente em template tags de forma f├ícil para colunas.\r\n        // A melhor forma segura ├® filtrar no c├│digo ou usar Unsafe (com cuidado absurdo).\r\n        // Vou buscar todos os webhooks do produto e filtrar no JS para ser 100% seguro e agn├│stico de DB.\r\n\r\n        const webhooks: any[] = await prisma.$queryRaw`\r\n            SELECT url, event_approved, event_pending, event_rejected, event_refunded, event_charged_back\r\n            FROM webhooks w\r\n            WHERE w.produto_id = ${venda.produto_id} OR w.produto_id IS NULL\r\n        `\r\n\r\n        for (const webhook of webhooks) {\r\n            const shouldFire =\r\n                (status === 'approved' && webhook.event_approved) ||\r\n                (status === 'pending' && webhook.event_pending) ||\r\n                (status === 'rejected' && webhook.event_rejected) ||\r\n                (status === 'refunded' && webhook.event_refunded) ||\r\n                (status === 'charged_back' && webhook.event_charged_back)\r\n\r\n            if (shouldFire) {\r\n                try {\r\n                    // Adicionar UTMs se dispon├¡vel na venda (precisa buscar na query de venda antes)\r\n                    // ... assumindo q venda tem os campos\r\n\r\n                    const payload = {\r\n                        event: status,\r\n                        sale_id: venda.id,\r\n                        product_id: venda.produto_id,\r\n                        product_name: venda.produto_nome,\r\n                        customer_email: venda.comprador_email,\r\n                        customer_name: venda.comprador_nome,\r\n                        customer_phone: venda.comprador_telefone,\r\n                        payment_id: paymentData?.id || paymentData?.transactionId,\r\n                        amount: venda.valor, // Valor da venda no DB\r\n                        utm_source: venda.utm_source,\r\n                        utm_medium: venda.utm_medium,\r\n                        utm_campaign: venda.utm_campaign,\r\n                        src: venda.src,\r\n                        sck: venda.sck,\r\n                        timestamp: new Date().toISOString(),\r\n                    }\r\n\r\n                    // Disparar\r\n                    fetch(webhook.url, {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify(payload),\r\n                    }).catch(err => console.error(`[SALES_SERVICE] Falha ao enviar para ${webhook.url}`, err))\r\n\r\n                    console.log(`[SALES_SERVICE] Webhook disparado para ${webhook.url}`)\r\n                } catch (err) {\r\n                    console.error(`[SALES_SERVICE] Erro ao preparar webhook ${webhook.url}`, err)\r\n                }\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('[SALES_SERVICE] Erro ao buscar webhooks:', error)\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\lib\\validations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\middleware.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":3,"column":1,"nodeType":"ImportDeclaration","endLine":3,"endColumn":41,"fix":{"range":[132,132],"text":"\n"}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\nimport { getToken } from 'next-auth/jwt'\r\nimport { verifyMemberToken } from '@/lib/auth-member'\r\n\r\n/**\r\n * Middleware de prote├º├úo de rotas\r\n * Equivalente ├ás verifica├º├Áes de sess├úo no PHP (config.php)\r\n */\r\nexport async function middleware(request: NextRequest) {\r\n    const { pathname } = request.nextUrl\r\n\r\n    // Rotas p├║blicas que n├úo precisam de autentica├º├úo\r\n    const publicPaths = [\r\n        '/login',\r\n        '/register',\r\n        '/forgot-password',\r\n        '/reset-password',\r\n        '/checkout',\r\n        '/obrigado',\r\n        '/member/login',\r\n        '/member/setup-password',\r\n        '/api/auth',\r\n        '/api/webhooks',\r\n        '/api/payments/process',\r\n        '/api/payments/status',\r\n        '/_next',\r\n        '/favicon.ico',\r\n        '/manifest.json',\r\n        '/sw.js',\r\n        '/uploads',\r\n        '/assets',\r\n        '/s',\r\n        '/pricing',\r\n        '/.well-known',\r\n    ]\r\n\r\n    // Verificar se ├® rota p├║blica\r\n    const isPublicPath = publicPaths.some(\r\n        (path) => pathname.startsWith(path) || pathname === '/'\r\n    )\r\n\r\n    // L├│gica Espec├¡fica para ├ürea de Membros (/members)\r\n    // Feita ANTES da verifica├º├úo de NextAuth para n├úo misturar sess├Áes\r\n    if (pathname.startsWith('/members')) {\r\n        const memberToken = request.cookies.get('member_session')?.value\r\n        const payload = memberToken ? await verifyMemberToken(memberToken) : null\r\n\r\n        if (!payload) {\r\n            const loginUrl = new URL('/login', request.url)\r\n            loginUrl.searchParams.set('callbackUrl', pathname)\r\n            return NextResponse.redirect(loginUrl)\r\n        }\r\n        return NextResponse.next()\r\n    }\r\n\r\n    if (isPublicPath) {\r\n        return NextResponse.next()\r\n    }\r\n\r\n    // Obter token JWT\r\n    const token = await getToken({\r\n        req: request,\r\n        secret: process.env.NEXTAUTH_SECRET,\r\n    })\r\n\r\n    // Se n├úo autenticado, redirecionar para login\r\n    if (!token) {\r\n        const loginUrl = new URL('/login', request.url)\r\n        loginUrl.searchParams.set('callbackUrl', pathname)\r\n        return NextResponse.redirect(loginUrl)\r\n    }\r\n\r\n    // Verificar permiss├Áes por tipo de rota\r\n    const userType = token.type as string\r\n\r\n    // Rotas do Admin - apenas admin\r\n    if (pathname.startsWith('/admin')) {\r\n        const type = userType?.toLowerCase() || ''\r\n        if (type !== 'admin') {\r\n            return NextResponse.redirect(new URL('/dashboard', request.url))\r\n        }\r\n    }\r\n\r\n    // Rotas do Dashboard - admin e infoprodutor\r\n    if (pathname.startsWith('/dashboard')) {\r\n        if (userType === 'MEMBER') {\r\n            return NextResponse.redirect(new URL('/member', request.url))\r\n        }\r\n    }\r\n\r\n    // Rotas da ├ürea de Membros - todos podem acessar (inclusive infoprodutores para preview)\r\n    // N├úo precisa verifica├º├úo adicional\r\n\r\n    // Headers de seguran├ºa\r\n    const response = NextResponse.next()\r\n\r\n    response.headers.set('X-Frame-Options', 'SAMEORIGIN')\r\n    response.headers.set('X-Content-Type-Options', 'nosniff')\r\n    response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin')\r\n\r\n    return response\r\n}\r\n\r\nexport const config = {\r\n    matcher: [\r\n        /*\r\n         * Match all request paths except:\r\n         * - _next/static (static files)\r\n         * - _next/image (image optimization files)\r\n         * - favicon.ico (favicon file)\r\n         * - public files (uploads, assets, etc)\r\n         */\r\n        '/((?!_next/static|_next/image|favicon.ico|uploads/|assets/).*)',\r\n    ],\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\prisma\\reset-password.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":26,"nodeType":"CallExpression","endLine":1,"endColumn":51,"fix":{"range":[50,50],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `@prisma/client`","line":2,"column":16,"nodeType":"CallExpression","endLine":2,"endColumn":33,"fix":{"range":[0,86],"text":"const crypto = require('crypto')\r\nconst { PrismaClient } = require('@prisma/client')\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[210,270],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":12,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":12,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[424,508],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[585,624],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":31,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":31,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[996,1096],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":2,"source":"const { PrismaClient } = require('@prisma/client')\r\nconst crypto = require('crypto')\r\nconst prisma = new PrismaClient()\r\n\r\nasync function main() {\r\n    const email = process.argv[2]\r\n    if (!email) {\r\n        console.log('Uso: npx tsx prisma/reset-password.ts <email>')\r\n        // Se n├úo passar, pega o primeiro da tabela\r\n        const access = await prisma.alunos_acessos.findFirst()\r\n        if (access) {\r\n            console.log('Resetando senha para o primeiro aluno encontrado:', access.email_aluno)\r\n            await reset(access.email_aluno)\r\n        } else {\r\n            console.log('Nenhum aluno encontrado.')\r\n        }\r\n        return\r\n    }\r\n    await reset(email)\r\n}\r\n\r\nasync function reset(email) {\r\n    const password = '123456'\r\n    const hashedPassword = crypto.createHash('sha256').update(password).digest('hex')\r\n\r\n    const result = await prisma.alunos_acessos.updateMany({\r\n        where: { email_aluno: email },\r\n        data: { senha: hashedPassword }\r\n    })\r\n\r\n    console.log(`Senha resetada para 123456 para o email ${email}. Registros afetados: ${result.count}`)\r\n}\r\n\r\nmain()\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\prisma\\seed-access.ts","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":26,"nodeType":"CallExpression","endLine":1,"endColumn":51,"fix":{"range":[50,50],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`crypto` import should occur before import of `@prisma/client`","line":2,"column":16,"nodeType":"CallExpression","endLine":2,"endColumn":33,"fix":{"range":[0,86],"text":"const crypto = require('crypto')\r\nconst { PrismaClient } = require('@prisma/client')\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":7,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":7,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[167,209],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":14,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":14,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[469,548],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[710,782],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":24,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":24,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[825,867],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":30,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[998,1038],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":48,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":48,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1617,1649],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2081,2144],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":58,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":58,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2154,2177],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":59,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":59,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2187,2217],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":60,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":60,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2227,2255],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":61,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":61,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2265,2328],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":2,"source":"const { PrismaClient } = require('@prisma/client')\r\nconst crypto = require('crypto')\r\nconst prisma = new PrismaClient()\r\n\r\nasync function main() {\r\n    try {\r\n        console.log('Buscando produto do seed...')\r\n        // Usando checkout_hash que sabemos que est├í no seed.ts\r\n        const produtos = await prisma.$queryRaw`SELECT * FROM produtos WHERE checkout_hash = 'produto-exemplo-123'`\r\n\r\n        let produto = produtos[0]\r\n\r\n        if (!produto) {\r\n            console.log('Produto n├úo encontrado. Pegando o primeiro produto dispon├¡vel...')\r\n            const all = await prisma.$queryRaw`SELECT * FROM produtos LIMIT 1`\r\n            produto = all[0]\r\n        }\r\n\r\n        if (!produto) {\r\n            console.log('Nenhum produto no banco. Rode o seed do sistema primeiro.')\r\n            return\r\n        }\r\n\r\n        console.log('Produto alvo:', produto.nome)\r\n\r\n        const email = 'aluno@teste.com'\r\n        const vendaId = `venda-mock-${Date.now()}`\r\n\r\n        // Criar venda\r\n        console.log('Criando venda aprovada...')\r\n        await prisma.$executeRaw`\r\n            INSERT INTO vendas (id, produto_id, valor, status_pagamento, comprador_email, comprador_nome, data_venda)\r\n            VALUES (\r\n                ${vendaId}, \r\n                ${produto.id}, \r\n                297.00, \r\n                'approved', \r\n                ${email}, \r\n                'Aluno Teste', \r\n                NOW()\r\n            )\r\n        `\r\n\r\n        // Criar acesso\r\n        const acessoId = `access-${Date.now()}`\r\n        const senhaHash = crypto.createHash('sha256').update('123456').digest('hex')\r\n\r\n        console.log('Criando acesso...')\r\n        // Deletar anterior se existir para limpar teste\r\n        await prisma.$executeRaw`DELETE FROM alunos_acessos WHERE email_aluno = ${email} AND produto_id = ${produto.id}`\r\n\r\n        await prisma.$executeRaw`\r\n            INSERT INTO alunos_acessos (id, email_aluno, produto_id, senha, venda_id, data_acesso)\r\n            VALUES (${acessoId}, ${email}, ${produto.id}, ${senhaHash}, ${vendaId}, NOW())\r\n        `\r\n\r\n        console.log('------------------------------------------------')\r\n        console.log('SUCESSO!')\r\n        console.log(`Login: ${email}`)\r\n        console.log('Senha: 123456')\r\n        console.log('------------------------------------------------')\r\n\r\n    } catch (e) {\r\n        console.error('Erro:', e)\r\n    } finally {\r\n        await prisma.$disconnect()\r\n    }\r\n}\r\n\r\nmain()\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\prisma\\seed-course.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":11,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":11,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[270,333],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[420,502],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":17,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":17,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[512,567],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[776,825],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1387,1429],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":76,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":76,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2964,3006],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { PrismaClient } = require('@prisma/client')\r\nconst prisma = new PrismaClient()\r\n\r\nasync function main() {\r\n    try {\r\n        const venda = await prisma.vendas.findFirst({\r\n            include: { produtos: true }\r\n        })\r\n\r\n        if (!venda) {\r\n            console.log('Nenhuma venda encontrada para associar um curso.')\r\n            return\r\n        }\r\n\r\n        const produtoId = venda.produto_id\r\n        console.log(`Encontrada venda para produto ${produtoId} (${venda.produtos.nome})`)\r\n        console.log(`Email do aluno: ${venda.comprador_email}`)\r\n\r\n        // Verifica se j├í existe curso\r\n        const existingCurso = await prisma.cursos.findFirst({\r\n            where: { produto_id: produtoId }\r\n        })\r\n\r\n        if (existingCurso) {\r\n            console.log('Curso j├í existe para este produto.')\r\n            return\r\n        }\r\n\r\n        // Criar Curso\r\n        const cursoId = `curso-${Date.now()}`\r\n        const curso = await prisma.cursos.create({\r\n            data: {\r\n                id: cursoId,\r\n                produto_id: produtoId,\r\n                titulo: `Curso Completo de ${venda.produtos.nome}`,\r\n                descricao: 'Aprenda tudo do zero ao avan├ºado neste curso pr├ítico.',\r\n                imagem_url: 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&auto=format&fit=crop&q=60'\r\n            }\r\n        })\r\n        console.log('Curso criado:', curso.titulo)\r\n\r\n        // Criar M├│dulos e Aulas\r\n        const modulos = [\r\n            { titulo: 'M├│dulo 01: Boas Vindas', aulas: ['Aula 1: Introdu├º├úo', 'Aula 2: Como estudar', 'Aula 3: Suporte'] },\r\n            { titulo: 'M├│dulo 02: Fundamentos', aulas: ['Aula 4: Conceitos B├ísicos', 'Aula 5: Ferramentas', 'Aula 6: Pr├ítica Inicial'] },\r\n            { titulo: 'M├│dulo 03: Avan├ºado', aulas: ['Aula 7: T├®cnicas Avan├ºadas', 'Aula 8: Projeto Final', 'Aula 9: Certificado'] }\r\n        ]\r\n\r\n        let modOrdem = 1\r\n        for (const mod of modulos) {\r\n            const modId = `mod-${Date.now()}-${modOrdem}`\r\n            const modulo = await prisma.modulos.create({\r\n                data: {\r\n                    id: modId,\r\n                    curso_id: curso.id,\r\n                    titulo: mod.titulo,\r\n                    ordem: modOrdem++\r\n                }\r\n            })\r\n\r\n            let aulaOrdem = 1\r\n            for (const aulaTitulo of mod.aulas) {\r\n                await prisma.aulas.create({\r\n                    data: {\r\n                        id: `aula-${Date.now()}-${modOrdem}-${aulaOrdem}`,\r\n                        modulo_id: modulo.id,\r\n                        titulo: aulaTitulo,\r\n                        url_video: 'https://www.youtube.com/embed/BadB1z-V_qU', // V├¡deo de exemplo (natureza)\r\n                        descricao: 'Nesta aula voc├¬ vai aprender conceitos importantes sobre o tema.',\r\n                        ordem: aulaOrdem++\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        console.log('Curso populado com sucesso!')\r\n\r\n        // Verificar senha do aluno em alunos_acessos\r\n        // Se a senha for hash, nao consigo recuperar, mas posso resetar se quiser\r\n        // Vou apenas informar que o aluno deve ter uma senha. \r\n        // Se foi criado via webhook mockado, a senha hash deve ser conhecida (ex: 123456 hash).\r\n\r\n    } catch (e) {\r\n        console.error(e)\r\n    } finally {\r\n        await prisma.$disconnect()\r\n    }\r\n}\r\n\r\nmain()\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\prisma\\seed.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[183,236],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'admin' is assigned a value but never used.","line":17,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":16},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":22,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":22,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[821,862],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":53,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":53,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2127,2175],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2251,2254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2251,2254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":81,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":81,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3186,3230],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":91,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":91,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3595,3640],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4253,4256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4253,4256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":133,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":133,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5167,5209],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":135,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":135,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5233,5267],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":141,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":141,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5470,5473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5470,5473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":178,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":178,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7169,7229],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7253,7285],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":183,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":183,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7300,7315],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":184,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":184,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7321,7366],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":185,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":185,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7372,7387],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":186,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":186,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7393,7433],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":187,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":187,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7439,7493],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":188,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":188,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7499,7562],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":189,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":189,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7568,7583],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":190,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":190,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[7589,7678],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { PrismaClient } from '@prisma/client'\r\nimport bcrypt from 'bcryptjs'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nasync function main() {\r\n    console.log('­ƒî▒ Iniciando seed do banco de dados...')\r\n\r\n    // =============================================\r\n    // 1. CRIAR USU├üRIO ADMIN (usuario = email)\r\n    // =============================================\r\n    const adminPassword = await bcrypt.hash('admin123', 10)\r\n    const adminId = uuidv4()\r\n\r\n    // Usar o delegate correto do Prisma Client\r\n    const admin = await prisma.$executeRaw`\r\n        INSERT INTO usuarios (id, usuario, nome, senha, tipo, \"updatedAt\")\r\n        VALUES (${adminId}, ${'admin@checkout.com'}, ${'Administrador'}, ${adminPassword}, 'admin', NOW())\r\n        ON CONFLICT (usuario) DO NOTHING\r\n    `\r\n    console.log('Ô£à Usu├írio admin processado')\r\n\r\n    // =============================================\r\n    // 2. CRIAR USU├üRIO INFOPRODUTOR DE TESTE\r\n    // =============================================\r\n    const infoprodutorPassword = await bcrypt.hash('123456', 10)\r\n    const infoprodutorId = uuidv4()\r\n\r\n    // Primeiro, tentar atualizar se j├í existir\r\n    const updateResult = await prisma.$executeRaw`\r\n        UPDATE usuarios \r\n        SET mp_public_key = ${'APP_USR-63ddfa41-456b-44eb-99b9-097439d7450c'},\r\n            mp_access_token = ${'APP_USR-89444188142004-123017-0dcdc179a32c6b37830b05149d135a4a-4634228'}\r\n        WHERE usuario = ${'teste@infoprodutor.com'}\r\n    `\r\n\r\n    if (updateResult === 0) {\r\n        await prisma.$executeRaw`\r\n            INSERT INTO usuarios (id, usuario, nome, senha, tipo, mp_public_key, mp_access_token, \"updatedAt\")\r\n            VALUES (\r\n                ${infoprodutorId}, \r\n                ${'teste@infoprodutor.com'}, \r\n                ${'Infoprodutor Teste'}, \r\n                ${infoprodutorPassword}, \r\n                'infoprodutor',\r\n                ${'APP_USR-63ddfa41-456b-44eb-99b9-097439d7450c'},\r\n                ${'APP_USR-89444188142004-123017-0dcdc179a32c6b37830b05149d135a4a-4634228'},\r\n                NOW()\r\n            )\r\n        `\r\n    }\r\n    console.log('Ô£à Usu├írio infoprodutor processado')\r\n\r\n    // Buscar o infoprodutor para usar o ID\r\n    const infoprodutorRow: any[] = await prisma.$queryRaw`\r\n        SELECT id FROM usuarios WHERE usuario = ${'teste@infoprodutor.com'}\r\n    `\r\n    const realInfoprodutorId = infoprodutorRow[0]?.id || infoprodutorId\r\n\r\n    // =============================================\r\n    // 3. CONFIGURA├ç├âO PWA\r\n    // =============================================\r\n    await prisma.$executeRaw`\r\n        INSERT INTO pwa_config (id, app_name, short_name, description, theme_color, background_color, display_mode, start_url, scope, push_enabled, updated_at)\r\n        VALUES (\r\n            ${'default-pwa-config'}, \r\n            ${'Checkout Platform'}, \r\n            ${'Checkout'},\r\n            ${'Plataforma de checkout para produtos digitais'},\r\n            ${'#32e768'},\r\n            ${'#07090d'},\r\n            ${'standalone'},\r\n            ${'/'},\r\n            ${'/'},\r\n            ${false},\r\n            NOW()\r\n        )\r\n        ON CONFLICT (id) DO NOTHING\r\n    `\r\n    console.log('Ô£à Configura├º├úo PWA processada')\r\n\r\n    // =============================================\r\n    // 4. CONFIGURA├ç├âO SAAS (desabilitado por padr├úo)\r\n    // =============================================\r\n    await prisma.$executeRaw`\r\n        INSERT INTO saas_config (id, enabled, updated_at)\r\n        VALUES (${'default-saas-config'}, ${false}, NOW())\r\n        ON CONFLICT (id) DO NOTHING\r\n    `\r\n    console.log('Ô£à Configura├º├úo SaaS processada')\r\n\r\n    // =============================================\r\n    // 5. PRODUTO DE EXEMPLO\r\n    // =============================================\r\n    const produtoId = uuidv4()\r\n    const checkoutConfig = JSON.stringify({\r\n        primaryColor: '#32e768',\r\n        showTimer: true,\r\n        timerMinutes: 15,\r\n        showFakeNotifications: true,\r\n        showBanner: false,\r\n        bannerImages: [],\r\n        youtubeVideoId: null,\r\n        backRedirect: true,\r\n        backRedirectMessage: 'Espere! Temos uma oferta especial para voc├¬!',\r\n    })\r\n\r\n    // Verificar se produto j├í existe\r\n    const existingProduct: any[] = await prisma.$queryRaw`\r\n        SELECT id FROM produtos WHERE checkout_hash = ${'produto-exemplo-123'}\r\n    `\r\n\r\n    let realProdutoId = existingProduct[0]?.id\r\n\r\n    if (!realProdutoId) {\r\n        await prisma.$executeRaw`\r\n            INSERT INTO produtos (id, nome, descricao, preco, preco_anterior, checkout_hash, tipo_entrega, gateway, usuario_id, checkout_config)\r\n            VALUES (\r\n                ${produtoId}, \r\n                ${'Curso de Marketing Digital'}, \r\n                ${'Aprenda as melhores estrat├®gias de marketing digital para alavancar seu neg├│cio online.'},\r\n                ${297.00},\r\n                ${497.00},\r\n                ${'produto-exemplo-123'},\r\n                'area_membros',\r\n                ${'mercadopago'},\r\n                ${realInfoprodutorId},\r\n                ${checkoutConfig}::jsonb\r\n            )\r\n        `\r\n        realProdutoId = produtoId\r\n        console.log('Ô£à Produto de exemplo criado')\r\n    } else {\r\n        console.log('ÔÅ® Produto j├í existe')\r\n    }\r\n\r\n    // =============================================\r\n    // 6. CURSO DE EXEMPLO (apenas se produto foi criado)\r\n    // =============================================\r\n    const existingCurso: any[] = await prisma.$queryRaw`\r\n        SELECT id FROM cursos WHERE produto_id = ${realProdutoId}\r\n    `\r\n\r\n    if (existingCurso.length === 0) {\r\n        const cursoId = uuidv4()\r\n\r\n        await prisma.$executeRaw`\r\n            INSERT INTO cursos (id, produto_id, titulo, descricao)\r\n            VALUES (\r\n                ${cursoId}, \r\n                ${realProdutoId}, \r\n                ${'Curso de Marketing Digital'},\r\n                ${'Domine as estrat├®gias de marketing digital e transforme seu neg├│cio.'}\r\n            )\r\n        `\r\n\r\n        // Criar m├│dulos\r\n        const modulo1Id = uuidv4()\r\n        const modulo2Id = uuidv4()\r\n\r\n        await prisma.$executeRaw`\r\n            INSERT INTO modulos (id, curso_id, titulo, ordem, release_days)\r\n            VALUES \r\n                (${modulo1Id}, ${cursoId}, ${'M├│dulo 1 - Introdu├º├úo'}, ${0}, ${0}),\r\n                (${modulo2Id}, ${cursoId}, ${'M├│dulo 2 - Fundamentos'}, ${1}, ${7})\r\n        `\r\n\r\n        // Criar aulas\r\n        await prisma.$executeRaw`\r\n            INSERT INTO aulas (id, modulo_id, titulo, url_video, descricao, ordem, release_days)\r\n            VALUES \r\n                (${uuidv4()}, ${modulo1Id}, ${'Bem-vindo ao curso'}, ${'https://www.youtube.com/watch?v=dQw4w9WgXcQ'}, ${'Nesta aula, voc├¬ vai conhecer o curso.'}, ${0}, ${0}),\r\n                (${uuidv4()}, ${modulo1Id}, ${'Como funciona a ├írea de membros'}, ${'https://www.youtube.com/watch?v=dQw4w9WgXcQ'}, ${'Aprenda a navegar pela plataforma.'}, ${1}, ${0}),\r\n                (${uuidv4()}, ${modulo2Id}, ${'O que ├® Marketing Digital'}, ${'https://www.youtube.com/watch?v=dQw4w9WgXcQ'}, ${'Entenda os conceitos b├ísicos.'}, ${0}, ${0})\r\n        `\r\n\r\n        console.log('Ô£à Curso de exemplo criado com m├│dulos e aulas')\r\n    } else {\r\n        console.log('ÔÅ® Curso j├í existe')\r\n    }\r\n\r\n    console.log('')\r\n    console.log('­ƒÄë Seed conclu├¡do com sucesso!')\r\n    console.log('')\r\n    console.log('­ƒôï Credenciais de acesso:')\r\n    console.log('   Admin: admin@checkout.com / admin123')\r\n    console.log('   Infoprodutor: teste@infoprodutor.com / 123456')\r\n    console.log('')\r\n    console.log('­ƒöù Checkout de exemplo: http://localhost:3000/checkout/produto-exemplo-123')\r\n}\r\n\r\nmain()\r\n    .catch((e) => {\r\n        console.error('ÔØî Erro no seed:', e)\r\n        process.exit(1)\r\n    })\r\n    .finally(async () => {\r\n        await prisma.$disconnect()\r\n    })\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\scripts\\diagnose-auth.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":7,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":7,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[175,244],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[404,462],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":19,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":19,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[505,561],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[571,615],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[725,788],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":27,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":27,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[820,886],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":31,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":31,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1019,1086],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1207,1257],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":43,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":43,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1373,1425],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { PrismaClient } = require('@prisma/client')\r\nconst bcrypt = require('bcryptjs')\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nasync function testAuth(email, password) {\r\n    console.log(`\\nTestando login para: ${email} com senha: ${password}`)\r\n\r\n    try {\r\n        const user = await prisma.usuarios.findUnique({\r\n            where: { usuario: email },\r\n        })\r\n\r\n        if (!user) {\r\n            console.log('ÔØî Usu├írio n├úo encontrado no banco de dados.')\r\n            return\r\n        }\r\n\r\n        console.log('Ô£à Usu├írio encontrado:', user.id, user.tipo)\r\n        console.log('   Hash no banco:', user.senha)\r\n\r\n        const isValid = await bcrypt.compare(password, user.senha)\r\n\r\n        if (isValid) {\r\n            console.log('Ô£à Senha CORRETA! O bcrypt.compare retornou true.')\r\n        } else {\r\n            console.log('ÔØî Senha INCORRETA! O bcrypt.compare retornou false.')\r\n\r\n            // Teste extra: gerar novo hash e comparar\r\n            const newHash = await bcrypt.hash(password, 10)\r\n            console.log('   Novo hash gerado para compara├º├úo visual:', newHash)\r\n        }\r\n\r\n    } catch (e) {\r\n        console.error('ÔØî Erro no teste:', e)\r\n    }\r\n}\r\n\r\nasync function main() {\r\n    console.log('--- DIAGN├ôSTICO DE AUTENTICA├ç├âO ---')\r\n    await testAuth('admin@checkout.com', 'admin123')\r\n    await testAuth('teste@infoprodutor.com', '123456')\r\n    console.log('\\n-----------------------------------')\r\n    await prisma.$disconnect()\r\n}\r\n\r\nmain()\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\scripts\\diagnose-auth.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":8,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":8,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[177,244],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[404,462],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[505,561],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":21,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":21,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[571,615],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":26,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[725,788],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[820,886],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":32,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":32,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1019,1086],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":43,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":43,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1260,1310],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":46,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":46,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1426,1476],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nconst { PrismaClient } = require('@prisma/client')\r\nconst bcrypt = require('bcryptjs')\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nasync function testAuth(email, password) {\r\n    console.log(`Testando login para: ${email} com senha: ${password}`)\r\n\r\n    try {\r\n        const user = await prisma.usuarios.findUnique({\r\n            where: { usuario: email },\r\n        })\r\n\r\n        if (!user) {\r\n            console.log('ÔØî Usu├írio n├úo encontrado no banco de dados.')\r\n            return\r\n        }\r\n\r\n        console.log('Ô£à Usu├írio encontrado:', user.id, user.tipo)\r\n        console.log('   Hash no banco:', user.senha)\r\n\r\n        const isValid = await bcrypt.compare(password, user.senha)\r\n\r\n        if (isValid) {\r\n            console.log('Ô£à Senha CORRETA! O bcrypt.compare retornou true.')\r\n        } else {\r\n            console.log('ÔØî Senha INCORRETA! O bcrypt.compare retornou false.')\r\n\r\n            // Teste extra: gerar novo hash e comparar\r\n            const newHash = await bcrypt.hash(password, 10)\r\n            console.log('   Novo hash gerado para compara├º├úo visual:', newHash)\r\n        }\r\n\r\n    } catch (e) {\r\n        console.error('ÔØî Erro no teste:', e)\r\n    } finally {\r\n        await prisma.$disconnect()\r\n    }\r\n}\r\n\r\nasync function main() {\r\n    console.log('--- DIAGN├ôSTICO DE AUTENTICA├ç├âO ---')\r\n    await testAuth('admin@checkout.com', 'admin123')\r\n    await testAuth('teste@infoprodutor.com', '123456')\r\n    console.log('-----------------------------------')\r\n}\r\n\r\nmain()\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\scripts\\generate-keys.js","messages":[{"ruleId":"import/order","severity":1,"message":"There should be at least one empty line between import groups","line":1,"column":17,"nodeType":"CallExpression","endLine":1,"endColumn":36,"fix":{"range":[36,36],"text":"\n"}},{"ruleId":"import/order","severity":1,"message":"`fs` import should occur before import of `web-push`","line":2,"column":12,"nodeType":"CallExpression","endLine":2,"endColumn":25,"fix":{"range":[0,65],"text":"const fs = require('fs');\r\nconst webpush = require('web-push');\r\n"}},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":6,"column":1,"nodeType":"MemberExpression","messageId":"unexpected","endLine":6,"endColumn":12,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[189,238],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"const webpush = require('web-push');\r\nconst fs = require('fs');\r\n\r\nconst vapidKeys = webpush.generateVAPIDKeys();\r\nfs.writeFileSync('vapid_keys.json', JSON.stringify(vapidKeys, null, 2));\r\nconsole.log('Keys generated to vapid_keys.json');\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\lenom\\OneDrive\\├ürea de Trabalho\\C├│digo Fonte\\checkout-nextjs\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
